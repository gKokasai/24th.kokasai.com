/*! For license information please see main.27c467c2.js.LICENSE.txt */
!function(){"use strict";var e={463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),S=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var j=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=j&&e[j]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var B=!1;function U(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case E:return"Profiler";case I:return"StrictMode";case C:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function $(e,t){J(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ae(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Ie=null;function Ee(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Te(e){_e?Ie?Ie.push(e):Ie=[e]:_e=e}function Se(){if(_e){var e=_e,t=Ie;if(Ie=_e=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ne(e,t){return e(t)}function Ce(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ne(e,t,n)}finally{Ae=!1,(null!==_e||null!==Ie)&&(Ce(),Se())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var je={};Object.defineProperty(je,"passive",{get:function(){Re=!0}}),window.addEventListener("test",je,je),window.removeEventListener("test",je,je)}catch(le){Re=!1}function Oe(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Me=null,Fe=!1,Be=null,Ue={onError:function(e){Le=!0,Me=e}};function Ve(e,t,n,r,i,a,o,s,u){Le=!1,Me=null,Oe.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(ze(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ge(i),e;if(o===r)return Ge(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Je=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,It,Et,Tt=!1,St=[],Nt=null,Ct=null,At=null,Pt=new Map,Dt=new Map,Rt=[],jt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Bt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){Tt=!1,null!==Nt&&Ft(Nt)&&(Nt=null),null!==Ct&&Ft(Ct)&&(Ct=null),null!==At&&Ft(At)&&(At=null),Pt.forEach(Bt),Dt.forEach(Bt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Vt(t,e)}if(0<St.length){Vt(St[0],e);for(var n=1;n<St.length;n++){var r=St[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&Vt(Nt,e),null!==Ct&&Vt(Ct,e),null!==At&&Vt(At,e),Pt.forEach(t),Dt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Rt.shift()}var qt=b.ReactCurrentBatchConfig,Gt=!0;function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){if(Gt){var i=Yt(e,t,n,r);if(null===i)Gr(e,t,r,Qt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nt=Lt(Nt,e,t,n,r,i),!0;case"dragenter":return Ct=Lt(Ct,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Lt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Lt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<jt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Gr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=M({},cn,{view:0,detail:0}),hn=an(fn),dn=M({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(M({},dn,{dataTransfer:0})),mn=an(M({},fn,{relatedTarget:0})),gn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(yn),bn=an(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function En(){return In}var Tn=M({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=an(Tn),Nn=an(M({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=an(M({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),An=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=M({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(Pn),Rn=[9,13,27,32],jn=l&&"CompositionEvent"in window,On=null;l&&"documentMode"in document&&(On=document.documentMode);var Ln=l&&"TextEvent"in window&&!On,Mn=l&&(!jn||On&&8<On&&11>=On),Fn=String.fromCharCode(32),Bn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){Te(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Hn=null;function Qn(e){Fr(e,0)}function Yn(e){if(H(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(l){var $n;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Hn=Wn=null)}function nr(e){if("value"===e.propertyName&&Yn(Hn)){var t=[];Kn(t,Hn,e,we(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Hn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Wr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Ir={};function Er(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return _r[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Tr=Er("animationend"),Sr=Er("animationiteration"),Nr=Er("animationstart"),Cr=Er("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Ar.set(e,t),u(t,[e])}for(var Rr=0;Rr<Pr.length;Rr++){var jr=Pr[Rr];Dr(jr.toLowerCase(),"on"+(jr[0].toUpperCase()+jr.slice(1)))}Dr(Tr,"onAnimationEnd"),Dr(Sr,"onAnimationIteration"),Dr(Nr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Ve.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Me;Le=!1,Me=null,Fe||(Fe=!0,Be=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Mr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Mr(i,s,c),a=u}}}if(Fe)throw e=Be,Fe=!1,Be=null,e}function Br(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Kt;break;case 4:i=Wt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=a,i=we(n),o=[];e:{var s=Ar.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Sn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Cn;break;case Tr:case Sr:case Nr:u=gn;break;case Cr:u=An;break;case"scroll":u=hn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Nn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=De(p,h))&&l.push(Kr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Nn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:bi(u),d=null==c?s:bi(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,yi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Hr(d))p++;for(d=0,v=h;v;v=Hr(v))d++;for(;0<p-d;)l=Hr(l),p--;for(;0<d-p;)h=Hr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Hr(l),h=Hr(h)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Xn;else if(Gn(s))if(Jn)m=or;else{m=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?bi(r):window,e){case"focusin":(Gn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var y;if(jn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?Un(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(y=en()):($t="value"in(Jt=i)?Jt.value:Jt.textContent,zn=!0)),0<(g=Wr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:g}),y?k.data=y:null!==(y=Vn(n))&&(k.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Bn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!jn&&Un(e,t)?(e=en(),Zt=$t=Jt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Fr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=De(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=De(n,a))&&o.unshift(Kr(n,u,s)):i||null!=(u=De(n,a))&&o.push(Kr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function $r(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Ii(e){return{current:e}}function Ei(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ti(e,t){_i++,xi[_i]=e.current,e.current=t}var Si={},Ni=Ii(Si),Ci=Ii(!1),Ai=Si;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ei(Ci),Ei(Ni)}function ji(e,t,n){if(Ni.current!==Si)throw Error(a(168));Ti(Ni,t),Ti(Ci,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Ai=Ni.current,Ti(Ni,e),Ti(Ci,Ci.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Oi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ci),Ei(Ni),Ti(Ni,e)):Ei(Ci),Ti(Ci,n)}var Fi=null,Bi=!1,Ui=!1;function Vi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=kt;try{var n=Fi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Bi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),He(Ze,zi),i}finally{kt=t,Ui=!1}}return null}var qi=[],Gi=0,Ki=null,Wi=0,Hi=[],Qi=0,Yi=null,Xi=1,Ji="";function $i(e,t){qi[Gi++]=Wi,qi[Gi++]=Ki,Ki=e,Wi=t}function Zi(e,t,n){Hi[Qi++]=Xi,Hi[Qi++]=Ji,Hi[Qi++]=Yi,Yi=e;var r=Xi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else Xi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function ta(e){for(;e===Ki;)Ki=qi[--Gi],qi[Gi]=null,Wi=qi[--Gi],qi[Gi]=null;for(;e===Yi;)Yi=Hi[--Qi],Hi[Qi]=null,Ji=Hi[--Qi],Hi[Qi]=null,Xi=Hi[--Qi],Hi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Ii(null),ya=null,ka=null,ba=null;function wa(){ba=ka=ya=null}function xa(e){var t=ga.current;Ei(ga),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ia(e,t){ya=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ya)throw Error(a(308));ka=e,ya.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ta=null;function Sa(e){null===Ta?Ta=[e]:Ta.push(e)}function Na(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Sa(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ca(e,r)}function Ca(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ja(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ca(e,n)}return null===(i=r.interleaved)?(t.next=t,Sa(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ca(e,n)}function Oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ma(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=M({},f,h);break e;case 2:Aa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Mu|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ba=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Va={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ja(e,a,i))&&(rc(t,e,i,r),Oa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ja(e,a,i))&&(rc(t,e,i,r),Oa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=ja(e,i,r))&&(rc(t,e,r,n),Oa(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Si,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Di(t)?Ai:Ni.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Si),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ga(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ba,Pa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Di(t)?Ai:Ni.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Va.enqueueReplaceState(i,i.state,null),Ma(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ba&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=jc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case x:return(t=Bc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ha(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:f(e,t,n,r,null);Ha(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return f(t,e=e.get(n)||null,r,i,null);Ha(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(i,f),ia&&$i(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&$i(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&$i(i,v),c}function m(i,s,u,c){var l=O(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var k=d(i,v,y.value,c);if(null===k){null===v&&(v=g);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,m),null===f?l=k:f.sibling=k,f=k,v=g}if(y.done)return n(i,v),ia&&$i(i,m),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=h(i,y.value,c))&&(s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return ia&&$i(i,m),l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&$i(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Wa(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Lc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Oc(o.type,o.key,o.props,null,r.mode,u)).ref=Wa(r,a,o),u.return=r,r=u)}return s(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Bc(o,r.mode,u)).return=r,r=a}return s(r);case D:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(O(o))return m(r,a,o,u);Ha(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Xa=Ya(!0),Ja=Ya(!1),$a={},Za=Ii($a),eo=Ii($a),to=Ii($a);function no(e){if(e===$a)throw Error(a(174));return e}function ro(e,t){switch(Ti(to,t),Ti(eo,e),Ti(Za,$a),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),Ti(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ti(eo,e),Ti(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var so=Ii(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,go=null,yo=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,go=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(ko)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,go=mo=vo=null,yo=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==bo;return bo=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function So(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function No(e,t){return"function"===typeof t?t(e):t}function Co(e){var t=So(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,Mu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Mu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=So(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Do(e,t){var n=vo,r=So(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Go(Oo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,Bo(9,jo.bind(null,n,r,i,t),void 0,null),null===Au)throw Error(a(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function jo(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Mo(e)}function Oo(e,t,n){return n((function(){Lo(t)&&Mo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Mo(e){var t=Ca(e,1);null!==t&&rc(t,e,1,-1)}function Fo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Bo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return So().memoizedState}function Vo(e,t,n,r){var i=To();vo.flags|=e,i.memoizedState=Bo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=So();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Bo(t,n,a,r))}vo.flags|=e,i.memoizedState=Bo(1|t,n,a,r)}function qo(e,t){return Vo(8390656,8,e,t)}function Go(e,t){return zo(2048,8,e,t)}function Ko(e,t){return zo(4,2,e,t)}function Wo(e,t){return zo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Ho.bind(null,t,e),n)}function Yo(){}function Xo(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $o(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Mu|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function es(){return So().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Na(e,t,n,r))){rc(n,e,r,tc()),as(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Sa(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Na(e,t,i,r))&&(rc(n,e,r,i=tc()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){ko=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:Ea,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},ss={readContext:Ea,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=To();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=To();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:Fo,useDebugValue:Yo,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=To();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Au)throw Error(a(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Oo.bind(null,r,o,e),[e]),r.flags|=2048,Bo(9,jo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=To(),t=Au.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ea,useCallback:Xo,useContext:Ea,useEffect:Go,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Wo,useMemo:Jo,useReducer:Co,useRef:Uo,useState:function(){return Co(No)},useDebugValue:Yo,useDeferredValue:function(e){return $o(So(),mo.memoizedState,e)},useTransition:function(){return[Co(No)[0],So().memoizedState]},useMutableSource:Po,useSyncExternalStore:Do,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ea,useCallback:Xo,useContext:Ea,useEffect:Go,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Wo,useMemo:Jo,useReducer:Ao,useRef:Uo,useState:function(){return Ao(No)},useDebugValue:Yo,useDeferredValue:function(e){var t=So();return null===mo?t.memoizedState=e:$o(t,mo.memoizedState,e)},useTransition:function(){return[Ao(No)[0],So().memoizedState]},useMutableSource:Po,useSyncExternalStore:Do,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ku||(Ku=!0,Wu=r),hs(0,t)},n}function vs(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Hu?Hu=new Set([this]):Hu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,ja(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ks=b.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Xa(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var a=t.ref;return Ia(t,i),r=Io(e,t,n,r,a,i),n=Eo(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function _s(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Is(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Ks(e,t,i)}return t.flags|=1,(e=jc(a,r)).ref=t.ref,e.return=t,t.child=e}function Is(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ks(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Ss(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(ju,Ru),Ru|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(ju,Ru),Ru|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ti(ju,Ru),Ru|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ti(ju,Ru),Ru|=r;return ws(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ss(e,t,n,r,i){var a=Di(n)?Ai:Ni.current;return a=Pi(t,a),Ia(t,i),n=Io(e,t,n,r,a,i),r=Eo(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function Ns(e,t,n,r,i){if(Di(n)){var a=!0;Li(t)}else a=!1;if(Ia(t,i),null===t.stateNode)Gs(e,t),qa(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Pi(t,c=Di(n)?Ai:Ni.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Ga(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,Ma(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ci.current||Aa?("function"===typeof l&&(Ua(t,n,l,r),u=t.memoizedState),(s=Aa||za(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Da(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ea(u):u=Pi(t,u=Di(n)?Ai:Ni.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Ga(t,o,r,u),Aa=!1,h=t.memoizedState,o.state=h,Ma(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ci.current||Aa?("function"===typeof d&&(Ua(t,n,d,r),p=t.memoizedState),(c=Aa||za(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Cs(e,t,n,r,a,i)}function Cs(e,t,n,r,i,a){Ts(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),Ks(e,t,a);r=t.stateNode,ks.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?ji(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ji(0,t.context,!1),ro(e,t.containerInfo)}function Ps(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Ds,Rs,js,Os,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Mc(u,i,0,null),e=Lc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Ls,e):Bs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Au)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ca(e,i),rc(r,e,i,-1))}return mc(),Us(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Nc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Hi[Qi++]=Xi,Hi[Qi++]=Ji,Hi[Qi++]=Yi,Xi=e.id,Ji=e.overflow,Yi=t),t=Bs(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=jc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=jc(r,s):(s=Lc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=jc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Bs(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&pa(r),Xa(t,e.child,null,n),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function zs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,a);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ks(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=jc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=jc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hs(t),null;case 1:case 17:return Di(t.type)&&Ri(),Hs(t),null;case 3:return r=t.stateNode,io(),Ei(Ci),Ei(Ni),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Rs(e,t),Hs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)js(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Hs(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Br(Or[i],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":X(r,o),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Br("invalid",r);break;case"textarea":ie(r,o),Br("invalid",r)}for(var u in ye(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Br("scroll",r)}switch(n){case"input":W(r),Z(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Ds(e,t,!1,!1),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Br(Or[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Br("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Br("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Br("scroll",e):null!=l&&k(e,o,l,u))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hs(t),null;case 6:if(e&&null!=t.stateNode)Os(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Hs(t),null;case 13:if(Ei(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hs(t),o=!1}else null!==aa&&(sc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Ou&&(Ou=3):mc())),null!==t.updateQueue&&(t.flags|=4),Hs(t),null);case 4:return io(),Rs(e,t),null===e&&zr(t.stateNode.containerInfo),Hs(t),null;case 10:return xa(t.type._context),Hs(t),null;case 19:if(Ei(so),null===(o=t.memoizedState))return Hs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ws(o,!1);else{if(0!==Ou||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ws(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>qu&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Hs(t),null}else 2*Je()-o.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=so.current,Ti(so,r?1&n|2:1&n),t):(Hs(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ru)&&(Hs(t),6&t.subtreeFlags&&(t.flags|=8192)):Hs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return Di(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ci),Ei(Ni),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(so),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ds=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(){},js=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Br("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Os=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,Js=!1,$s="function"===typeof WeakSet?WeakSet:Set,Zs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var fu=null,hu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Js||eu(n,t);case 6:var r=fu,i=hu;fu=null,du(e,t,n),hu=i,null!==(fu=r)&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),zt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=hu,fu=n.stateNode.containerInfo,hu=!0,du(e,t,n),fu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Js&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,du(e,t,n),Js=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,hu=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===fu)throw Error(a(160));pu(o,s,i),fu=null,hu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),yu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){Ec(e,e.return,m)}try{ru(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&J(i,o),ke(u,s);var l=ke(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(u){case"input":$(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ec(e,e.return,m)}}break;case 6:if(mu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ec(e,e.return,m)}}break;case 3:if(mu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:mu(t,e),yu(e);break;case 13:mu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zu=Je())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(l=Js)||f,mu(t,e),Js=l):mu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zs=e,f=e.child;null!==f;){for(h=Zs=f;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){xu(h);continue}}null!==p?(p.return=d,Zs=p):xu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Ec(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mu(t,e),yu(e),4&r&&vu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ku(e,t,n){Zs=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xs;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Js;s=Xs;var c=Js;if(Xs=o,(Js=u)&&!c)for(Zs=i;null!==Zs;)u=(o=Zs).child,22===o.tag&&null!==o.memoizedState?_u(i):null!==u?(u.return=o,Zs=u):_u(i);for(;null!==a;)Zs=a,bu(a,t,n),a=a.sibling;Zs=i,Xs=s,Js=c}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):wu(e)}}function wu(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Js||512&t.flags&&au(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function xu(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function _u(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Ec(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ec(t,i,u)}}var a=t.return;try{au(t)}catch(u){Ec(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Ec(t,o,u)}}}catch(u){Ec(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Iu,Eu=Math.ceil,Tu=b.ReactCurrentDispatcher,Su=b.ReactCurrentOwner,Nu=b.ReactCurrentBatchConfig,Cu=0,Au=null,Pu=null,Du=0,Ru=0,ju=Ii(0),Ou=0,Lu=null,Mu=0,Fu=0,Bu=0,Uu=null,Vu=null,zu=0,qu=1/0,Gu=null,Ku=!1,Wu=null,Hu=null,Qu=!1,Yu=null,Xu=0,Ju=0,$u=null,Zu=-1,ec=0;function tc(){return 0!==(6&Cu)?Je():-1!==Zu?Zu:Zu=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Cu)&&0!==Du?Du&-Du:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rc(e,t,n,r){if(50<Ju)throw Ju=0,$u=null,Error(a(185));gt(e,n,r),0!==(2&Cu)&&e===Au||(e===Au&&(0===(2&Cu)&&(Fu|=n),4===Ou&&uc(e,Du)),ic(e,r),1===n&&0===Cu&&0===(1&t.mode)&&(qu=Je()+500,Bi&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Au?Du:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Bi=!0,Vi(e)}(cc.bind(null,e)):Vi(cc.bind(null,e)),oi((function(){0===(6&Cu)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zu=-1,ec=0,0!==(6&Cu))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Au?Du:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Cu;Cu|=2;var o=vc();for(Au===e&&Du===t||(Gu=null,qu=Je()+500,dc(e,t));;)try{kc();break}catch(u){pc(e,u)}wa(),Tu.current=o,Cu=i,null!==Pu?t=0:(Au=null,Du=0,t=Ou)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Lu,dc(e,0),uc(e,r),ic(e,Je()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Lu,dc(e,0),uc(e,r),ic(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,Vu,Gu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=zu+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Vu,Gu),t);break}xc(e,Vu,Gu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Vu,Gu),r);break}xc(e,Vu,Gu);break;default:throw Error(a(329))}}}return ic(e,Je()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Vu,Vu=n,null!==t&&sc(t)),e}function sc(e){null===Vu?Vu=e:Vu.push.apply(Vu,e)}function uc(e,t){for(t&=~Bu,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Cu))throw Error(a(327));_c();var t=ht(e,0);if(0===(1&t))return ic(e,Je()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Lu,dc(e,0),uc(e,t),ic(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Vu,Gu),ic(e,Je()),null}function lc(e,t){var n=Cu;Cu|=1;try{return e(t)}finally{0===(Cu=n)&&(qu=Je()+500,Bi&&zi())}}function fc(e){null!==Yu&&0===Yu.tag&&0===(6&Cu)&&_c();var t=Cu;Cu|=1;var n=Nu.transition,r=kt;try{if(Nu.transition=null,kt=1,e)return e()}finally{kt=r,Nu.transition=n,0===(6&(Cu=t))&&zi()}}function hc(){Ru=ju.current,Ei(ju)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pu)for(n=Pu.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),Ei(Ci),Ei(Ni),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(so);break;case 10:xa(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Au=e,Pu=e=jc(e.current,null),Du=Ru=t,Ou=0,Lu=null,Bu=Fu=Mu=0,Vu=Uu=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(r=(n=Ta[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ta=null}return e}function pc(e,t){for(;;){var n=Pu;try{if(wa(),fo.current=os,yo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,go=mo=vo=null,ko=!1,bo=0,Su.current=null,null===n||null===n.return){Ou=1,Lu=t,Pu=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Du,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Ou&&(Ou=2),null===Uu?Uu=[o]:Uu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,ps(0,c,t));break e;case 1:u=c;var y=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Hu||!Hu.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,Pu===n&&null!==n&&(Pu=n=n.return);continue}break}}function vc(){var e=Tu.current;return Tu.current=os,null===e?os:e}function mc(){0!==Ou&&3!==Ou&&2!==Ou||(Ou=4),null===Au||0===(268435455&Mu)&&0===(268435455&Fu)||uc(Au,Du)}function gc(e,t){var n=Cu;Cu|=2;var r=vc();for(Au===e&&Du===t||(Gu=null,dc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(wa(),Cu=n,Tu.current=r,null!==Pu)throw Error(a(261));return Au=null,Du=0,Ou}function yc(){for(;null!==Pu;)bc(Pu)}function kc(){for(;null!==Pu&&!Ye();)bc(Pu)}function bc(e){var t=Iu(e.alternate,e,Ru);e.memoizedProps=e.pendingProps,null===t?wc(e):Pu=t,Su.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,Ru)))return void(Pu=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Pu=n);if(null===e)return Ou=6,void(Pu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pu=t);Pu=t=e}while(null!==t);0===Ou&&(Ou=5)}function xc(e,t,n){var r=kt,i=Nu.transition;try{Nu.transition=null,kt=1,function(e,t,n,r){do{_c()}while(null!==Yu);if(0!==(6&Cu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Au&&(Pu=Au=null,Du=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qu||(Qu=!0,Ac(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Nu.transition,Nu.transition=null;var s=kt;kt=1;var u=Cu;Cu|=4,Su.current=null,function(e,t){if(ei=Gt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,k=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=nu,nu=!1}(e,n),gu(n,e),pr(ti),Gt=!!ei,ti=ei=null,e.current=n,ku(n,e,i),Xe(),Cu=u,kt=s,Nu.transition=o}else e.current=n;if(Qu&&(Qu=!1,Yu=e,Xu=i),o=e.pendingLanes,0===o&&(Hu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ku)throw Ku=!1,e=Wu,Wu=null,e;0!==(1&Xu)&&0!==e.tag&&_c(),o=e.pendingLanes,0!==(1&o)?e===$u?Ju++:(Ju=0,$u=e):Ju=0,zi()}(e,t,n,r)}finally{Nu.transition=i,kt=r}return null}function _c(){if(null!==Yu){var e=bt(Xu),t=Nu.transition,n=kt;try{if(Nu.transition=null,kt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,Xu=0,0!==(6&Cu))throw Error(a(331));var i=Cu;for(Cu|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Zs=l;null!==Zs;){var f=Zs;switch(f.tag){case 0:case 11:case 15:ru(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zs=h;else for(;null!==Zs;){var d=(f=Zs).sibling,p=f.return;if(ou(f),f===l){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Zs=y;break e}Zs=o.return}}var k=e.current;for(Zs=k;null!==Zs;){var b=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Zs=b;else e:for(s=k;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(x){Ec(u,u.return,x)}if(u===s){Zs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Zs=w;break e}Zs=u.return}}if(Cu=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Nu.transition=t}}return!1}function Ic(e,t,n){e=ja(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(gt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Ic(e,e,n);else for(;null!==t;){if(3===t.tag){Ic(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hu||!Hu.has(r))){t=ja(t,e=vs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(gt(t,1,e),ic(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Au===e&&(Du&n)===n&&(4===Ou||3===Ou&&(130023424&Du)===Du&&500>Je()-zu?dc(e,0):Bu|=n),ic(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Ca(e,t))&&(gt(e,t,n),ic(e,n))}function Nc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Sc(e,n)}function Ac(e,t){return He(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Pc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Rc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Lc(n.children,i,o,t);case I:s=8,i|=8;break;case E:return(e=Dc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case C:return(e=Dc(13,n,t,i)).elementType=C,e.lanes=o,e;case A:return(e=Dc(19,n,t,i)).elementType=A,e.lanes=o,e;case R:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case S:s=9;break e;case N:s=11;break e;case P:s=14;break e;case D:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Dc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function Bc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,s,u){return e=new Uc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Dc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(a),e}function zc(e){if(!e)return Si;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Oi(e,n,t)}return t}function qc(e,t,n,r,i,a,o,s,u){return(e=Vc(n,r,!0,e,0,a,0,s,u)).context=zc(null),n=e.current,(a=Ra(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,ja(n,a,i),e.current.lanes=i,gt(e,i,r),ic(e,r),e}function Gc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=ja(i,t,o))&&(rc(e,i,o,a),Oa(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Iu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:As(t),da();break;case 5:ao(t);break;case 1:Di(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ti(so,1&so.current),null!==(e=Ks(e,t,n))?e.sibling:null);Ti(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Ks(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gs(e,t),e=t.pendingProps;var i=Pi(t,Ni.current);Ia(t,n),i=Io(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Pa(t),i.updater=Va,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Cs(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===P)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Ss(null,t,r,e,n);break e;case 1:t=Ns(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=_s(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ns(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(As(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Da(e,t),Ma(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ps(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ks(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ts(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ti(ga,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ci.current){t=Ks(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ra(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),_a(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ia(t,n),r=r(i=Ea(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_s(e,t,r,i=ma(r.type,i),n);case 15:return Is(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Gs(e,t),t.tag=1,Di(r)?(e=!0,Li(t)):e=!1,Ia(t,n),qa(t,r,i),Ka(t,r,i,n),Cs(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Kc(o);s.call(e)}}Gc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Kc(u);s.call(e)}}var u=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,zr(8===e.nodeType?e.parentNode:e),fc((function(){Gc(t,u,n,r)})),u}(n,t,e,i,r);return Kc(o)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Gc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Gc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Je()),0===(6&Cu)&&(qu=Je()+500,zi()))}break;case 13:fc((function(){var t=Ca(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Hc(e,1)}},xt=function(e){if(13===e.tag){var t=Ca(e,134217728);if(null!==t)rc(t,e,134217728,tc());Hc(e,134217728)}},_t=function(e){if(13===e.tag){var t=nc(e),n=Ca(e,t);if(null!==n)rc(n,e,t,tc());Hc(e,t)}},It=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),$(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=lc,Ce=fc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Te,Se,lc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=k.prototype=new y;b.constructor=k,v(b,g.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:_.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+N(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(S,"$&/")+"/"),C(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+N(s=e[c],c);u+=C(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=C(s=s.value,t,i,l=a+N(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},R={transition:null},j={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:R,ReactCurrentOwner:_};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,R(x);else{var t=r(l);null!==t&&j(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,y(T),T=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!C());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&j(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,I=!1,E=null,T=-1,S=5,N=-1;function C(){return!(t.unstable_now()-N<S)}function A(){if(null!==E){var e=t.unstable_now();N=e;var n=!0;try{n=E(!0,e)}finally{n?_():(I=!1,E=null)}}else I=!1}if("function"===typeof k)_=function(){k(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,D=P.port2;P.port1.onmessage=A,_=function(){D.postMessage(null)}}else _=function(){g(A,0)};function R(e){E=e,I||(I=!0,_())}function j(e,n){T=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(y(T),T=-1):m=!0,j(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,R(x))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".9862a9bc.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="24th.kokasai.com:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunk_24th_kokasai_com=self.webpackChunk_24th_kokasai_com||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){var e={};n.r(e),n.d(e,{FirebaseError:function(){return ct},SDK_VERSION:function(){return _n},_DEFAULT_ENTRY_NAME:function(){return ln},_addComponent:function(){return pn},_addOrOverwriteComponent:function(){return vn},_apps:function(){return hn},_clearComponents:function(){return kn},_components:function(){return dn},_getProvider:function(){return gn},_registerComponent:function(){return mn},_removeServiceInstance:function(){return yn},deleteApp:function(){return Sn},getApp:function(){return En},getApps:function(){return Tn},initializeApp:function(){return In},onLog:function(){return An},registerVersion:function(){return Cn},setLogLevel:function(){return Pn}});var t=n(791),r=n.t(t,2),i=n(250),a={access:{displayName:"\u30a2\u30af\u30bb\u30b9",path:"/access",icon:"".concat("","/img/menuBarIcon/accessIcon.png")},event:{displayName:"\u30b9\u30c6\u30fc\u30b8\u4f01\u753b",path:"/event",icon:"".concat("","/img/menuBarIcon/eventIcon.png")},home:{displayName:"\u30db\u30fc\u30e0",path:"/",icon:"".concat("","/img/menuBarIcon/homeIcon.png")},map:{displayName:"\u30de\u30c3\u30d7",path:"/map",icon:"".concat("","/img/menuBarIcon/mapIcon.png")},project:{displayName:"\u4f01\u753b",path:"/project",icon:"".concat("","/img/menuBarIcon/projectIcon.png")},credit:{displayName:"\u30af\u30ec\u30b8\u30c3\u30c8",path:"/credit"},inquiry:{displayName:"\u304a\u554f\u5408\u305b",path:"/inquiry"},apologize:{displayName:"\u4f5c\u6210\u4e2d",path:"/apologize"},projectDetail:{displayName:"\u4f01\u753b\u8a73\u7d30",path:"/projectDetail"},page404:{displayName:"404",path:"*"}},o=n(184);var s=function(){return(0,o.jsxs)("div",{className:"footer",children:[(0,o.jsxs)("div",{className:"pageListArea",children:[(0,o.jsx)("p",{className:"heading3 textWhite",children:"\u30da\u30fc\u30b8\u4e00\u89a7"}),(0,o.jsx)("p",{children:(0,o.jsx)("a",{href:a.access.path,className:"pathStyle",children:a.access.displayName})}),(0,o.jsx)("p",{children:(0,o.jsx)("a",{href:a.event.path,className:"pathStyle",children:a.event.displayName})}),(0,o.jsx)("p",{children:(0,o.jsx)("a",{href:a.home.path,className:"pathStyle",children:a.home.displayName})}),(0,o.jsx)("p",{children:(0,o.jsx)("a",{href:a.map.path,className:"pathStyle",children:a.map.displayName})}),(0,o.jsx)("p",{children:(0,o.jsx)("a",{href:a.project.path,className:"pathStyle",children:a.project.displayName})}),(0,o.jsx)("p",{className:"heading3 textWhite",children:"\u305d\u306e\u4ed6"}),(0,o.jsx)("p",{children:(0,o.jsx)("a",{href:a.credit.path,className:"pathStyle",children:a.credit.displayName})}),(0,o.jsx)("p",{children:(0,o.jsx)("a",{href:a.inquiry.path,className:"pathStyle",children:a.inquiry.displayName})})]}),(0,o.jsxs)("div",{className:"snsListArea",children:[(0,o.jsx)("p",{className:"heading3 textWhite",children:"\u516c\u5f0fSNS"}),(0,o.jsx)("a",{href:"https://twitter.com/nitgc_kokasai",target:"_blank",rel:"noreferrer noopener",children:(0,o.jsx)("img",{src:"".concat("","/img/snsIcon/XIcon.png"),className:"snsIcon"})}),(0,o.jsx)("a",{href:"https://instagram.com/nitgc_kokasai",target:"_blank",rel:"noreferrer noopener",children:(0,o.jsx)("img",{src:"".concat("","/img/snsIcon/instagramIcon.png"),className:"snsIcon"})})]}),(0,o.jsx)("p",{className:"copyrightMark",children:"\xa9 2023 \u5de5\u83ef\u796d\u5b9f\u884c\u59d4\u54e1\u4f1a"})]})};var u=function(){return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{id:"menuBar",className:"responsiveWidth menuBar",children:[(0,o.jsxs)("div",{className:"menuButtons",id:"accessButton",children:[(0,o.jsx)("a",{href:a.access.path,children:(0,o.jsx)("img",{className:"menuImages",src:a.access.icon})}),(0,o.jsx)("div",{className:"menuTextArea",children:(0,o.jsx)("span",{className:"menuText",children:a.access.displayName})})]}),(0,o.jsxs)("div",{className:"menuButtons",id:"eventButton",children:[(0,o.jsx)("a",{href:a.event.path,children:(0,o.jsx)("img",{className:"menuImages",src:a.event.icon})}),(0,o.jsx)("div",{className:"menuTextArea",children:(0,o.jsx)("span",{className:"menuText",children:a.event.displayName})})]}),(0,o.jsxs)("div",{className:"menuButtons",id:"homeButton",children:[(0,o.jsx)("a",{href:a.home.path,children:(0,o.jsx)("img",{className:"menuImages",src:a.home.icon})}),(0,o.jsx)("div",{className:"menuTextArea",children:(0,o.jsx)("span",{className:"menuText",children:a.home.displayName})})]}),(0,o.jsxs)("div",{className:"menuButtons",id:"mapButton",children:[(0,o.jsx)("a",{href:a.map.path,children:(0,o.jsx)("img",{className:"menuImages",src:a.map.icon})}),(0,o.jsx)("div",{className:"menuTextArea",children:(0,o.jsx)("span",{className:"menuText",children:a.map.displayName})})]}),(0,o.jsxs)("div",{className:"menuButtons",id:"projectButton",children:[(0,o.jsx)("a",{href:a.project.path,children:(0,o.jsx)("img",{className:"menuImages",src:a.project.icon})}),(0,o.jsx)("div",{className:"menuTextArea",children:(0,o.jsx)("span",{className:"menuText",children:a.project.displayName})})]})]})})};function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function f(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}var h=function(e){var t=e.children;return(0,o.jsx)("div",{className:"accessContent",children:(0,o.jsx)("div",{className:"accessContent_innerBlock",children:t})})};var d=function(){return window.addEventListener("scroll",(function(){var e,t=this.window.scrollY,n=this.window.innerHeight,r=f(this.document.getElementsByClassName("accessContent"));try{for(r.s();!(e=r.n()).done;){var i=e.value;t>i.getBoundingClientRect().top+t-.7*n&&(i.style.animationName="accessContentAnimation")}}catch(a){r.e(a)}finally{r.f()}})),(0,t.useEffect)((function(){for(var e=document.getElementById("fishArea"),t=0;t<3;t++)for(var n=0;n<6;n++){var r=document.createElement("img");r.classList.add("fish");var i=Math.floor(3*Math.random());0==i?(r.src="".concat("","/img/utility/fish1.png"),r.style.transform="scale(-1,1) rotate(45deg)"):1==i?(r.src="".concat("","/img/utility/fish2.png"),r.style.transform="scale(-1,1) rotate(45deg)"):2==i&&(r.src="".concat("","/img/utility/fish3.png"),r.style.transform="scale(-1,1) rotate(0deg)"),r.style.animationDelay=.6*t+.4*Math.random()-.2+"s",r.style.animationName="fishAnimation",r.style.top=16*n-8+8*Math.random()-4+"%",e.appendChild(r)}setTimeout((function(){e.style.display="none"}),2700)}),[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("img",{src:"".concat("","/img/backGround/sea.jpg"),className:"backGroundImage responsiveWidth"}),(0,o.jsxs)("div",{className:"contents",children:[(0,o.jsxs)("div",{className:"contents_innerBlock",children:[(0,o.jsx)("br",{}),(0,o.jsx)("p",{className:"heading2",children:"\u5468\u8fba\u5730\u56f3"}),(0,o.jsx)("iframe",{id:"googleMap",className:"googleMap",src:"https://www.google.com/maps/d/embed?mid=1yr0FgpbJGUNZzaKegu56loIZQUq-Klo&ehbc=2E312F"}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)("p",{className:"heading2",children:"\u30a2\u30af\u30bb\u30b9"}),(0,o.jsxs)(h,{children:[(0,o.jsx)("p",{className:"heading3",children:"JR\u65b0\u524d\u6a4b\u99c5\u3088\u308a"}),(0,o.jsxs)("ul",{className:"ul_access",children:[(0,o.jsx)("li",{children:"\u5f92\u6b69\u7d0430\u5206"}),(0,o.jsx)("li",{children:"\u30bf\u30af\u30b7\u30fc\u7d0410\u5206"})]})]}),(0,o.jsxs)(h,{children:[(0,o.jsx)("p",{className:"heading3",children:"JR\u4e95\u91ce\u99c5\u3088\u308a"}),(0,o.jsx)("ul",{className:"ul_access",children:(0,o.jsxs)("li",{children:["\u30d0\u30b9\u7d0420\u5206",(0,o.jsx)("br",{}),"\u4e95\u91ce\u99c5\u5317\u30d0\u30b9\u505c",(0,o.jsx)("br",{}),"\u2003\u2193",(0,o.jsx)("br",{}),"\u5e02\u5185\u5faa\u74b0\u30d0\u30b9\u300c\u3050\u308b\u308a\u3093\u300d\u5927\u516b\u6728\u7dda\u30fb\u4e2d\u5c3e\u5148\u56de\u308a\u3067\u7d0420\u5206\uff08\u7cfb\u7d71\u756a\u53f76\uff09",(0,o.jsx)("br",{}),"\u2003\u2193",(0,o.jsx)("br",{}),"\u7fa4\u99ac\u9ad8\u5c02\u524d\u4e0b\u8eca"]})})]}),(0,o.jsxs)(h,{children:[(0,o.jsx)("p",{className:"heading3",children:"JR\u9ad8\u5d0e\u99c5\u3088\u308a"}),(0,o.jsxs)("ul",{className:"ul_access",children:[(0,o.jsxs)("li",{children:["\u30d0\u30b9\u7d0444\u5206",(0,o.jsx)("br",{}),"\u9ad8\u5d0e\u99c5\u897f\u53e3\u30d0\u30b9\u505c9\u756a\u306e\u308a\u3070",(0,o.jsx)("br",{}),"\u2003\u2193",(0,o.jsx)("br",{}),"\u5e02\u5185\u5faa\u74b0\u30d0\u30b9\u300c\u3050\u308b\u308a\u3093\u300d\u5927\u516b\u6728\u7dda\u30fb\u4e2d\u5c3e\u5148\u56de\u308a\uff08\u7cfb\u7d71\u756a\u53f76\uff09",(0,o.jsx)("br",{}),"\u2003\u2193",(0,o.jsx)("br",{}),"\u7fa4\u99ac\u9ad8\u5c02\u524d\u4e0b\u8eca"]}),(0,o.jsx)("li",{children:"\u30bf\u30af\u30b7\u30fc\u7d0430\u5206"})]})]}),(0,o.jsxs)(h,{children:[(0,o.jsx)("p",{className:"heading3",children:"\u95a2\u8d8a\u81ea\u52d5\u8eca\u9053 \u524d\u6a4b\u30a4\u30f3\u30bf\u30fc\u30c1\u30a7\u30f3\u30b8\u3088\u308a\uff08\u7d041km\uff09"}),(0,o.jsx)("ul",{className:"ul_access",children:(0,o.jsx)("li",{children:"\u8eca\u3067\u7d045\u5206"})})]}),(0,o.jsx)("br",{}),(0,o.jsx)("p",{className:"heading2",children:"\u99d0\u8eca\u5834\u30fb\u99d0\u8f2a\u5834\u306b\u3064\u3044\u3066"}),(0,o.jsx)(h,{children:(0,o.jsx)("ul",{className:"ul_access",children:(0,o.jsxs)("li",{children:["\u4e57\u7528\u8eca\u3067\u304a\u8d8a\u3057\u306e\u65b9\u306f\u3001\u5357\u897f\u306b\u3042\u308b",(0,o.jsx)("span",{className:"heading4",children:"\u5927\u99d0\u8eca\u5834"}),"\u3082\u3057\u304f\u306f",(0,o.jsx)("span",{className:"heading4",children:"\u5357\u9580\u304b\u3089\u5165\u3063\u3066\u53f3\u624b\u306e\u99d0\u8eca\u5834"}),"\u3092\u3054\u5229\u7528\u304f\u3060\u3055\u3044\u3002"]})})}),(0,o.jsx)(h,{children:(0,o.jsx)("ul",{className:"ul_access",children:(0,o.jsxs)("li",{children:["\u539f\u4ed8\u30fb\u30d0\u30a4\u30af\u3067\u304a\u8d8a\u3057\u306e\u65b9\u306f\u3001",(0,o.jsx)("span",{className:"heading4",children:"\u5927\u99d0\u8eca\u5834\u306e\u99d0\u8f2a\u30b9\u30da\u30fc\u30b9\u306e\u6771\u5074\u534a\u5206"}),"\u3092\u3054\u5229\u7528\u304f\u3060\u3055\u3044\u3002"]})})}),(0,o.jsx)(h,{children:(0,o.jsx)("ul",{className:"ul_access",children:(0,o.jsxs)("li",{children:["\u81ea\u8ee2\u8eca\u3067\u304a\u8d8a\u3057\u306e\u65b9\u306f\u3001",(0,o.jsx)("span",{className:"heading4",children:"\u6b63\u9580\u304b\u3089\u5165\u3063\u3066\u53f3\u5965\u306e\u99d0\u8f2a\u5834"}),"\u3092\u3054\u5229\u7528\u304f\u3060\u3055\u3044\u3002"]})})}),(0,o.jsxs)(h,{children:[(0,o.jsx)("p",{className:"heading3",children:"\u8af8\u6ce8\u610f"}),(0,o.jsxs)("p",{children:["\u203b\u99d0\u8eca\u5834\u306f\u4e21\u65e5",(0,o.jsx)("span",{className:"heading3",children:"9:30"}),"\u304b\u3089\u306e\u89e3\u653e\u3068\u306a\u308a\u307e\u3059\u3002"]}),(0,o.jsxs)("p",{children:["\u203b\u4e57\u7528\u8eca\u306f",(0,o.jsx)("span",{className:"heading4",children:"\u4e00\u5bb6\u65cf\u69d8\u306b\u3064\u304d\u4e00\u53f0"}),"\u3067\u306e\u6765\u5834\u3092\u304a\u9858\u3044\u3057\u307e\u3059\u3002"]}),(0,o.jsxs)("p",{children:["\u203b\u4ea4\u901a\u306e\u6df7\u4e71\u3092\u907f\u3051\u308b\u305f\u3081\u3001\u5927\u99d0\u8eca\u5834\u5165\u53e3\u524d\u306e\u9053\u8def\u306f",(0,o.jsx)("spam",{className:"heading4",children:"\u53f3\u6298\u7981\u6b62"}),"\u3068\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3059\u3002\u95a2\u8d8a\u81ea\u52d5\u8eca\u9053\u3092\u5229\u7528\u3057\u3066\u4e57\u7528\u8eca\u3067\u6765\u5834\u3055\u308c\u308b\u65b9\u306f\u7279\u306b\u3054\u6ce8\u610f\u304f\u3060\u3055\u3044\u3002"]}),(0,o.jsxs)("p",{children:["\u203b\u5f53\u65e5\u306f\u6df7\u96d1\u304c\u4e88\u60f3\u3055\u308c\u307e\u3059\u306e\u3067\u3001\u69cb\u5185\u306e\u99d0\u8eca\u5834\u3078\u306e\u99d0\u8eca\u304c\u53b3\u3057\u3044\u3068\u5224\u65ad\u3055\u308c\u305f\u5834\u5408\u3001",(0,o.jsx)("span",{className:"heading4",children:"\u65b0\u524d\u6a4b\u99c5\u4ed8\u8fd1\u306e\u6709\u6599\u99d0\u8eca\u5834\u3078\u306e\u99d0\u8eca\u3092\u304a\u9858\u3044\u3059\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059"}),"\u3002\u3042\u3089\u304b\u3058\u3081\u3054\u4e86\u627f\u304f\u3060\u3055\u3044\u3002"]})]}),(0,o.jsx)("br",{})]}),(0,o.jsx)("div",{id:"fishArea",className:"fishArea responsiveWidth"})]})]})},p=JSON.parse('["\u30b9\u30c6\u30fc\u30b8\u4f01\u753b",["1\u65e5\u76ee",{"groupName":"Art.Srv.","projectType":"\u30d0\u30f3\u30c9","performanceTime":"9:30~","imgPath":"./img/bandCircleCut/bcc1-1.jpg","SNSPath":"https://www.instagram.com/art_srv_"},{"groupName":"Pebbles","projectType":"\u30d0\u30f3\u30c9","performanceTime":"10:00~","imgPath":"./img/bandCircleCut/bcc1-2.jpg","SNSPath":""},{"groupName":"USHY","projectType":"\u30d0\u30f3\u30c9","performanceTime":"10:30~","imgPath":"./img/bandCircleCut/bcc1-3.jpg","SNSPath":""},{"groupName":"\u6b4c\u3068\u732b","projectType":"\u30d0\u30f3\u30c9","performanceTime":"11:00~","imgPath":"./img/bandCircleCut/bcc1-4.jpg","SNSPath":"https://www.instagram.com/song_and_cat"},{"groupName":"\u5bff\u53f8\u529b\u5b66","projectType":"\u30d0\u30f3\u30c9","performanceTime":"11:30~","imgPath":"./img/bandCircleCut/bcc1-5.jpg","SNSPath":"https://www.instagram.com/sushi._.mechanics"},{"groupName":"DOWNDRAFT","projectType":"\u30d0\u30f3\u30c9","performanceTime":"12:00~","imgPath":"./img/bandCircleCut/bcc1-6.jpg","SNSPath":"https://www.instagram.com/dowendraft"},{"groupName":"\u30b7\u30e5\u30ec\u30c7\u30a3\u30f3\u30ac\u30fc\u306e\u306d\u3053","projectType":"\u30d0\u30f3\u30c9","performanceTime":"12:30~","imgPath":"./img/bandCircleCut/bcc1-7.jpg","SNSPath":"https://www.instagram.com/shuredinga_noneko"},{"groupName":"The Brain earrings","projectType":"\u30d0\u30f3\u30c9","performanceTime":"13:00~","imgPath":"./img/bandCircleCut/bcc1-8.jpg","SNSPath":""},{"groupName":"\u30c0\u30f3\u30b9\u306e\u5b50","projectType":"\u30c0\u30f3\u30b9\u611b\u597d\u4f1a","performanceTime":"14:30~15:30","imgPath":"./img/circleCut/cc11-2.jpg","SNSPath":"https://www.instagram.com/nitgc.dance_official"},{"groupName":"\u30b3\u30b9\u30d7\u30ec\u30b3\u30f3\u30c6\u30b9\u30c8","projectType":"\u30b3\u30b9\u30d7\u30ec\u30b3\u30f3\u30c6\u30b9\u30c8","performanceTime":"15:30~16:00","imgPath":"","SNSPath":""}],["2\u65e5\u76ee",{"groupName":"\u30c0\u30f3\u30b9\u306e\u5b50","projectType":"\u30c0\u30f3\u30b9\u611b\u597d\u4f1a","performanceTime":"9:30~10:30","imgPath":"./img/circleCut/cc11-2.jpg","SNSPath":"https://www.instagram.com/nitgc.dance_official"},{"groupName":"\u3042\u3089\u304d\u306e\u3060\u3093\u3059\u3002","projectType":"\u6709\u5fd7\u30c0\u30f3\u30b9","performanceTime":"10:30~11:30","imgPath":"./img/bandCircleCut/bcc2-2.jpg","SNSPath":""},{"groupName":"\u52dd\u624b\u306b\u30a2\u30a4\u30c9\u30eb\u90e8","projectType":"\u6709\u5fd7\u30c0\u30f3\u30b9","performanceTime":"11:00~","imgPath":"./img/bandCircleCut/bcc2-3.jpg","SNSPath":"https://www.instagram.com/katteni_idol"},{"groupName":"Rear Bumper","projectType":"\u30d0\u30f3\u30c9","performanceTime":"12:30~","imgPath":"./img/bandCircleCut/bcc2-4.jpg","SNSPath":""},{"groupName":"\u671d\u304b\u3089\u6669\u307e\u3067\u3055\u3066\u3043\u3059\u3075\u3041\u3044","projectType":"\u30d0\u30f3\u30c9","performanceTime":"13:00~","imgPath":"./img/bandCircleCut/bcc2-5.jpg","SNSPath":""},{"groupName":"Independent cocoa","projectType":"\u30d0\u30f3\u30c9","performanceTime":"13:30~","imgPath":"./img/bandCircleCut/bcc2-6.jpg","SNSPath":"https://www.instagram.com/independentcocoa"},{"groupName":"Bloom","projectType":"\u30d0\u30f3\u30c9","performanceTime":"14:00~","imgPath":"./img/bandCircleCut/bcc2-7.jpg","SNSPath":"https://www.instagram.com/bloom_stpr"},{"groupName":"Twenty-Seven","projectType":"\u30d0\u30f3\u30c9","performanceTime":"14:30~","imgPath":"./img/bandCircleCut/bcc2-8.jpg","SNSPath":"https://www.instagram.com/twenty_seven808"},{"groupName":"Melty Popo","projectType":"\u30d0\u30f3\u30c9","performanceTime":"15:00~","imgPath":"./img/bandCircleCut/bcc2-9.jpg","SNSPath":""},{"groupName":"\u90a3\u7531\u591a","projectType":"\u30d0\u30f3\u30c9","performanceTime":"15:30~","imgPath":"./img/bandCircleCut/bcc2-10.jpg","SNSPath":""},{"groupName":"\u5287\u5834\u7248 \u9752\u6625\u304c\u3057\u305f\u3044\u5e73\u5ddd\u3010\u5b8c\u7d50\u7de8\u3011","projectType":"\u30d0\u30f3\u30c9","performanceTime":"16:00~","imgPath":"./img/bandCircleCut/bcc2-11.jpg","SNSPath":""}]]');var v=function(){var e=1;function n(t){for(var n in p[e])if(0!=n&&("\u6709\u5fd7\u30c0\u30f3\u30b9"==p[e][n].projectType||"\u30c0\u30f3\u30b9\u611b\u597d\u4f1a"==p[e][n].projectType)){var r=document.createElement("div");r.className="danceCCContent";var i=document.createElement("div");i.className="danceCCdescriptionArea";var a=document.createElement("div");a.className="danceCCGroupName",a.innerText=p[e][n].groupName;var o=document.createElement("div");o.className="danceCCImageArea";var s=document.createElement("img");if(s.className="danceCCGroupImage",s.src=p[e][n].imgPath,i.appendChild(a),""!=p[e][n].SNSPath){var u=document.createElement("a");u.href=p[e][n].SNSPath,u.target="_blank",u.rel="noreferrer noopener";var c=document.createElement("img");c.className="danceCCsnsIcon",c.src="".concat("","/img/snsIcon/instagramIcon.svg"),u.appendChild(c),i.appendChild(u)}o.appendChild(s),r.appendChild(o),r.appendChild(i),t.appendChild(r)}}function r(t){for(var n in p[e])if(0!=n&&"\u30d0\u30f3\u30c9"==p[e][n].projectType){var r=document.createElement("div");r.className="bandCCContent";var i=document.createElement("div");i.className="bandCCdescriptionArea";var a=document.createElement("div");a.className="bandCCGroupName",a.innerText=p[e][n].groupName;var o=document.createElement("div");o.className="bandCCImageArea";var s=document.createElement("img");if(s.className="bandCCGroupImage",s.src=p[e][n].imgPath,i.appendChild(a),""!=p[e][n].SNSPath){var u=document.createElement("a");u.href=p[e][n].SNSPath,u.target="_blank",u.rel="noreferrer noopener";var c=document.createElement("img");c.className="bandCCsnsIcon",c.src="".concat("","/img/snsIcon/instagramIcon.svg"),u.appendChild(c),i.appendChild(u)}o.appendChild(s),r.appendChild(o),r.appendChild(i),t.appendChild(r)}}function i(e,t){for(var n in p[t])if(0!=n){var r=document.createElement("div");r.className="TSContent","\u30d0\u30f3\u30c9"==p[t][n].projectType&&(r.style.backgroundColor="#69B5D1BF"),"\u30c0\u30f3\u30b9\u611b\u597d\u4f1a"==p[t][n].projectType&&(r.style.backgroundColor="#D169B5BF"),"\u6709\u5fd7\u30c0\u30f3\u30b9"==p[t][n].projectType&&(r.style.backgroundColor="#D169B5BF"),"\u30b3\u30b9\u30d7\u30ec\u30b3\u30f3\u30c6\u30b9\u30c8"==p[t][n].projectType&&(r.style.backgroundColor="#B5D169BF"),1==t?(r.style.animationDelay=100*n+"ms",r.style.animationName="TSContent_fadeIn"):2==t&&(r.style.opacity="100%");var i=document.createElement("p");if(i.className="TSGroupName",i.innerText=p[t][n].groupName,"\u52dd\u624b\u306b\u30a2\u30a4\u30c9\u30eb\u90e8"!=p[t][n].groupName){"\u3042\u3089\u304d\u306e\u3060\u3093\u3059\u3002"==p[t][n].groupName&&(i.innerText+="/ \u52dd\u624b\u306b\u30a2\u30a4\u30c9\u30eb\u90e8");var a=document.createElement("p");a.className="TSProjectType",a.innerText="\u3010"+p[t][n].projectType+"\u3011";var o=document.createElement("p");o.className="TSPerformanceTime",o.innerText=p[t][n].performanceTime,r.appendChild(i),r.appendChild(o),e.appendChild(r)}}}return(0,t.useEffect)((function(){document.getElementById("groupHeading").innerText=p[e][0]+"\u30b0\u30eb\u30fc\u30d7\u4e00\u89a7";var t=document.getElementById("timeScheduleArea_day1"),a=document.getElementById("timeScheduleArea_day2"),o=document.getElementById("bandCCArea");i(t,1),i(a,2),n(o),r(o)}),[]),window.addEventListener("scroll",(function(){var e,t=this.window.scrollY,n=this.window.innerHeight,r=f(this.document.getElementsByClassName("bandCCGroupName"));try{for(r.s();!(e=r.n()).done;){var i=e.value;t>i.getBoundingClientRect().top+t-.7*n&&(i.style.animationName="bandCCDescriptionAnimation")}}catch(w){r.e(w)}finally{r.f()}var a,o=f(this.document.getElementsByClassName("bandCCGroupImage"));try{for(o.s();!(a=o.n()).done;){var s=a.value;t>s.getBoundingClientRect().top+t-.7*n&&(s.style.animationName="bandCCGroupImageAnimation")}}catch(w){o.e(w)}finally{o.f()}var u,c=f(this.document.getElementsByClassName("bandCCsnsIcon"));try{for(c.s();!(u=c.n()).done;){var l=u.value;t>l.getBoundingClientRect().top+t-.7*n&&(l.style.animationName="bandCCGroupImageAnimation")}}catch(w){c.e(w)}finally{c.f()}var h,d=f(this.document.getElementsByClassName("danceCCGroupName"));try{for(d.s();!(h=d.n()).done;){var p=h.value;t>p.getBoundingClientRect().top+t-.7*n&&(p.style.animationName="danceCCDescriptionAnimation")}}catch(w){d.e(w)}finally{d.f()}var v,m=f(this.document.getElementsByClassName("danceCCGroupImage"));try{for(m.s();!(v=m.n()).done;){var g=v.value;t>g.getBoundingClientRect().top+t-.7*n&&(g.style.animationName="danceCCGroupImageAnimation")}}catch(w){m.e(w)}finally{m.f()}var y,k=f(this.document.getElementsByClassName("danceCCsnsIcon"));try{for(k.s();!(y=k.n()).done;){var b=y.value;t>b.getBoundingClientRect().top+t-.7*n&&(b.style.animationName="danceCCGroupImageAnimation")}}catch(w){k.e(w)}finally{k.f()}})),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{}),(0,o.jsx)("img",{src:"".concat("","/img/backGround/plant.jpg"),className:"backGroundImage responsiveWidth"}),(0,o.jsxs)("div",{className:"contents",children:[(0,o.jsxs)("div",{id:"contents_innerBlock",className:"contents_innerBlock",children:[(0,o.jsxs)("p",{className:"eventDescription",children:["\u30c0\u30f3\u30b9\u516c\u6f14\u3001\u30d0\u30f3\u30c9\u516c\u6f14\u3001\u30b3\u30b9\u30d7\u30ec\u30b3\u30f3\u30c6\u30b9\u30c8\u304c\u7b2c\u4e00\u4f53\u80b2\u9928\u306b\u3066\u884c\u308f\u308c\u307e\u3059",(0,o.jsx)("br",{}),"\u203b\u516c\u6f14\u6642\u9593\u306f\u4e88\u544a\u306a\u3057\u306b\u524d\u5f8c\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059"]}),(0,o.jsxs)("div",{className:"eventDescription2",children:[(0,o.jsx)("p",{children:"\u30d0\u30f3\u30c9\u306e\u6295\u7968\u306fforms\u306b\u3066\u884c\u3063\u3066\u3044\u307e\u3059\uff01"}),(0,o.jsx)("p",{children:(0,o.jsx)("a",{href:"https://forms.office.com/Pages/ResponsePage.aspx?id=XYP-cpVeEkWK4KezivJfyMJ6Hgx9Ge1EhXgWktdkJWRURTMwRUxXSUxGS00ySUFGR0pCRDFSOFlMVy4u",target:"_blank",rel:"noreferrer noopener",children:">>1\u65e5\u76ee\u6295\u7968"})}),(0,o.jsx)("p",{children:(0,o.jsx)("a",{href:"https://forms.office.com/Pages/ResponsePage.aspx?id=XYP-cpVeEkWK4KezivJfyMJ6Hgx9Ge1EhXgWktdkJWRUQkVKU1dCVzlTVUlHREJXRThIREo2MVc1VC4u",target:"_blank",rel:"noreferrer noopener",children:">>2\u65e5\u76ee\u6295\u7968"})}),(0,o.jsx)("p",{children:"\u4f01\u753b\u306e\u6295\u7968\u306f\u5404\u4f01\u753b\u30da\u30fc\u30b8\u3092\u3054\u89a7\u304f\u3060\u3055\u3044\uff01"})]}),(0,o.jsx)("p",{className:"heading2",children:"\u30bf\u30a4\u30e0\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb"}),(0,o.jsx)("input",{id:"dayButton",className:"dayButton",type:"checkbox",onClick:function(){!function(){for(var e=document.getElementsByClassName("danceCCContent");e.length>0;)e[0].remove()}(),function(){for(var e=document.getElementsByClassName("bandCCContent");e.length>0;)e[0].remove()}();var t=document.getElementById("dayButton");e=t.checked?2:1,document.getElementById("groupHeading").innerText=p[e][0]+"\u30b0\u30eb\u30fc\u30d7\u4e00\u89a7";var i=document.getElementById("bandCCArea");n(i),r(i)}}),(0,o.jsx)("label",{for:"dayButton",children:(0,o.jsx)("div",{className:"dayButtonTouchArea"})}),(0,o.jsx)("div",{id:"dayButtonDispBack",className:"dayButtonDispBack"}),(0,o.jsx)("div",{className:"dayButtonDispTextBox",children:(0,o.jsx)("div",{className:"dayButtonDispText",children:"1\u65e5\u76ee\u30002\u65e5\u76ee"})}),(0,o.jsx)("div",{id:"dayButtonDisp",className:"dayButtonDisp"}),(0,o.jsxs)("div",{className:"textDescArea",children:[(0,o.jsx)("div",{className:"textDance",children:"\u30c0\u30f3\u30b9\u516c\u6f14"}),(0,o.jsx)("div",{className:"textBand",children:"\u30d0\u30f3\u30c9\u516c\u6f14"}),(0,o.jsx)("div",{className:"textCoscon",children:"\u30b3\u30b9\u30d7\u30ec\u30b3\u30f3\u30c6\u30b9\u30c8"})]}),(0,o.jsx)("br",{}),(0,o.jsx)("div",{id:"timeScheduleArea_day1",className:"timeScheduleArea_day1"}),(0,o.jsx)("div",{id:"timeScheduleArea_day2",className:"timeScheduleArea_day2"}),(0,o.jsx)("div",{className:"timeScheduleArea"}),(0,o.jsx)("p",{id:"groupHeading",className:"heading2"}),(0,o.jsx)("div",{id:"bandCCArea",className:"bandCCArea"})]}),(0,o.jsx)("br",{})]})]})};var m,g=function(){return(0,t.useEffect)((function(){if(-1!=document.referrer.indexOf("24th.kokasai.com")){var e=document.getElementById("kokasaiPoster");e.style.animationDelay="0s",e.style.animationDuration="0s";var t,n=f(document.getElementById("posterArea").children);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.style.animationDelay="0s",r.style.animationDuration="0s"}}catch(i){n.e(i)}finally{n.f()}}}),[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"backGroundImage responsiveWidth",children:[(0,o.jsx)("img",{src:"".concat("","/img/poster/kokasaiPoster.jpg"),id:"kokasaiPoster",className:"kokasaiPoster"}),(0,o.jsx)("img",{src:"".concat("","/img/poster/kokasaiPoster.jpg"),id:"kokasaiPoster_mirror",className:"kokasaiPoster_mirror"})]}),(0,o.jsxs)("div",{id:"posterArea",className:"posterArea",children:[(0,o.jsx)("img",{src:"".concat("","/img/poster/kosenTitle.png"),className:"kosenTitle"}),(0,o.jsx)("img",{src:"".concat("","/img/poster/mojamoja.png"),className:"mojamoja"}),(0,o.jsx)("img",{src:"".concat("","/img/poster/mainTitle.png"),className:"mainTitle"}),(0,o.jsx)("img",{src:"".concat("","/img/poster/subTitle.png"),className:"subTitle"}),(0,o.jsx)("img",{src:"".concat("","/img/poster/text24th.png"),className:"text24th"})]}),(0,o.jsx)("div",{className:"contents contents_whitesmoke",children:(0,o.jsxs)("div",{className:"contents_innerBlock",children:[(0,o.jsx)("br",{}),(0,o.jsx)("p",{className:"heading2",children:"\u30a2\u30ca\u30a6\u30f3\u30b9"}),(0,o.jsx)("div",{className:"announceContents",children:(0,o.jsxs)("ul",{className:"ul_home",children:[(0,o.jsx)("li",{className:"li_home",children:(0,o.jsxs)("p",{children:["\u4ea4\u901a\u306e\u6df7\u4e71\u3092\u907f\u3051\u308b\u305f\u3081\u3001\u5927\u99d0\u8eca\u5834\u5165\u53e3\u524d\u306e\u9053\u8def\u306f",(0,o.jsx)("spam",{className:"heading4",children:"\u53f3\u6298\u7981\u6b62"}),"\u3068\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3059\u3002\u95a2\u8d8a\u81ea\u52d5\u8eca\u9053\u3092\u5229\u7528\u3057\u3066\u4e57\u7528\u8eca\u3067\u6765\u5834\u3055\u308c\u308b\u65b9\u306f\u7279\u306b\u3054\u6ce8\u610f\u304f\u3060\u3055\u3044\u3002"]})}),(0,o.jsx)("li",{className:"li_home",children:(0,o.jsx)("p",{children:"\u5404\u4f01\u753b\u306e\u4eba\u6c17\u6295\u7968\u3092\u884c\u3063\u3066\u3044\u307e\u3059\u3002\u5404\u4f01\u753b\u306e\u7d39\u4ecb\u30da\u30fc\u30b8\u306b\u3042\u308b\u30cf\u30fc\u30c8\u3092\u30bf\u30c3\u30d7\u3059\u308b\u3053\u3068\u3067\u7968\u3092\u5165\u308c\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u305c\u3072\u3054\u53c2\u52a0\u304f\u3060\u3055\u3044\u3002"})}),(0,o.jsx)("li",{className:"li_home",children:(0,o.jsx)("p",{children:"\u5404\u4f01\u753b\u306b\u52a0\u3048\u3066\u5404\u30d0\u30f3\u30c9\u306e\u6295\u7968\u3082\u884c\u3063\u3066\u3044\u307e\u3059\u3002\u30d0\u30f3\u30c9\u306e\u6295\u7968\u306f\u30b9\u30c6\u30fc\u30b8\u4f01\u753b\u306e\u30da\u30fc\u30b8\u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002"})})]})}),(0,o.jsx)("p",{className:"heading2",children:"\u8a73\u7d30\u60c5\u5831"}),(0,o.jsx)("p",{className:"heading3",children:"\u958b\u50ac\u65e5\u6642"}),(0,o.jsxs)("p",{children:["11\u67084\u65e5(\u571f) 9:30\uff5e16:30",(0,o.jsx)("br",{}),"11\u67085\u65e5(\u65e5) 9:30\uff5e16:30"]}),(0,o.jsx)("p",{children:"\uff1c\u4eca\u5e74\u5ea6\u306f\u4e00\u822c\u516c\u958b\u3068\u306a\u308a\u307e\u3059\uff1e"}),(0,o.jsx)("p",{className:"heading3",children:"\u958b\u50ac\u5834\u6240"}),(0,o.jsx)("p",{children:"\u7fa4\u99ac\u5de5\u696d\u9ad8\u7b49\u5c02\u9580\u5b66\u6821"}),(0,o.jsx)("p",{children:(0,o.jsx)("a",{href:"https://www.gunma-ct.ac.jp/",target:"_blank",rel:"noreferrer noopener",children:">>\u516c\u5f0fHP\u306f\u3053\u3061\u3089"})}),(0,o.jsxs)("p",{children:["\u6765\u5834\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306f",(0,o.jsx)("a",{href:a.access.path,children:"\u30a2\u30af\u30bb\u30b9"}),"\u3092\u3054\u89a7\u304f\u3060\u3055\u3044"]}),(0,o.jsx)("p",{className:"heading3",children:"\u6ce8\u610f\u4e8b\u9805"}),(0,o.jsxs)("ul",{className:"ul_home",children:[(0,o.jsx)("li",{className:"li_home",children:"\u30de\u30c3\u30d7\u306b\u8272\u3067\u793a\u3055\u308c\u305f\u5834\u6240\u4ee5\u5916\u304a\u3088\u3073\u5de5\u4e8b\u5834\u6240\u3078\u306e\u7acb\u3061\u5165\u308a\u306f\u7981\u6b62\u3055\u308c\u3066\u3044\u307e\u3059\u3002"}),(0,o.jsxs)("li",{className:"li_home",children:["\u30b4\u30df\u306f\u69cb\u5185\u306b\u8a2d\u7f6e\u3055\u308c\u305f\u30b4\u30df\u7bb1\u306b\u6368\u3066\u3066\u304f\u3060\u3055\u3044",(0,o.jsx)("br",{}),"\u307e\u305f\u3001\u71c3\u3048\u308b\u30b4\u30df\u30fb\u71c3\u3048\u306a\u3044\u30b4\u30df\u30fb\u30da\u30c3\u30c8\u30dc\u30c8\u30eb\u306e\u5206\u5225\u306b\u3054\u5354\u529b\u304f\u3060\u3055\u3044\u3002"]}),(0,o.jsxs)("li",{className:"li_home",children:["\u69cb\u5185\u306f\u5168\u9762\u7981\u9152\u30fb\u7981\u7159\u3068\u306a\u3063\u3066\u304a\u308a\u307e\u3059",(0,o.jsx)("br",{}),"\u9152\u985e\u306e\u6301\u3061\u8fbc\u307f\u306f\u3054\u9060\u616e\u304f\u3060\u3055\u3044\u3002"]}),(0,o.jsxs)("li",{className:"li_home",children:["\u99d0\u8eca\u5834\u30fb\u99d0\u8f2a\u5834\u306f\u6307\u5b9a\u306e\u5834\u6240\u306e\u307f\u5229\u7528\u53ef\u80fd\u3067\u3059",(0,o.jsx)("br",{}),"\u5b66\u6821\u5468\u8fba\u3067\u306e\u9053\u8def\u4e0a\u99d0\u8eca\u306f\u8fd1\u96a3\u306e\u65b9\u3005\u3078\u306e\u3054\u8ff7\u60d1\u3068\u306a\u308a\u307e\u3059\u306e\u3067\u3054\u9060\u616e\u304f\u3060\u3055\u3044\u3002",(0,o.jsx)("br",{}),"\u99d0\u8eca\u5834\u30fb\u99d0\u8f2a\u5834\u306e\u5834\u6240\u306b\u3064\u3044\u3066\u306f\u30a2\u30af\u30bb\u30b9\u30da\u30fc\u30b8\u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002"]}),(0,o.jsx)("li",{className:"li_home",children:"\u99d0\u8eca\u5834\u30fb\u99d0\u8f2a\u5834\u3092\u542b\u3080\u69cb\u5185\u3067\u767a\u751f\u3057\u305f\u4e8b\u6545\u30fb\u76d7\u96e3\u306b\u95a2\u3057\u3066\u672c\u6821\u306f\u8cac\u4efb\u3092\u8ca0\u3044\u304b\u306d\u307e\u3059\u306e\u3067\u3054\u4e86\u627f\u304f\u3060\u3055\u3044\u3002"}),(0,o.jsx)("li",{className:"li_home",children:"\u843d\u3068\u3057\u7269\u3092\u3057\u305f\u5834\u5408\u307e\u305f\u306f\u843d\u3068\u3057\u7269\u3092\u62fe\u3063\u305f\u5834\u5408\u306f\u3001\u5b9f\u884c\u59d4\u54e1\u4f1a\u672c\u90e8\u307e\u3067\u304a\u8d8a\u3057\u304f\u3060\u3055\u3044\u3002"})]}),(0,o.jsx)("p",{className:"heading2",children:"\u5f79\u54e1\u3042\u3044\u3055\u3064"}),(0,o.jsxs)("div",{className:"portraitArea",children:[(0,o.jsxs)("div",{className:"portraitFrameTitleArea",children:[(0,o.jsx)("div",{className:"portraitFrame",children:(0,o.jsx)("img",{className:"portraitImage",src:"".concat("","/img/portrait/portrait_mitani.webp")})}),(0,o.jsx)("div",{className:"portraitTitle",children:(0,o.jsxs)("span",{children:["\u5b66\u6821\u9577",(0,o.jsx)("br",{}),"\u4e09\u8c37 \u5353\u4e5f",(0,o.jsx)("br",{}),(0,o.jsx)("span",{className:"heading4",children:"\u7b2c24\u56de\u5de5\u83ef\u796d\u958b\u50ac\uff01"})]})})]}),(0,o.jsx)("div",{className:"portraitTextArea",children:(0,o.jsx)("div",{className:"portraitText",children:(0,o.jsxs)("p",{children:["\u3000\u300cOPEN SESAME\u300d\u3068\u546a\u6587\u3092\u5531\u3048\u3001\u6249\u3092\u958b\u3051\u305f\u3089\u3001\u3044\u3088\u3044\u3088\u5f85\u3061\u306b\u5f85\u3063\u305f\u3001\u3057\u304b\u3082\u4e45\u3057\u3076\u308a\u306e\u5236\u9650\u306e\u306a\u3044\u5de5\u83ef\u796d\u306e\u958b\u5e55\u3067\u3059\uff01",(0,o.jsx)("br",{}),"\u5b66\u751f\u8af8\u541b\u306b\u4e00\u8a00\u3002",(0,o.jsx)("br",{}),"\u796d\u308a\u306a\u3093\u3066\u3082\u306e\u306f\u3001\u300c\u697d\u3057\u3093\u3060\u8005\u52dd\u3061\u300d\u3067\u3059\u3002\u6e96\u5099\u306e\u5927\u5909\u3055\u3001\u672c\u756a\u306e\u5fd9\u3057\u3055\u3084\u30ef\u30af\u30ef\u30af\u611f\u3001\u305d\u3057\u3066\u5f8c\u7247\u4ed8\u3051\u3067\u306e\u5bc2\u5be5\u611f\u2026\u3002\u305d\u308c\u3089\u3059\u3079\u3066\u3092\u697d\u3057\u307f\u5c3d\u304f\u3057\u3066\u304f\u3060\u3055\u3044\u3002",(0,o.jsx)("br",{}),"\u305d\u3057\u3066\u6765\u6821\u3055\u308c\u305f\u7686\u69d8\u306b\u3082\u4e00\u8a00\u3002",(0,o.jsx)("br",{}),"\u305c\u3072\u3001\u5b66\u751f\u9054\u3068\u4e00\u7dd2\u306b\u306a\u3063\u3066\u3053\u306e\uff12\u5e74\u306b\uff11\u5ea6\u306e\u304a\u796d\u308a\u3092\u76db\u308a\u4e0a\u3052\u3001\u601d\u3046\u5b58\u5206\u697d\u3057\u3093\u3067\u3044\u305f\u3060\u3051\u308c\u3070\u5e78\u3044\u3067\u3059\u3002"]})})})]}),(0,o.jsxs)("div",{className:"portraitArea",children:[(0,o.jsxs)("div",{className:"portraitFrameTitleArea",children:[(0,o.jsx)("div",{className:"portraitFrame",children:(0,o.jsx)("img",{className:"portraitImage",src:"".concat("","/img/portrait/portrait_sakuraoka.webp")})}),(0,o.jsx)("div",{className:"portraitTitle",children:(0,o.jsxs)("span",{children:["\u5b66\u751f\u4e3b\u4e8b",(0,o.jsx)("br",{}),"\u6afb\u5ca1 \u5e83",(0,o.jsx)("br",{}),(0,o.jsx)("span",{className:"heading4",children:"\u7b2c24\u56de\u5de5\u83ef\u796d\u958b\u50ac\u306b\u3042\u305f\u3063\u3066"})]})})]}),(0,o.jsx)("div",{className:"portraitTextArea",children:(0,o.jsx)("div",{className:"portraitText",children:(0,o.jsx)("p",{children:"\u3000\u7b2c24\u56de\u5de5\u83ef\u796d\u306e\u958b\u50ac\u3092\u5fc3\u3088\u308a\u304a\u795d\u3044\u7533\u3057\u4e0a\u3052\u307e\u3059\u3002\u524d\u56de\u306f\u30b3\u30ed\u30ca\u798d\u306e\u4e2d\u3001\u5165\u5834\u8005\u306e\u5236\u9650\u306a\u3069\u3044\u308d\u3044\u308d\u3068\u914d\u616e\u3092\u5f37\u3044\u3089\u308c\u308b\u5de5\u83ef\u796d\u3067\u3057\u305f\u304c\u3001\u3084\u3063\u3068\u4f8b\u5e74\u901a\u308a\u306b\u958b\u3051\u308b\u3053\u3068\u5b09\u3057\u304f\u601d\u3044\u307e\u3059\u3002\u5b66\u751f\u8af8\u541b\u306f\u3053\u306e2\u65e5\u306f\u52c9\u5f37\u306e\u3053\u3068\u306f\u5c11\u3057\u5fd8\u308c\u3066\u5927\u3044\u306b\u697d\u3057\u3093\u3067\u304f\u3060\u3055\u3044\u3002\u3054\u6765\u5834\u306e\u7686\u69d8\u65b9\u3001\u672c\u65e5\u306f\u7b2c24\u56de\u5de5\u83ef\u796d\u306b\u304a\u8d8a\u3057\u3044\u305f\u3060\u304d\u8aa0\u306b\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3059\u3002\u666e\u6bb5\u3068\u9055\u3046\u5b66\u751f\u306e\u69d8\u5b50\u3092\u3054\u89a7\u3044\u305f\u3060\u304d\u3001\u697d\u3057\u3093\u3067\u3044\u305f\u3060\u3051\u308c\u3070\u5e78\u3044\u3067\u3059\u3002\u6700\u5f8c\u306b\u3001\u4eca\u5e74\u306f\u5730\u533a\u6587\u5316\u767a\u8868\u4f1a\u3092\u672c\u6821\u3067\u958b\u50ac\u3057\u307e\u3057\u305f\u3002\u305d\u306e\u904b\u55b6\u3068\u517c\u52d9\u3057\u3066\u3044\u308b\u5de5\u83ef\u796d\u5b9f\u884c\u59d4\u54e1\u3082\u591a\u6570\u3044\u308b\u3053\u3068\u3068\u601d\u3044\u307e\u3059\u3002\u3042\u3068\u5c11\u3057\u3067\u3059\u3002\u9811\u5f35\u3063\u3066\u304f\u3060\u3055\u3044\u3002"})})})]}),(0,o.jsxs)("div",{className:"portraitArea",children:[(0,o.jsxs)("div",{className:"portraitFrameTitleArea",children:[(0,o.jsx)("div",{className:"portraitFrame",children:(0,o.jsx)("img",{className:"portraitImage",src:"".concat("","/img/portrait/portrait_motojima.webp")})}),(0,o.jsx)("div",{className:"portraitTitle",children:(0,o.jsxs)("span",{children:["\u5de5\u83ef\u796d\u5b9f\u884c\u59d4\u54e1\u9577",(0,o.jsx)("br",{}),"\u672c\u5cf6 \u7409\u77e2",(0,o.jsx)("br",{}),(0,o.jsx)("span",{className:"heading4",children:"OPEN SESAME!!"})]})})]}),(0,o.jsx)("div",{className:"portraitTextArea",children:(0,o.jsx)("div",{className:"portraitText",children:(0,o.jsx)("p",{children:"\u3000\u4eca\u56de\u306e\u5de5\u83ef\u796d\u306e\u30b5\u30d6\u30bf\u30a4\u30c8\u30eb\u306f\u3001\u201dOPEN SESAME\u201d\u3067\u3059\u3002\u3053\u306e\u30d5\u30ec\u30fc\u30ba\u306f\u300c\u30a2\u30e9\u30d3\u30a2\u30f3\u30ca\u30a4\u30c8\u300d\u306e\u4e00\u7bc7\u3001\u300c\u30a2\u30ea\u30d0\u30d0\u306840\u4eba\u306e\u76d7\u8cca\u300d\u306b\u51fa\u3066\u304f\u308b\u546a\u6587\u3067\u3001\u307b\u3068\u3093\u3069\u306e\u4eba\u304c\u805e\u3044\u305f\u3053\u3068\u304c\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u3002\u7269\u8a9e\u306e\u4e2d\u3067\u306f\u201dOPEN SESAME\u201d\u3068\u5531\u3048\u308b\u3053\u3068\u3067\u3001\u5ca9\u306e\u6249\u304c\u958b\u304d\u3001\u76d7\u8cca\u304c\u96a0\u3057\u305f\u8ca1\u5b9d\u304c\u51fa\u3066\u304d\u307e\u3059\u3002\u3053\u308c\u3092\u30b3\u30ed\u30ca\u898f\u5236\u304c\u660e\u3051\u305f\u4eca\u56de\u5de5\u83ef\u796d\u3068\u4f8b\u3048\u3001\u3053\u306e\u30b5\u30d6\u30bf\u30a4\u30c8\u30eb\u3092\u4ed8\u3051\u307e\u3057\u305f\u3002\u4eca\u56de\u306e\u5de5\u83ef\u796d\u3067\u306f\u3001\u9ad8\u5c02\u306e\u9b45\u529b\u3092\u8272\u3005\u306a\u4eba\u306b\u77e5\u3063\u3066\u3082\u3089\u3044\u305f\u3044\u3068\u3044\u3046\u30e2\u30c3\u30c8\u30fc\u3067\u904b\u55b6\u3057\u3066\u3044\u307e\u3059\u3002\u9ad8\u5c02\u306e\u9b45\u529b\u3092\u8272\u3005\u306a\u4eba\u306b\u77e5\u3063\u3066\u3082\u3089\u3044\u3001\u3055\u3089\u306b\u306f\u5b66\u751f\u5168\u54e1\u304c\u697d\u3057\u3081\u308b\u3088\u3046\u306a\u5de5\u83ef\u796d\u306b\u3057\u305f\u3044\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u3002"})})})]}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{})]})})]})},y=JSON.parse('["\u5404\u4f01\u753b",["1\u5e74\u751f",{"groupName":"1\u5e74 1\u7d44","projectName":"\u30bf\u30a4\u55ab\u8336\u0e2d\u0e32\u0e22\u0e32\u0e01\u0e30","description":"\u6628\u5e74\u307e\u3067\u30bf\u30a4\u306b\u8d74\u4efb\u3057\u3066\u3044\u305f\u3042\u3084\u304b\u5148\u751f\u4e3b\u5c0e\u306e\u3082\u3068\u3001\u7f8e\u5473\u3057\u3044\u30ac\u30d1\u30aa\u30e9\u30a4\u30b9\u3084\u63da\u3052\u30d0\u30ca\u30ca\u3092\u4f5c\u3063\u3066\u3044\u307e\u3059\uff01\u5c0f\u8179\u304c\u7a7a\u3044\u305f\u4eba\u304b\u3089\u304c\u3063\u3064\u308a\u98df\u3079\u305f\u3044\u4eba\u307e\u3067\u3001\u305c\u3072\u4e00\u5ea6\u8997\u304d\u306b\u6765\u3066\u304f\u3060\u3055\u3044\uff01","imgPath":"./img/circleCut/cc1-1.jpg","mapType":"1","posTop":"55.1%","posLeft":"34.9%"},{"groupName":"1\u5e74 2\u7d44","projectName":"\u30ab\u30b8\u30ce&\u30ab\u30d5\u30a7","description":"1-2\u3067\u306f\u30ab\u30b8\u30ce\u3001\u98f2\u307f\u7269\u8ca9\u58f2\u3092\u884c\u3044\u307e\u3059\u3002\u30ab\u30b8\u30ce\u306f\u73fe\u91d1\u3067\u306f\u306a\u304f\u3001\u5165\u5ba4\u6642\u306b\u3053\u3061\u3089\u304b\u3089\u652f\u7d66\u3055\u308c\u308b\u30c1\u30c3\u30d7\u3092\u4f7f\u7528\u3057\u3066\u884c\u3044\u307e\u3059\u3002\u624b\u5143\u306b\u3042\u308b\u30c1\u30c3\u30d7\u3068\u305d\u308c\u306b\u5fdc\u3058\u305f\u666f\u54c1\u3092\u4ea4\u63db\u3057\u3066\u9000\u51fa\u3068\u306a\u308a\u307e\u3059\u3002","imgPath":"./img/circleCut/cc1-2.jpg","mapType":"2","posTop":"72.3%","posLeft":"46.8%"},{"groupName":"1\u5e74 3\u7d44","projectName":"\u5c04\u7684","description":"\u79c1\u305f\u30611-3\u3067\u306f\u5c04\u7684\u3092\u884c\u3044\u307e\u3059\u3002\u7684\u306b\u5f53\u3066\u3066\u3082\u5f53\u3066\u306a\u304f\u3066\u3082\u3001\u9ad8\u5c02\u306b\u95a2\u3059\u308b\u30af\u30a4\u30ba\u306b\u53c2\u52a0\u3059\u308c\u3070\u666f\u54c1\u3092\u30b2\u30c3\u30c8\u3067\u304d\u308b\u4ed5\u7d44\u307f\u306b\u306a\u3063\u3066\u304a\u308a\u307e\u3059\u306e\u3067\u305c\u3072\u904a\u3073\u306b\u6765\u3066\u304f\u3060\u3055\u3044\uff01","imgPath":"./img/circleCut/cc1-3.jpg","mapType":"2","posTop":"23.0%","posLeft":"22.1%"},{"groupName":"1\u5e74 4\u7d44","projectName":"\u300c\u30b9\u30bf\u30fc\u30c8\u30e9\u30a4\u30f3\u300d\u6620\u753b\u4e0a\u6620\uff06\u6109\u5feb\u306a\u4ef2\u9593\u305f\u3061\u306b\u3088\u308b\u51fa\u5e97","description":"\u7686\u3055\u3093\u3053\u3093\u306b\u3061\u306f!1\u5e744\u7d44\u3067\u3059\u3002<br />1\u5e744\u7d44\u306e\u30e1\u30f3\u30d0\u30fc\u3067\u4f5c\u308a\u4e0a\u3052\u305f\u5b8c\u5168\u30aa\u30ea\u30b8\u30ca\u30eb\u6620\u753b\u4e0a\u6620\u4e2d\u3067\u3059!\u4e0a\u6620\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u306f1-4\u516c\u5f0f\u30a4\u30f3\u30b9\u30bf\u3001\u516c\u5f0f\u30e9\u30a4\u30f3\u3092\u30c1\u30a7\u30c3\u30af!\u7686\u3055\u3093\u306e\u6765\u5834\u3092\u304a\u5f85\u3061\u3057\u3066\u304a\u308a\u307e\u3059\u3002<br />\u516c\u5f0f\u30a4\u30f3\u30b9\u30bf:2023koukasai1_4","imgPath":"./img/circleCut/cc1-4.jpg","mapType":"2","posTop":"23.0%","posLeft":"28.7%"},{"groupName":"1\u5e74 5\u7d44","projectName":"\u5c04\u7684\u30b2\u30fc\u30e0","description":"\u304a\u796d\u308a\u3068\u3044\u3048\u3070\u5c04\u7684\u3002<br />\u3068\u3044\u3046\u3053\u3068\u3067\u79c1\u305f\u3061 1-5 \u306f\u5c04\u7684\u30b2\u30fc\u30e0\u3092\u3057\u307e\u3059\u3002<br />\u5b50\u4f9b\u304b\u3089\u5927\u4eba\u307e\u3067\u697d\u3057\u3081\u308b\u3082\u306e\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002<br />\u5f97\u70b9\u306b\u5408\u308f\u305b\u305f\u666f\u54c1\u4ed8\u304d\u3002<br />\u305c\u3072 1-5 \u307e\u3067\u304a\u8d8a\u3057\u304f\u3060\u3055\u3044\u3002\u5f85\u3063\u3066\u307e\u3059\u3002","imgPath":"./img/circleCut/cc1-5.jpg","mapType":"2","posTop":"23.2%","posLeft":"35.0%"}],["2\u5e74\u751f",{"groupName":"2\u5e74 1\u7d44","projectName":"\u3046\u3059\u3044\u30b5\u30d5\u30a1\u30ea\u30d1\u30fc\u30af","description":"\u3046\u3059\u3044\u30b5\u30d5\u30a1\u30ea\u30d1\u30fc\u30af\u3064\u3044\u306b\u958b\u5712!!<br />\u3063\u3066\u305d\u306e\u524d\u65e5\u306b\u52d5\u7269\u304c\u8131\u8d70\u3057\u3061\u3083\u3063\u305f!?<br />\u4e0e\u3048\u3089\u308c\u308b\u69d8\u3005\u306aMISSION\u3092\u30af\u30ea\u30a2\u3057\u3066\u9003\u3052\u51fa\u3057\u305f\u52d5\u7269\u3092\u9023\u308c\u623b\u305d\u3046!!","imgPath":"./img/circleCut/cc2-1.jpg","mapType":"2","posTop":"72.3%","posLeft":"41.3%"},{"groupName":"2\u5e74 2\u7d44","projectName":"\u30af\u30a4\u30ba2-2\u3088\u308a\u8ce2\u3044\u306e\uff1f","description":"2\u5e742\u7d44\u304c\u4f5c\u3063\u305f\u554f\u984c\u306b\u6b63\u89e3\u3059\u308b\u307b\u3069\u3001\u666f\u54c1\u304c\u8c6a\u83ef\u306b\uff01<br />\u6700\u9ad8\u306b\u30ed\u30c3\u30af\u3067\u30af\u30ec\u30a4\u30b8\u30fc\u306a\u9ad8\u5c02\u30af\u30a4\u30ba\uff01\u554f\u984c\u306f\u30ec\u30d9\u30eb\u5225\u3067\u3001\u521d\u5fc3\u8005\u3067\u3082\u6311\u6226OK\uff01\u3042\u306a\u305f\u306f2-2\u306e\u30af\u30a4\u30ba\u306b\u7b54\u3048\u3089\u308c\u307e\u3059\u304b\uff1f","imgPath":"./img/circleCut/cc2-2.jpg","mapType":"2","posTop":"34.6%","posLeft":"33.8%"},{"groupName":"2\u5e74 3\u7d44","projectName":"\u795e\u793e\u3067\u3084\u3063\u3066\u308b\u7e01\u65e5","description":"2\u5e743\u7d44\u306f\u7e01\u65e5\u3067\u3059\u3002\u5c04\u7684\u3068\u304b\u3001\u304f\u3058\u5f15\u304d\u3068\u304b\u3092\u3084\u3063\u3066\u307e\u3059\u3002\u795e\u793e\u4f5c\u3063\u3066\u30d1\u30ef\u30fc\u30b9\u30dd\u30c3\u30c8\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u304a\u53c2\u308a\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\uff01\u8272\u3005\u53f6\u3048\u3066\u304f\u308c\u307e\u3059\u3002\u662f\u975e\u8db3\u3092\u904b\u3093\u3067\u306d\u3002","imgPath":"./img/circleCut/cc2-3.jpg","mapType":"1","posTop":"44.5%","posLeft":"41.4%"},{"groupName":"2\u5e74 4\u7d44","projectName":"\u30b5\u30a4\u30a8\u30f3\u30b9\u30ab\u30d5\u30a7","description":"\u8272\u304c\u5909\u308f\u308b\u4e0d\u601d\u8b70\u306a\u30c9\u30ea\u30f3\u30af\u3084\u30b9\u30a4\u30fc\u30c4\u3001\u5c64\u304c\u5206\u304b\u308c\u3066\u3044\u308b\u30c4\u30fc\u30c8\u30f3\u30c9\u30ea\u30f3\u30af\u306a\u3069\u3001\u30b5\u30a4\u30a8\u30f3\u30b9\u306a\u30d5\u30fc\u30c9\u3092\u3054\u63d0\u4f9b\u3057\u307e\u3059\u3002\u5316\u5b66\u3092\u4eca\u3088\u308a\u3082\u3063\u3068\u8eab\u8fd1\u306b\u611f\u3058\u3066\u307f\u307e\u305b\u3093\u304b\uff1f","imgPath":"./img/circleCut/cc2-4.jpg","mapType":"2","posTop":"45.9%","posLeft":"77.7%"},{"groupName":"2\u5e74 5\u7d44","projectName":"\u30d1\u30a4\u30aa\u30cb\u30fc\u30a2","description":"\u30b7\u30ed\u30c3\u30d7\u3092\u7528\u3044\u3066\u4f5c\u3089\u308c\u305f\u8272\u3068\u308a\u3069\u308a\u306e\u30ab\u30af\u30c6\u30eb\u304c\u55dc\u3081\u308b\u300cBAR\u30d1\u30a4\u30aa\u30cb\u30fc\u30a2\u300d<br />\u3042\u306a\u305f\u30821\u676f\u3044\u304b\u304c\u3067\u3057\u3087\u3046\u304b\u3002","imgPath":"./img/circleCut/cc2-5.jpg","mapType":"2","posTop":"34.7%","posLeft":"28.7%"}],["3\u5e74\u751f",{"groupName":"3\u5e74 \u6a5f\u68b0\u5de5\u5b66\u79d1","projectName":"3MCRAFT","description":"3M\u3067\u306f\u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\u3092\u3057\u307e\u3059\uff01<br />\u3082\u306e\u3065\u304f\u308a\u306e\u697d\u3057\u3055\u3092\u77e5\u3063\u3066\u3082\u3089\u3044\u305f\u304f\u3001\u5b9f\u7fd2\u3067\u4f7f\u3046\u9053\u5177\u3092\u7528\u3044\u3066\u30aa\u30eb\u30b4\u30fc\u30eb\u3001\u30df\u30cb\u56db\u99c6\u4f5c\u6210\u304c\u3067\u304d\u307e\u3059\u3002\u305c\u3072\u6765\u3066\u304f\u3060\u3055\u3044\uff01","imgPath":"./img/circleCut/cc3-1.jpg","mapType":"2","posTop":"45.9%","posLeft":"71.2%"},{"groupName":"3\u5e74 \u96fb\u5b50\u30e1\u30c7\u30a3\u30a2\u5de5\u5b66\u79d1","projectName":"cafe\u30b3\u30f3\u30c9\u30eb\u30c1\u30a7","description":"\u5de5\u83ef\u796d\u3092\u697d\u3057\u3093\u3067\u3044\u308b\u7686\u3055\u3093\uff01\u30ab\u30d5\u30a7\u3067\u5c11\u3057\u4f11\u3093\u3067\u3044\u304d\u307e\u305b\u3093\u304b\uff1f<br />\u53ef\u611b\u3044\u96fb\u6c17\u7cfb\u5b66\u751f\u304c\u3044\u308b\u7a7a\u9593\u3067\u304a\u8336\u3068\u304a\u83d3\u5b50\u3092\u3069\u3046\u305e\u3002<br />\u30af\u30e9\u30b7\u30c3\u30af\u306a\u30e1\u30a4\u30c9\u30ab\u30d5\u30a7\u3092\u30a4\u30e1\u30fc\u30b8\u3057\u305fCafe\u30b3\u30f3\u30c9\u30eb\u30c1\u30a7\u3078\u305c\u3072\u304a\u8d8a\u3057\u304f\u3060\u3055\u3044\u3002","imgPath":"./img/circleCut/cc3-2.jpg","mapType":"2","posTop":"45.9%","posLeft":"55.6%"},{"groupName":"3\u5e74 \u96fb\u5b50\u60c5\u5831\u5de5\u5b66\u79d1","projectName":"\u30bf\u30b3\u30b9","description":"\u305a\u3063\u3068\u30bf\u30b3\u30b9\u304c\u4f5c\u308a\u305f\u304b\u3063\u305f\u3002<br />\u3082\u3046\u3072\u3068\u3064\u306e\u5922\u3060\u3063\u305f\u3002<br />\u9ad8\u5c02\u6642\u4ee3\u3001\u843d\u5358\u3057\u305d\u3046\u306a\u6642\u3082\u7559\u5e74\u3057\u305d\u3046\u306a\u6642\u3082<br />\u30bf\u30b3\u30b9\u3092\u98df\u3079\u308c\u3070\u3059\u3050\u5143\u6c17\u306b\u306a\u308c\u305f\u3002<br />\u305d\u3093\u306a\u50d5\u304c\u8fbf\u308a\u7740\u3044\u305f\u6700\u9ad8\u306e\u4e00\u500b\u3002<br />\u30bf\u30e0\u30b1\u30f3\u306e\u30bf\u30b3\u30b9\u304c\u3067\u304d\u307e\u3057\u305f\u3002<br />\u30bf\u30b3\u3051\u3093\uff01\uff01","imgPath":"./img/circleCut/cc3-3.jpg","mapType":"1","posTop":"64.0%","posLeft":"49.0%"},{"groupName":"3\u5e74 \u7269\u8cea\u5de5\u5b66\u79d1","projectName":"Caf\xe9 3K Lab.","description":"3K\u306f\u5b9f\u9a13\u3092\u30b3\u30f3\u30bb\u30d7\u30c8\u3068\u3057\u305f\u30ab\u30d5\u30a7\u3092\u884c\u3044\u307e\u3059\u3002\u30ab\u30d5\u30a7\u30e9\u30c6\u306e\u307b\u304b\u8272\u304c\u5909\u308f\u308b\u98f2\u307f\u7269\u3084\u57f9\u5730\u30bc\u30ea\u30fc\u3092\u8ca9\u58f2\u3057\u307e\u3059\u3002\u305c\u3072\u304a\u8d8a\u3057\u304f\u3060\u3055\u3044\u3002","imgPath":"./img/circleCut/cc3-4.jpg","mapType":"2","posTop":"34.7%","posLeft":"49.4%"},{"groupName":"3\u5e74 \u74b0\u5883\u90fd\u5e02\u5de5\u5b66\u79d1","projectName":"\u30b9\u30bf\u30f3\u30d7\u30e9\u30ea\u30fc","description":"\u5de5\u83ef\u796d\u3092\u697d\u3057\u3080\u3064\u3044\u3067\u306b\u30a6\u30a9\u30fc\u30af\u30e9\u30ea\u30fc\u3092\u3057\u3066\u307f\u307e\u305b\u3093\u304b?\u7121\u6599\u3067\u6c17\u8efd\u306b\u697d\u3057\u304f\u53c2\u52a0\u3067\u304d\u307e\u3059!!<br />\u8d64\u306e\u5e83\u5834\u3067\u666f\u54c1\u3068\u4ea4\u63db\u304c\u3067\u304d\u308b\u306e\u3067\u662f\u975e\u304a\u8d8a\u3057\u304f\u3060\u3055\u3044\u3002","imgPath":"./img/circleCut/cc3-5.jpg","mapType":"1","posTop":"24.8%","posLeft":"49.9%"}],["4\u5e74\u751f",{"groupName":"4\u5e74 \u6a5f\u68b0\u5de5\u5b66\u79d1","projectName":"M\u5370\u826f\u54c1","description":"\u9ad8\u5c02\u3089\u3057\u3055\u6e80\u70b9\u306e\u30b0\u30c3\u30ba\u3092\u8ca9\u58f2\uff01<br />\u9ad8\u5c02\u306e\u6280\u8853\u529b\u3092\u305d\u306e\u76ee\u3068\u624b\u3067\u611f\u3058\u308d\uff01\uff01","imgPath":"./img/circleCut/cc4-1.jpg","mapType":"1","posTop":"26.2%","posLeft":"61.6%"},{"groupName":"4\u5e74 \u96fb\u5b50\u30e1\u30c7\u30a3\u30a2\u5de5\u5b66\u79d1","projectName":"4E\u30d1\u30f3\u30b1\u30fc\u30ad\u307e\u305b\u3063\u3061","description":"4E\u306f\u30d1\u30f3\u30b1\u30fc\u30ad\u3092\u4f5c\u308a\u307e\u3059\uff01\u5168\u529b\u3067\u7f8e\u5473\u3057\u304f\u306a\u308b\u3088\u3046\u4f5c\u308b\u306e\u3067\u662f\u975e\u98df\u3079\u306b\u304d\u3066\u304f\u3060\u3055\u3044\uff01\u5e97\u540d\u306e&quot;\u307e\u305b\u3063\u3061&quot;\u306f4E\u306e\u8ab0\u304b\u306e\u3042\u3060\u540d\u3067\u3059!!","imgPath":"./img/circleCut/cc4-2.jpg","mapType":"1","posTop":"23.0%","posLeft":"58.2%"},{"groupName":"4\u5e74 \u96fb\u5b50\u60c5\u5831\u5de5\u5b66\u79d1","projectName":"\u30dc\u30fc\u30c9\u30b2\u30fc\u30e0\u55ab\u8336\u300c\u9ad8\u5c02\u306e\u65c5\u56e3\u300d","description":"4J\u306e\u51fa\u3057\u7269\u306f\u30dc\u30c9\u30b2\u55ab\u8336\u3067\u3059\uff01\u904a\u3073\u3084\u3059\u3044\u30dc\u30fc\u30c9\u30b2\u30fc\u30e0\u3068\u3001\u904a\u3073\u306a\u304c\u3089\u98df\u3079\u308b\u306e\u306b\u9069\u3057\u3066\u3044\u308b\u30b5\u30f3\u30c9\u30a4\u30c3\u30c1\u3092\u7528\u610f\u3057\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001\u30b2\u30fc\u30e0\u304c\u5f37\u3044\u30b9\u30bf\u30c3\u30d5\u3082\u304a\u308a\u307e\u3059\u306e\u3067\u3001\u304a\u3072\u3068\u308a\u69d8\u3082\u30b0\u30eb\u30fc\u30d7\u69d8\u3082\u305c\u3072\u304a\u8d8a\u3057\u304f\u3060\u3055\u3044\uff01","imgPath":"./img/circleCut/cc4-3.jpg","mapType":"2","posTop":"45.9%","posLeft":"64.7%"},{"groupName":"4\u5e74 \u7269\u8cea\u5de5\u5b66\u79d1","projectName":"\u5316\u5b66\u304c\u5b66\u3079\u308b\uff01\uff1f\u30e1\u30a4\u30c9\u30ab\u30d5\u30a7","description":"\u5316\u5b66\u306b\u3064\u3044\u3066\u3061\u3087\u3063\u3068\u3060\u3051\u5b66\u3079\u3061\u3083\u3046\u30e1\u30a4\u30c9\u30ab\u30d5\u30a7\u3001\u53ef\u611b\u3044\u30e1\u30a4\u30c9\u3055\u3093\u305f\u3061\u304c\u7f8e\u5473\u3057\u3044\u30c9\u30ea\u30f3\u30af\u3084\u98f2\u307f\u7269\u3092\u63d0\u4f9b\u3057\u3066\u304f\u308c\u3061\u3083\u3044\u307e\u3059\uff01\u8a18\u5ff5\u306b\u30c1\u30a7\u30ad\u3082\u64ae\u308c\u308b\u3088\uff01","imgPath":"./img/circleCut/cc4-4.jpg","mapType":"2","posTop":"23.0%","posLeft":"12.8%"},{"groupName":"4\u5e74 \u74b0\u5883\u90fd\u5e02\u5de5\u5b66\u79d1","projectName":"C\u79d1\u3061\u3083\u3093\u306e\u30dd\u30c3\u30d7\u306a\u30b3\u30fc\u30f3","description":"\u3084\u3063\u307b\uff5e\uff01\u79c1\u306fc\u79d1\u3061\u3083\u3093\u3060\u3088\uff01<br />\uff14c\u306e\u51fa\u3057\u7269\u307f\u3093\u306a\u7d76\u5bfe\u6765\u3066\u304f\u308c\u308b\u3088\u306d\uff01<br />\u7f8e\u5473\u3057\u304f\u3066\u4f55\u5ea6\u3082\u98df\u3079\u3089\u308c\u3061\u3083\u3046\uff01<br />\u306a\u306b\u3092\u58f2\u3063\u3066\u3044\u308b\u304b\u306f\u8a00\u308f\u306a\u304f\u3066\u3082\u308f\u304b\u308b\u3088\u306d\uff1f<br />\u3058\u3083\u3042\u3001\u307f\u3093\u306a\uff14c\u3067\u4f1a\u304a\u3046\u306d\uff5e","imgPath":"./img/circleCut/cc4-5.jpg","mapType":"1","posTop":"29.6%","posLeft":"61.7%"}],["5\u5e74\u751f",{"groupName":"5\u5e74 \u6a5f\u68b0\u5de5\u5b66\u79d1","projectName":"\u5bfe\u6226\u578b\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u30b2\u30fc\u30e0","description":"\u97ff\u304d\u6e21\u308b\u7832\u58f0\u30ed\u30de\u30f3\u2026\u307e\u3060\u898b\u306c\u6226\u5834\u304c\u541b\u3092\u5f85\u3064\uff01","imgPath":"./img/circleCut/cc5-1.jpg","mapType":"2","posTop":"45.9%","posLeft":"50.5%"},{"groupName":"5\u5e74 \u96fb\u5b50\u30e1\u30c7\u30a3\u30a2\u5de5\u5b66\u79d1","projectName":"\u7f8e\u7537\u7f8e\u5973\u304c\u713c\u304f\u7d20\u6674\u3089\u3057\u3044\u30d9\u30d3\u30fc\u30ab\u30b9\u30c6\u30e9","description":"\u30d9\u30d3\u30fc\u30ab\u30b9\u30c6\u30e9\u58f2\u3063\u3066\u307e\u3059\uff01","imgPath":"./img/circleCut/cc5-2.jpg","mapType":"2","posTop":"34.7%","posLeft":"56.2%"},{"groupName":"5\u5e74 \u96fb\u5b50\u60c5\u5831\u5de5\u5b66\u79d1","projectName":"\u304a\u5316\u3051\u5c4b\u6577","description":"\u9ad8\u8cb4\u306a\u308b\u63a2\u691c\u5bb6\u69d8\u3078\u3002\u5bcc\u3068\u540d\u58f0\u3092\u624b\u306b\u3057\u305f\u6211\u304c\u7236\u3067\u3059\u304c\u3001\u3064\u3044\u5148\u65e5\u6c38\u7720\u3057\u307e\u3057\u305f\u3002\u7236\u306e\u907a\u66f8\u304c\u5893\u6240\u306b\u3042\u308b\u306e\u3067\u3059\u304c\u3001\u4e8b\u60c5\u306b\u3088\u308a\u81ea\u3089\u8d74\u304f\u3053\u3068\u304c\u8a31\u3055\u308c\u305a\u56f0\u3063\u3066\u304a\u308a\u307e\u3059\u3002\u3069\u3046\u304b\u8cb4\u6bbf\u306b\u907a\u66f8\u3092\u53d6\u3063\u3066\u304d\u3066\u3044\u305f\u3060\u304d\u305f\u3044\u306e\u3067\u3059\u3002","imgPath":"./img/circleCut/cc5-3.jpg","mapType":"2","posTop":"74.6%","posLeft":"24.6%"},{"groupName":"5\u5e74 \u7269\u8cea\u5de5\u5b66\u79d1","projectName":"K\u79d1\u30af\u30a4\u30ba","description":"\u7fa4\u99ac\u9ad8\u5c02\u3001\u7269\u8cea\u5de5\u5b66\u79d1\u306b\u95a2\u3059\u308b\u30af\u30a4\u30ba\u306b\u6b63\u89e3\u3057\u3066\u3001\u304a\u83d3\u5b50\u3092\u3082\u3089\u304a\u3046\uff01<br />\u6905\u5b50\u3001\u673a\u3082\u6e96\u5099\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u4f11\u61a9\u6240\u3068\u3057\u3066\u4f7f\u3063\u3066\u3044\u305f\u3060\u3044\u3066\u3082\u5927\u4e08\u592b\u3067\u3059\uff01","imgPath":"./img/circleCut/cc5-4.jpg","mapType":"2","posTop":"79.0%","posLeft":"73.7%"},{"groupName":"5\u5e74 \u74b0\u5883\u90fd\u5e02\u5de5\u5b66\u79d1","projectName":"\u9ad8\u5c02\u7dbf\u83d3C\u7d44","description":"\u7dbf\u83d3\u5b50\u306b\u6c7a\u307e\u3063\u3066\u3093\u3060\u308d","imgPath":"./img/circleCut/cc5-5.jpg","mapType":"1","posTop":"27.3%","posLeft":"38.0%"}],["\u904b\u52d5\u90e8\u2460",{"groupName":"\u9678\u4e0a\u7af6\u6280\u90e8","projectName":"\u713c\u304d\u9ce5","description":"\u305a\u3063\u3068\u713c\u304d\u9ce5\u3067\u3044\u3044\u306e\u306b<br />\u713c\u304d\u9ce5\u306e\u6975\u4e0a\u306e\u5473\u3068\u6c17\u5408\u3044\u3092\u5165\u308c\u3066\u713c\u3044\u3066\u5f85\u3063\u3066\u307e\u3059\uff01\uff01","imgPath":"./img/circleCut/cc6-1.jpg","mapType":"1","posTop":"45.2%","posLeft":"49.4%"},{"groupName":"\u786c\u5f0f\u91ce\u7403\u90e8","projectName":"\u3046\u3069\u3093","description":"\u3053\u306e\u3046\u3069\u3093\u304c\u7f8e\u5473\u3057\u304f\u306a\u3044\u53ef\u80fd\u6027\u3053\u308c\u3001\u4e00\u5207\u306a\u30fc\u3044<br />\u203b\u6c34\u5897\u3057\u8acb\u6c42\u306f\u3057\u307e\u305b\u3093\u3002","imgPath":"./img/circleCut/cc6-2.jpg","mapType":"1","posTop":"55.4%","posLeft":"53.3%"},{"groupName":"\u30b5\u30c3\u30ab\u30fc\u90e8","projectName":"\u30d9\u30d3\u30fc\u30ab\u30b9\u30c6\u30e9","description":"\u30b8\u30e3\u30f3\u30ad\u30fc\u306a\u3082\u306e\u3070\u304b\u308a\u3067 \u7518\u3044\u3082\u306e\u304c\u98df\u3079\u305f\u304f\u306a\u3063\u305f\u3042\u306a\u305f! \u30b5\u30c3\u30ab\u30fc\u90e8\u306e\u4f5c\u308b\u30d9\u30d3\u30fc\u30ab\u30b9\u30c6\u30e9\u306f\u3044\u304b\u304c\u3067\u3059\u304b?","imgPath":"./img/circleCut/cc6-3.jpg","mapType":"1","posTop":"24.3%","posLeft":"37.7%"},{"groupName":"\u30d0\u30ec\u30fc\u30dc\u30fc\u30eb\u90e8","projectName":"\u304b\u3089\u3042\u3052","description":"\u4eca\u56de\u3082\u30d0\u30ec\u30fc\u90e8\u306f\u5510\u63da\u3052\u3092\u3057\u307e\u3059\u3002\u304a\u8179\u304c\u3059\u3044\u305f\u6642\u3001\u4f55\u3067\u3082\u3044\u3044\u304b\u3089\u3064\u307e\u307f\u305f\u3044\u6642\u3001\u9d8f\u306b\u6068\u307f\u304c\u3042\u308b\u6642\u306a\u3069\u3001\u3044\u3064\u3067\u3082\u304a\u8d8a\u3057\u304f\u3060\u3055\u3044\u3002\u5143\u6c17\u30e2\u30ea\u30e2\u30ea\u306e\u30d0\u30ec\u30fc\u90e8\u304c\u304a\u5f85\u3061\u3057\u3066\u304a\u308a\u307e\u3059\u3002","imgPath":"./img/circleCut/cc6-4.jpg","mapType":"1","posTop":"24.6%","posLeft":"34.4%"}],["\u904b\u52d5\u90e8\u2461",{"groupName":"\u30d0\u30b9\u30b1\u30c3\u30c8\u30dc\u30fc\u30eb\u90e8","projectName":"\u713c\u304d\u305d\u3070","description":"\u30d0\u30b9\u30b1\u90e8\u306f\u713c\u304d\u305d\u3070\u3092\u8ca9\u58f2\u3057\u307e\u3059\u3002\u90e8\u54e1\u5168\u54e1\u3067\u3081\u3061\u3083\u304f\u3061\u3083\u7f8e\u5473\u3057\u3044\u713c\u304d\u305d\u3070\u3092\u4f5c\u308b\u3093\u3067\u662f\u975e\u8db3\u3092\u904b\u3093\u3067\u304f\u3060\u3055\u3044\u3002","imgPath":"./img/circleCut/cc7-1.jpg","mapType":"1","posTop":"28.3%","posLeft":"66.6%"},{"groupName":"\u30bd\u30d5\u30c8\u30c6\u30cb\u30b9\u90e8","projectName":"\u30af\u30ec\u30fcP\u5c4b\u3055\u3093","description":"\u30bd\u30d5\u30c8\u30c6\u30cb\u30b9\u90e8\u304c\u4f5c\u308b\u304a\u3044\u3057\u3044\u30af\u30ec\u30fc\u30d7\u3067\u3059","imgPath":"./img/circleCut/cc7-2.jpg","mapType":"1","posTop":"60.2%","posLeft":"48.9%"},{"groupName":"\u5353\u7403\u90e8","projectName":"\u305f\u3053\u3084\u304d","description":"\u305f\u3053\u3084\u304d\u3063\u3066\u307b\u307c\u30d4\u30f3\u30dd\u30f3\u7389\u3084\u3093","imgPath":"./img/circleCut/cc7-3.jpg","mapType":"1","posTop":"52.4%","posLeft":"54.7%"},{"groupName":"\u67d4\u9053\u90e8","projectName":"\u7537\u306e\u3058\u3083\u304c\u30d0\u30bf\u30fc","description":"\u3058\u3083\u304c\u30d0\u30bf\u30fc\u3092\u98df\u3079\u308c\u3070\u3001<br />\u5168\u56fd\u5927\u4f1a\u306b\u884c\u3063\u305f\u67d4\u9053\u90e8\u306e\u3088\u3046\u306b<br />\u5f37\u304f\u305f\u304f\u307e\u3057\u304f\u306a\u308c\u308b\u3053\u3068\u9593\u9055\u3044\u306a\u3057\uff01<br />\u7537\u306e\u3058\u3083\u304c\u30d0\u30bf\u30fc Now for Sale!","imgPath":"./img/circleCut/cc7-4.jpg","mapType":"1","posTop":"63.7%","posLeft":"54.8%"}],["\u904b\u52d5\u90e8\u2462",{"groupName":"\u5263\u9053\u90e8","projectName":"\u7af9\u5200\u30d5\u30e9\u30f3\u30af","description":"\u5263\u9053\u90e8\u3067\u3059\u3002\u5263\u9053\u3092\u3059\u308b\u306b\u306f\u6b20\u304b\u305b\u306a\u3044\u7af9\u5200\u3092\u30e2\u30c1\u30fc\u30d5\u3068\u3057\u305f\u7af9\u5200\u30d5\u30e9\u30f3\u30af\u3092\u8ca9\u58f2\u3057\u3066\u3044\u307e\u3059\u3002\u65e5\u3005\u62b1\u3048\u308b\u60a9\u307f\u3092\u7af9\u5200\u30d5\u30e9\u30f3\u30af\u3067\u4e00\u5200\u4e21\u65ad\u3057\u3066\u30b9\u30c3\u30ad\u30ea\u3057\u3066\u307f\u307e\u305b\u3093\u304b\uff1f","imgPath":"./img/circleCut/cc8-1.jpg","mapType":"1","posTop":"44.9%","posLeft":"45.6%"},{"groupName":"\u786c\u5f0f\u30c6\u30cb\u30b9\u90e8","projectName":"\u304a\u597d\u307f\u713c\u304d","description":"\u786c\u5f0f\u5ead\u7403\u90e8\u3067\u3059\u3002<br />\u6c17\u5408\u3044\u3067\u3084\u3063\u3066\u307e\u3059\u3002<br />\u30ed\u30fc\u30bf\u30ea\u30fc\u3067\u5f85\u3063\u3066\u307e\u3059\u3002","imgPath":"./img/circleCut/cc8-2.jpg","mapType":"1","posTop":"20.2%","posLeft":"64.5%"},{"groupName":"\u30d0\u30c9\u30df\u30f3\u30c8\u30f3\u90e8","projectName":"\u682a\u5f0f\u4f1a\u793e\u3044\u3082\u3053\u3046\u304d","description":"\u300eWhy don\'t you buy french fries?\u300f<br />\uff5e\u306a\u305c\u30d5\u30e9\u30a4\u30c9\u30dd\u30c6\u30c8\u3092\u8cb7\u308f\u306a\u3044\u306e\u304b\uff1f\uff5e<br />\u65b0\u3057\u3044\u98a8\u5473\u3001\u65b0\u305f\u306a\u767a\u898b<br />\u30dd\u30c6\u30c8\u306e\u672a\u77e5\u306a\u308b\u53ef\u80fd\u6027\u3001\u4f53\u611f\u3057\u3066\u307f\u307e\u305b\u3093\u304b\uff1f","imgPath":"./img/circleCut/cc8-3.jpg","mapType":"1","posTop":"49.5%","posLeft":"55.1%"},{"groupName":"\u6c34\u6cf3\u90e8","projectName":"\u56e3\u5b50\u5c4b \uff80\uff82\uff89\uff75\uff84\uff7c\uff7a\uff9e","description":"\u6c34\u6cf3\u90e8\u3067\u306f\u56e3\u5b50\u3092\u8ca9\u58f2\u3057\u307e\u3059\u3002<br />\u7f8e\u5473\u3057\u3044\u56e3\u5b50\u3092\u305c\u3072\u98df\u3079\u306b\u6765\u3066\u304f\u3060\u3055\u3044!!","imgPath":"./img/circleCut/cc8-4.jpg","mapType":"1","posTop":"63.8%","posLeft":"45.5%"}],["\u6587\u5316\u90e8\u2460",{"groupName":"\u5439\u594f\u697d\u90e8","projectName":"\u5439\u594f\u697d\u90e8\u30b3\u30f3\u30b5\u30fc\u30c8","description":"\u5439\u594f\u697d\u90e8\u3067\u306f\u3001\u91ce\u7403\u90e8\u306e\u5fdc\u63f4\u3084\u5b9a\u671f\u6f14\u594f\u4f1a\u306a\u3069\u3001\u69d8\u3005\u306a\u30a4\u30d9\u30f3\u30c8\u306b\u5411\u3051\u3066\u7df4\u7fd2\u3092\u3057\u3066\u3044\u307e\u3059\u3002\u4eca\u56de\u3082\u3001\u5de5\u83ef\u796d\u306b\u5411\u3051\u3066\u7df4\u7fd2\u3092\u3057\u305f\u306e\u3067\u3001\u3088\u304b\u3063\u305f\u3089\u8074\u3044\u3066\u3044\u3063\u3066\u304f\u3060\u3055\u3044\uff01<br /><br />\uff1c\u516c\u6f14\u5834\u6240\uff1e<br />\u7b2c\u4e8c\u4f53\u80b2\u9928<br /><br />\uff1c\u516c\u6f14\u6642\u9593\uff1e<br />1\u65e5\u76ee\uff1a11:00~11:30<br />2\u65e5\u76ee\uff1a11:00~11:30","imgPath":"./img/circleCut/cc9-1.jpg","mapType":"2","posTop":"77.8%","posLeft":"55.6%"},{"groupName":"\u6587\u82b8\u90e8","projectName":"\u3010\u90e8\u8a8c\u9812\u5e03\u3011\u307c\u3078\u307f\u3042\u3093","description":"\u6587\u82b8\u90e8\u306e\u90e8\u8a8c\u3067\u3059\u3002\u90e8\u54e1\u4e00\u540c\u5fc3\u3092\u8fbc\u3081\u3066\u66f8\u3044\u305f\u77ed\u7de8\u96c6\u3067\u3059\u3002\u3088\u308d\u3057\u304f\u304a\u9858\u3044\u3057\u307e\u3059\u3002","imgPath":"./img/circleCut/cc9-2.jpg","mapType":"2","posTop":"56.1%","posLeft":"17.9%"},{"groupName":"\u5199\u771f\u90e8","projectName":"AI\u9ece\u660e\u671f\u306e\u5199\u771f\u5c55","description":"\u6211\u3005\u304c\u751f\u304d\u308b\u306f\u5199\u771f\u53f2\u6fc0\u52d5\u306e\u6e26\u4e2d\u3002\u624b\u5143\u306e\u30b9\u30de\u30db\u3067\u8ab0\u3067\u3082\u9ad8\u753b\u8cea\u306e\u5199\u771f\u304c\u64ae\u5f71\u3067\u304d\u308b\u3002\u3055\u3089\u306b\u306f\u30ec\u30f3\u30ba\u3092\u901a\u3059\u3053\u3068\u306a\u3057\u306b\u5199\u771f\u304c\u751f\u6210\u3067\u304d\u308b\u3002\u6211\u3005\u5199\u771f\u90e8\u306f\u751f\u304d\u6b8b\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u306e\u3067\u3057\u3087\u3046\u304b\u3002","imgPath":"./img/circleCut/cc9-3.jpg","mapType":"2","posTop":"79.0%","posLeft":"67.9%"},{"groupName":"\u7f8e\u8853\u90e8","projectName":"\u5e1d\u56fd\u5c55\u89a7\u4f1a","description":"\u7f8e\u8853\u90e8\u54e1\u306e\u500b\u4eba\u5236\u4f5c\u30fb\u5171\u540c\u5236\u4f5c\u3092\u5c55\u793a\u3057\u3066\u3044\u307e\u3059\uff01<br />\u901a\u308a\u3059\u304c\u3063\u305f\u3064\u3044\u3067\u306b\u3067\u3082\u898b\u3066\u3084\u3063\u3066\u304f\u3060\u3055\u3044\u3002<br />\u304a\u5f85\u3061\u3057\u3066\u304a\u308a\u307e\u3059\uff01\uff01","imgPath":"./img/circleCut/cc9-4.jpg","mapType":"2","posTop":"32.1%","posLeft":"81.1%"},{"groupName":"\u7406\u79d1\u90e8","projectName":"\u7406\u79d1\u7814\u7a76\u5ba4","description":"\u7406\u79d1\u7814\u7a76\u5ba4\u3067\u306f\u3001\u5316\u5b66\u73ed\u3001\u96fb\u5b50\u5de5\u4f5c\u73ed\u3001\u751f\u7269\u73ed\u306b\u3088\u308b\u79d1\u5b66\u306e\u69d8\u3005\u306a\u9ad8\u5c02\u306a\u3089\u3067\u306f\u306e\u4f53\u9a13\u304c\u3067\u304d\u307e\u3059\u3002\u30d3\u30b9\u30de\u30b9\u7d50\u6676\u3001LEDCube\u3001\u897f\u6e56\u306e\u751f\u614b\u7cfb\u306a\u3069\u9762\u767d\u3044\u3053\u3068\u304c\u6ca2\u5c71\u3042\u308a\u307e\u3059\uff01<br />\u662f\u975e\u304a\u8d8a\u3057\u304f\u3060\u3055\u3044\u3002","imgPath":"./img/circleCut/cc9-5.jpg","mapType":"1","posTop":"28.6%","posLeft":"45.3%"}],["\u6587\u5316\u90e8\u2461",{"groupName":"\u8336\u9053\u90e8","projectName":"\u5de5\u83ef\u796d\u304a\u8336\u4f1a","description":"\u304a\u3044\u3057\u3044\u304a\u8336\u3068\u304a\u83d3\u5b50\u3092\u7528\u610f\u3057\u3066\u304a\u5f85\u3061\u3057\u3066\u3044\u307e\u3059\uff01<br />\u305c\u3072\u304a\u8d8a\u3057\u304f\u3060\u3055\u3044\uff01","imgPath":"./img/circleCut/cc10-1.jpg","mapType":"1","posTop":"55.2%","posLeft":"42.7%"},{"groupName":"SF\u7814\u7a76\u90e8","projectName":"\u30e9\u30a4\u30d6RPG\u304a\u3088\u3073\u90e8\u8a8c\u9812\u5e03","description":"\u304a\u5ba2\u69d8\u53c2\u52a0\u578b\u306e\u5287\u300c\u30e9\u30a4\u30d6RPG\u300d\u3092\u4e21\u65e5\u3068\u3082\u5348\u5f8c1\u6642\u3088\u308a\u884c\u3044\u307e\u3059\uff01<br />\u307f\u306a\u3055\u3093\u306e\u9078\u629e\u3067\u7d50\u672b\u304c\u5909\u308f\u308a\u307e\u3059\u306e\u3067\u3001\u596e\u3063\u3066\u3054\u53c2\u52a0\u4e0b\u3055\u3044\uff01","imgPath":"./img/circleCut/cc10-2.jpg","mapType":"1","posTop":"26.6%","posLeft":"58.1%"},{"groupName":"\u96fb\u7b97\u90e8","projectName":"\u7fa4\u99ac\u306e\u30d1\u30a4\u30aa\u30cb\u30a2","description":"\u96fb\u7b97\u90e8\u3067\u306f\u3001<br />\u30fb\u30d7\u30ed\u30ad\u30b7\u3092\u5229\u7528\u3057\u305f\u30d1\u30b1\u30c3\u30c8\u6539\u3056\u3093\u4f53\u9a13<br />\u30fbUnity\u306b\u3088\u308b\u30ab\u30fc\u30c9\u30b2\u30fc\u30e0\u306e\u5c55\u793a<br />\u30fb\u90e8\u8a8c\u300eD\u8a00\u8a9e\u300f\u306e\u9812\u5e03<br />\u3092\u884c\u3044\u307e\u3059\uff01<br />\u305c\u3072\u304a\u8d8a\u3057\u304f\u3060\u3055\u3044\uff01","imgPath":"./img/circleCut/cc10-3.jpg","mapType":"2","posTop":"38.0%","posLeft":"81.1%"},{"groupName":"\u6f14\u5287\u90e8","projectName":"Asagao 2days Theater","description":"\u306a\u3093\u3068\u3001\u4eca\u5e74\u306e\u6f14\u5287\u90e8\u306f\u4f8b\u5e74\u3068\u9055\u3044\u30011\u4f5c\u54c1\u3092W\u30ad\u30e3\u30b9\u30c8\u3067\u4e0a\u6f14\u3057\u307e\u3059\u3002\u3064\u307e\u308a\uff012\u65e5\u9593\u3068\u3082\u89b3\u306b\u304f\u308b\u3068\u30012\u30d1\u30bf\u30fc\u30f3\u306e\u4f5c\u54c1\u304c\u697d\u3057\u3081\u3061\u3083\u3046\u3093\u3067\u3059\uff01\u5fc3\u304b\u3089\u3001\u307f\u306a\u3055\u3093\u306e\u3054\u6765\u5834\u3092\u304a\u5f85\u3061\u3057\u3066\u304a\u308a\u307e\u3059\uff01<br /><br />\uff1c\u516c\u6f14\u5834\u6240\uff1e<br />J\u79d1\u68df\u4e8c\u968e \u5927\u8b1b\u7fa9\u5ba4<br /><br />\uff1c\u516c\u6f14\u6642\u9593\uff1e<br />1\u65e5\u76ee\uff1a14:00~15:00<br />2\u65e5\u76ee\uff1a14:00~15:00","imgPath":"./img/circleCut/cc10-4.jpg","mapType":"2","posTop":"64.8%","posLeft":"76.1%"},{"groupName":"\u5c06\u68cb\u90e8","projectName":"\u5c06\u68cb\u4f53\u9a13","description":"\u5c06\u68cb\u90e8\u3067\u306f\u5c06\u68cb\u4f53\u9a13\u3092\u884c\u3063\u3066\u304a\u308a\u307e\u3059\u3002\u521d\u5fc3\u8005\u3001\u7d4c\u9a13\u8005\u554f\u308f\u305a\u5927\u6b53\u8fce\u3067\u3059\uff01\uff01\uff01","imgPath":"./img/circleCut/cc10-5.jpg","mapType":"2","posTop":"23.0%","posLeft":"7.7%"}],["\u611b\u597d\u4f1a\u2460",{"groupName":"\u81ea\u8ee2\u8eca\u611b\u597d\u4f1a","projectName":"\u81ea\u8ee2\u8eca\u306e\u5c55\u793a","description":"\u81ea\u8ee2\u8eca\u611b\u597d\u4f1a\u306f\u666e\u6bb5\u4f7f\u7528\u3057\u3066\u3044\u308b\u81ea\u8ee2\u8eca\u306e\u5c55\u793a\u3092\u884c\u3044\u307e\u3059\u3002<br />\u8208\u5473\u3042\u308b\u65b9\u306f\u662f\u975e\u898b\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002","imgPath":"./img/circleCut/cc11-1.jpg","mapType":"1","posTop":"27.5%","posLeft":"34.3%"},{"groupName":"\u30c0\u30f3\u30b9\u611b\u597d\u4f1a","projectName":"\u30c0\u30f3\u30b9\u306e\u5b50\uff5e\u5b8c\u74a7\u3067\u7a76\u6975\u306e\u9ad8\u5c02\u751f\uff5e","description":"\u6109\u5feb\u3067\u697d\u3057\u3044\u30e1\u30f3\u30d0\u30fc\u3067\u697d\u3057\u3044\u30b9\u30c6\u30fc\u30b8\u3092\u304a\u5c4a\u3051\u3057\u307e\u3059\uff01\u53c2\u52a0\u81ea\u7531\u306a\u306e\u3067\u3001\u77e5\u3063\u3066\u308b\u66f2\u304c\u3042\u3063\u3066\u3082\u306a\u304f\u3066\u3082\u624b\u62cd\u5b50\u3084\u30b3\u30fc\u30eb\u306a\u3069\u3067\u53c2\u52a0\u3057\u3066\u3044\u305f\u3060\u3051\u308b\u3068\u5b09\u3057\u3044\u3067\u3059\uff01<br />\u305c\u3072\u304a\u8d8a\u3057\u304f\u3060\u3055\u3044\uff01\uff01","imgPath":"./img/circleCut/cc11-2.jpg","mapType":"0","posTop":"0%","posLeft":"0%"},{"groupName":"\u30ed\u30dc\u30c3\u30c8\u7814\u7a76\u4f1a","projectName":"\u305f\u3053\u713c\u304d","description":"\u30ed\u30dc\u7814\u306f\u4e00\u3064\u3082\u95a2\u4fc2\u306a\u3044\u3002<br /><br />\u305f\u3060\u3001\u6587\u5316\u796d\u3067\u305f\u3053\u713c\u304d\u3092\u58f2\u308a\u305f\u3044\u3060\u3051\u3002<br /><br />\u4f1d\u7d71\u30ac\u30f3\u7121\u8996\u306e\u305f\u3053\u713c\u304d\u5c4b\u3002<br /><br />\u3054\u8cde\u5473\u3042\u308c\u3002","imgPath":"./img/circleCut/cc11-3.jpg","mapType":"1","posTop":"24.6%","posLeft":"40.7%"},{"groupName":"\u30b3\u30f3\u30af\u30ea\u30fc\u30c8\u30ab\u30cc\u30fc\u611b\u597d\u4f1a","projectName":"KOSEN FAST-FOOD SERVICE","description":"\u30cf\u30f3\u30d0\u30fc\u30ac\u30fc\u3084\u98f2\u307f\u7269\u306a\u3069\u306e\u30d5\u30a1\u30b9\u30c8\u30d5\u30fc\u30c9\u3092\u304a\u624b\u9803\u4fa1\u683c\u3067\u63d0\u4f9b\u3057\u307e\u3059\u3002\u7d20\u6750\u306b\u3053\u3060\u308f\u3063\u3066\u3001\u672c\u5834\u306e\u5473\u3092\u8ffd\u6c42\u3057\u307e\u3057\u305f\uff01","imgPath":"./img/circleCut/cc11-4.jpg","mapType":"1","posTop":"27.5%","posLeft":"70.3%"},{"groupName":"\u30a8\u30b3\u30ce\u30d1\u30ef\u30fc\u611b\u597d\u4f1a","projectName":"\u30a8\u30b3\u30ce\u30c1\u30ad\u30f3\u30b5\u30f3\u30c9","description":"\u3069\u3046\u3082\u30a8\u30b3\u30ce\u30d1\u30ef\u30fc\u611b\u597d\u4f1a\u3067\u3059\u3002\u4eca\u5e74\u3082\u30c1\u30ad\u30f3\u30b5\u30f3\u30c9\u3092\u8ca9\u58f2\u3044\u305f\u3057\u307e\u3059\u3002<br />\uff12\u5e74\u306b\uff11\u5ea6\u306e\u3053\u306e\u6a5f\u4f1a\u3001\u662f\u975e\u98df\u3079\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002","imgPath":"./img/circleCut/cc11-5.jpg","mapType":"1","posTop":"52.1%","posLeft":"36.2%"}],["\u611b\u597d\u4f1a\u2461",{"groupName":"\u69cb\u9020\u30c7\u30b6\u30a4\u30f3\u7814\u7a76\u4f1a","projectName":"\u8c5a\u6c41\u5c02\u9580\u5e97","description":"\u3081\u3061\u3083\u304f\u3061\u3083\u3046\u307e\u3044\u8c5a\u6c41\u4f5c\u3063\u3066\u5f85\u3063\u3066\u307e\u3059\uff01\u7d76\u5bfe\u6765\u3066\u304f\u308c\u3088\u306a\uff01","imgPath":"./img/circleCut/cc12-1.jpg","mapType":"1","posTop":"21.5%","posLeft":"35.9%"},{"groupName":"3D\u30c7\u30b6\u30a4\u30f3\u611b\u597d\u4f1a","projectName":"THE SHOP 3D design","description":"\u601d\u3044\u3064\u304f\u3082\u306e\u306f\u307b\u307c\u518d\u73fe\u51fa\u6765\u308b3D\u30d7\u30ea\u30f3\u30bf\u30fc\u306e\u5c55\u793a\u30683D\u30d7\u30ea\u30f3\u30bf\u30fc\u3067\u4f5c\u6210\u3057\u305f\u30ad\u30fc\u30db\u30eb\u30c0\u30fc\u3092\u8ca9\u58f2\u3057\u3066\u3044\u307e\u3059\u3002\u9ad8\u5c02\u306b\u95a2\u3059\u308b\u8cea\u554f\u3084\u305d\u306e\u4ed6\u8272\u3005\u53d7\u3051\u4ed8\u3051\u3066\u3044\u307e\u3059\u3002\u304a\u5f85\u3061\u3057\u3066\u304a\u308a\u307e\u3059\uff01","imgPath":"./img/circleCut/cc12-2.jpg","mapType":"1","posTop":"21.0%","posLeft":"60.9%"},{"groupName":"\u30af\u30a4\u30ba\u7814\u7a76\u4f1a","projectName":"\u30af\u30a4\u30ba\u843d\u66f8\u304d\u305b\u3093\u3079\u3044","description":"\u30af\u30a4\u7814\u300c\u554f\u984c\u3002\u30af\u30a4\u30ba\u306e\u4f53\u9a13\u3068\u6587\u5316 \u796d\u3092\u697d\u3057\u304f\u3059\u308b\u98f2\u98df\u3002 \u3053\u306e\u4e8c\u3064\u3092\u6df7 \u305c\u5408\u308f\u305b\u305f\u30af\u30a4\u30ba\u7814\u7a76\u4f1a\u306a\u3089\u3067\u306f\u306e\u3089\u304f\u304c\u304d\u305b\u3093\u3079\u3044\u3001\u6c17\u306b\u306a\u308a\u307e\u3059\u304b?\u300d<br />\u3042\u306a\u305f (\u30dc\u30bf\u30f3\u3092\u62bc\u3059) \u300c\u6c17\u306b\u306a\u308a\u307e\u3059\u3002\u300d<br />\u30af\u30a4\u7814\u300c\u6b63\u89e3\u3067\u3059\u3002\u305c\u3072\u304a\u8d8a\u3057\u304f\u3060\u3055\u3044\u3002\u300d","imgPath":"./img/circleCut/cc12-3.jpg","mapType":"1","posTop":"23.0%","posLeft":"47.3%"},{"groupName":"\u7121\u7dda\u901a\u4fe1\u611b\u597d\u4f1a","projectName":"\u30b3\u30fc\u30d2\u30fc\u5e97","description":"\u30b3\u30d2\u30fc\u30ec\u30f3\u30b9\u3063\u3066\u3042\u308b\u3058\u3083\u306a\u3044\u3067\u3059\u304b\u3002\u307b\u3089\u3001\u30b3\u30d2\u30fc\u30ec\u30f3\u30b9\u3002<br />\u30b3\u30fc\u30d2\u30fc\u30e1\u30fc\u30ab\u30fc\u3092\u4f7f\u308f\u305a\u306b\u30c9\u30ea\u30c3\u30d7\u5f0f\u3067\u63d0\u4f9b\u3057\u307e\u3059\u3002<br />\u30b3\u30fc\u30d2\u30fc\u5e97\u3078\u662f\u975e\u3068\u3082\u304a\u8d8a\u3057\u304f\u3060\u3055\u3044\u3002","imgPath":"./img/circleCut/cc12-4.jpg","mapType":"2","posTop":"34.6%","posLeft":"43.0%"},{"groupName":"\u30e9\u30b0\u30d3\u30fc\u611b\u597d\u4f1a","projectName":"\u30e9\u30b0\u30d3\u30fc\u611b\u597d\u4f1a\u306e\u30c1\u30e5\u30ed\u30b9","description":"\u30e9\u30b0\u30d3\u30fc\u611b\u597d\u4f1a\u306f\u30c1\u30e5\u30ed\u30b9\u3092\u8ca9\u58f2\u3057\u3066\u3044\u307e\u3059\u3002\u4eca\u5e74\u5275\u8a2d\u3057\u305f\u3070\u304b\u308a\u306a\u306e\u3067\u3001\u305f\u304f\u3055\u3093\u306e\u4eba\u306b\u77e5\u3063\u3066\u3044\u305f\u3060\u304d\u305f\u3044\u3067\u3059\u3002\u305c\u3072\u30c1\u30e5\u30ed\u30b9\u3092\u98df\u3079\u306b\u6765\u3066\u304f\u3060\u3055\u3044\u3002\u30e9\u30b0\u30d3\u30fc\u611b\u597d\u4f1a\u4e00\u540c\u304a\u5f85\u3061\u3057\u3066\u3044\u307e\u3059\uff01","imgPath":"./img/circleCut/cc12-5.jpg","mapType":"1","posTop":"27.9%","posLeft":"42.3%"}],["\u6709\u5fd7",{"groupName":"\u6709\u5fd7\u2460","projectName":"M\u5de5\u623f\uff5e\u30a6\u30c3\u30c9\u30d0\u30fc\u30cb\u30f3\u30b0\u4f53\u9a13\uff5e","description":"\u30b3\u30eb\u30af\u30dc\u30fc\u30c9\u306b\u96fb\u71b1\u30da\u30f3\u3067\u7d75\u3092\u63cf\u304f\u30a6\u30c3\u30c9\u30d0\u30fc\u30cb\u30f3\u30b0\u306e\u4f53\u9a13\u304c\u3067\u304d\u307e\u3059\u3002\u307e\u305f\uff0c\u9ad8\u5c02\u3089\u3057\u3044\uff1f\u30b3\u30fc\u30b9\u30bf\u30fc\u306e\u8ca9\u58f2\u3082\u884c\u3063\u3066\u3044\u307e\u3059\u3002\u8a18\u5ff5\u306b\u304a\u3072\u3068\u3064\u3044\u304b\u304c\u3067\u3059\u304b\u3002","imgPath":"./img/circleCut/cc13-1.jpg","mapType":"2","posTop":"55.4%","posLeft":"54.1%"},{"groupName":"\u6709\u5fd7\u2461","projectName":"\u30ac\u30c1\u30e3\u30ac\u30c1\u30e3\u30b8\u30e3\u30f3\u30b0\u30eb","description":"\u3053\u3053\u306f\u7fa4\u99ac\u9ad8\u5c02\u306e\u5965\u5730&quot;\u30ac\u30c1\u30e3\u30ac\u30c1\u30e3\u30b8\u30e3\u30f3\u30b0\u30eb&quot;\u3002<br />\u3053\u3053\u306b\u306f\u305f\u304f\u3055\u3093\u306e\u52d5\u7269\u305f\u3061(3D\u30d7\u30ea\u30f3\u30bf\u30fc\u7523)\u304c\u751f\u606f\u3057\u3066\u3044\u308b\u305e\uff01<br />\u52d5\u7269\u4ee5\u5916\u306e\u30e2\u30ce\u3082\u3042\u308a\u3001\u4f55\u304c\u51fa\u308b\u304b\u306f\u304a\u697d\u3057\u307f\uff01\uff01<br />\u305c\u3072\u541b\u306e\u624b\u3067\u5168\u7a2e\u30b3\u30f3\u30d7\u30ea\u30fc\u30c8\u3092\u76ee\u6307\u305d\u3046\uff01\uff01\uff01","imgPath":"./img/circleCut/cc13-2.jpg","mapType":"2","posTop":"59.8%","posLeft":"54.1%"},{"groupName":"\u6709\u5fd7\u2462","projectName":"\u30df\u30e9\u30af\u30eb\u2605\u30e9\u30a4\u30c9","description":"\u4eca\u5e74\u306e\u5de5\u83ef\u796d\u306f\uff01\u9ad8\u5c02\u30ed\u30dc\u30b3\u30f3\u3068\u5225\u65e5\u3067\u3059\uff01\u3066\u3053\u3068\u3067\u3001\u642d\u4e57\u578b\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u30b2\u30fc\u30e0\u3092\u4f5c\u308a\u307e\u3057\u305f\u3002\u306a\u3093\u3068\u5f3e\u306f\u7d19\u98db\u884c\u6a5f\u3002\u3055\u3042\u3001\u30ed\u30dc\u30b3\u30f3\u306e\u4e16\u754c\u306b\u98db\u3073\u8fbc\u3082\u3046\uff01","imgPath":"./img/circleCut/cc13-3.jpg","mapType":"2","posTop":"83.4%","posLeft":"44.3%"},{"groupName":"\u305d\u306e\u4ed6","projectName":"\u5165\u8a66\u5e83\u5831\u30d6\u30fc\u30b9","description":"\u7fa4\u99ac\u9ad8\u5c02\u3078\u306e\u5165\u5b66\u3092\u8003\u3048\u3066\u3044\u308b\u5c0f\u5b66\u751f\u30fb\u4e2d\u5b66\u751f\u30fb\u9ad8\u6821\u751f\u306e\u7686\u3055\u3093\u3001\u662f\u975e\u304a\u7acb\u3061\u5bc4\u308a\u304f\u3060\u3055\u3044\u3002\u672c\u6821\u6559\u54e1\u3078\u8cea\u554f\u30fb\u76f8\u8ac7\u3067\u304d\u308b\u6642\u9593\u5e2f\u3082\u8a2d\u3051\u308b\u4e88\u5b9a\u3067\u3059\u3002","imgPath":"./img/circleCut/cc13-4.jpg","mapType":"2","posTop":"51.6%","posLeft":"30.0%"}]]');function k(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function b(e){return function(e){if(Array.isArray(e))return c(e)}(e)||k(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function _(e){var t=function(e,t){if("object"!==x(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===x(t)?t:String(t)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}function E(e,t,n){return t&&I(e.prototype,t),n&&I(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function T(e,t){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},T(e,t)}function S(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}function N(e){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},N(e)}function C(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){var t=C();return function(){var n,r=N(e);if(t){var i=N(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===x(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return A(e)}(this,n)}}function D(e,t,n){return D=C()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&T(i,n.prototype),i},D.apply(null,arguments)}function R(e){var t="function"===typeof Map?new Map:void 0;return R=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return D(e,arguments,N(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),T(n,e)},R(e)}function j(e){if(Array.isArray(e))return e}function O(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function L(e,t){return j(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||l(e,t)||O()}function M(e){return j(e)||k(e)||l(e)||O()}function F(){return F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(m||(m={}));var B,U="popstate";function V(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function z(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function q(e,t){return{usr:e.state,key:e.key,idx:t}}function G(e,t,n,r){return void 0===n&&(n=null),F({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?W(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function K(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function W(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function H(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,s=i.v5Compat,u=void 0!==s&&s,c=o.history,l=m.Pop,f=null,h=d();function d(){return(c.state||{idx:null}).idx}function p(){l=m.Pop;var e=d(),t=null==e?null:e-h;h=e,f&&f({action:l,location:g.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:K(e);return V(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,c.replaceState(F({},c.state,{idx:h}),""));var g={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(U,p),f=e,function(){o.removeEventListener(U,p),f=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=m.Push;var r=G(g.location,e,t);n&&n(r,e);var i=q(r,h=d()+1),a=g.createHref(r);try{c.pushState(i,"",a)}catch(s){if(s instanceof DOMException&&"DataCloneError"===s.name)throw s;o.location.assign(a)}u&&f&&f({action:l,location:g.location,delta:1})},replace:function(e,t){l=m.Replace;var r=G(g.location,e,t);n&&n(r,e);var i=q(r,h=d()),a=g.createHref(r);c.replaceState(i,"",a),u&&f&&f({action:l,location:g.location,delta:0})},go:function(e){return c.go(e)}};return g}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(B||(B={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function Q(e,t,n){void 0===n&&(n="/");var r=ue(("string"===typeof t?W(t):t).pathname||"/",n);if(null==r)return null;var i=Y(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=ae(i[o],se(r));return a}function Y(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(V(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=ce([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(V(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),Y(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:ie(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=f(X(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function X(e){var t=e.split("/");if(0===t.length)return[];var n=M(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var s=X(i.join("/")),u=[];return u.push.apply(u,b(s.map((function(e){return""===e?o:[o,e].join("/")})))),a&&u.push.apply(u,b(s)),u.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var J=/^:\w+$/,$=3,Z=2,ee=1,te=10,ne=-2,re=function(e){return"*"===e};function ie(e,t){var n=e.split("/"),r=n.length;return n.some(re)&&(r+=ne),t&&(r+=Z),n.filter((function(e){return!re(e)})).reduce((function(e,t){return e+(J.test(t)?$:""===t?ee:te)}),r)}function ae(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=oe({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:ce([i,l.pathname]),pathnameBase:le(ce([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=ce([i,l.pathnameBase]))}return a}function oe(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);z("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=L(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return z(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function se(e){try{return decodeURI(e)}catch(t){return z(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function ue(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}var ce=function(e){return e.join("/").replace(/\/\/+/g,"/")},le=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},fe=function(e){S(n,e);var t=P(n);function n(){return w(this,n),t.apply(this,arguments)}return E(n)}(R(Error));function he(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var de=["post","put","patch","delete"],pe=(new Set(de),["get"].concat(de));new Set(pe),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function ve(){return ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ve.apply(this,arguments)}var me=t.createContext(null);var ge=t.createContext(null);var ye=t.createContext(null);var ke=t.createContext(null);var be=t.createContext(null);var we=t.createContext({outlet:null,matches:[],isDataRoute:!1});var xe=t.createContext(null);function _e(){return null!=t.useContext(be)}function Ie(){return _e()||V(!1),t.useContext(be).location}function Ee(e,n,r){_e()||V(!1);var i,a=t.useContext(ke).navigator,o=t.useContext(we).matches,s=o[o.length-1],u=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/"),l=(s&&s.route,Ie());if(n){var f,h="string"===typeof n?W(n):n;"/"===c||(null==(f=h.pathname)?void 0:f.startsWith(c))||V(!1),i=h}else i=l;var d=i.pathname||"/",p=Q(e,{pathname:"/"===c?d:d.slice(c.length)||"/"});var v=De(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:ce([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:ce([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,r);return n&&v?t.createElement(be.Provider,{value:{location:ve({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:m.Pop}},v):v}function Te(){var e=function(){var e,n=t.useContext(xe),r=Re(Ne.UseRouteError),i=je(Ne.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=he(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var Se,Ne,Ce=t.createElement(Te,null),Ae=function(e){S(r,e);var n=P(r);function r(e){var t;return w(this,r),(t=n.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return E(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(we.Provider,{value:this.props.routeContext},t.createElement(xe.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),r}(t.Component);function Pe(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(me);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(we.Provider,{value:n},i)}function De(e,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==e){var a;if(null==(a=r)||!a.errors)return null;e=r.matches}var o=e,s=null==(i=r)?void 0:i.errors;if(null!=s){var u=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));u>=0||V(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((function(e,i,a){var u=i.route.id?null==s?void 0:s[i.route.id]:null,c=null;r&&(c=i.route.errorElement||Ce);var l=n.concat(o.slice(0,a+1)),f=function(){var n;return n=u?c:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(Pe,{match:i,routeContext:{outlet:e,matches:l,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?t.createElement(Ae,{location:r.location,revalidation:r.revalidation,component:c,error:u,children:f(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):f()}),null)}function Re(e){var n=t.useContext(ge);return n||V(!1),n}function je(e){var n=function(e){var n=t.useContext(we);return n||V(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||V(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(Se||(Se={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(Ne||(Ne={}));var Oe;r.startTransition;function Le(e){V(!1)}function Me(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,s=e.navigationType,u=void 0===s?m.Pop:s,c=e.navigator,l=e.static,f=void 0!==l&&l;_e()&&V(!1);var h=r.replace(/^\/*/,"/"),d=t.useMemo((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=W(o));var p=o,v=p.pathname,g=void 0===v?"/":v,y=p.search,k=void 0===y?"":y,b=p.hash,w=void 0===b?"":b,x=p.state,_=void 0===x?null:x,I=p.key,E=void 0===I?"default":I,T=t.useMemo((function(){var e=ue(g,h);return null==e?null:{location:{pathname:e,search:k,hash:w,state:_,key:E},navigationType:u}}),[h,g,k,w,_,E,u]);return null==T?null:t.createElement(ke.Provider,{value:d},t.createElement(be.Provider,{children:a,value:T}))}function Fe(e){var t=e.children,n=e.location;return Ee(Ue(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Oe||(Oe={}));var Be=new Promise((function(){}));t.Component;function Ue(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e)){var a=[].concat(b(n),[i]);if(e.type!==t.Fragment){e.type!==Le&&V(!1),e.props.index&&e.props.children&&V(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Ue(e.props.children,a)),r.push(o)}else r.push.apply(r,Ue(e.props.children,a))}})),r}var Ve=function(){var e=new URLSearchParams(Ie().search),n=parseInt(e.get("grd")),r=parseInt(e.get("cls")),i=1;null!=n&&null!=r||(n=1,r=1,i=0),0!=n&&0!=r||(n=1,r=1,i=0),void 0==y[n]&&(n=1,r=1,i=0),void 0==y[n][r]&&(n=1,r=1,i=0);var s={x:0,y:0},u={x:0,y:0},c=0,l={x:0,y:0},f={x:0,y:0},h=500,d=h,p=0,v=1e3,m=3e3,g=1,k=["\u5c4b\u5916","\u5c4b\u5185"];function b(e){s.x=e.touches[0].clientX,s.y=e.touches[0].clientY,2==e.touches.length&&(u.x=e.touches[1].clientX,u.y=e.touches[1].clientY,l.x=(s.x+u.x)/2,l.y=(s.y+u.y)/2,c=Math.hypot(u.x-s.x,u.y-s.y))}function w(e){if(e.preventDefault(),1==e.touches.length){var t={x:e.touches[0].clientX,y:e.touches[0].clientY},n=document.getElementById("mapCanvas"),r=d-n.clientWidth;f.x+=t.x-s.x,f.x>0?f.x=0:f.x<-r?f.x=-r:s.x=t.x,f.y+=t.y-s.y,f.y>0?f.y=0:f.y<-r?f.y=-r:s.y=t.y,E(f.x,f.y,d)}else if(2==e.touches.length){s.x=e.touches[0].clientX,s.y=e.touches[0].clientY,u.x=e.touches[1].clientX,u.y=e.touches[1].clientY;var i={x:(s.x+u.x)/2,y:(s.y+u.y)/2},a=Math.hypot(u.x-s.x,u.y-s.y),o=document.getElementById("mapMovingBox").getBoundingClientRect(),p=2*(a-c)*d/h;(d+=p)>m&&(p=0,d=m),c=a;var k=document.getElementById("mapCanvas"),b=d-k.clientWidth,w={x:0,y:0};if(f.x+=p*(o.left-i.x)/d,f.x>0&&(f.x=0,w.x++),f.x<-b&&(f.x=-b,w.x++),f.y+=p*(o.top-i.y)/d,f.y>0&&(f.y=0,w.y++),f.y<-b&&(f.y=-b,w.y++),2==w.x&&(d=k.clientWidth,f.x=0),2==w.y&&(d=k.clientWidth,f.y=0),f.x+=i.x-l.x,f.x>0?f.x=0:f.x<-b?f.x=-b:l.x=i.x,f.y+=i.y-l.y,f.y>0?f.y=0:f.y<-b?f.y=-b:l.y=i.y,E(f.x,f.y,d),d>=v&&d-p<v){for(var x=document.getElementsByClassName("mapObjectBox"),_=document.getElementsByClassName("mapObjectImage"),I=0;I<x.length;I++){var T=_[I].id.split("-");y[T[0]][T[1]].mapType==g&&x[I].classList.remove("invisible")}document.getElementById("zoomDescription").classList.add("invisible")}else if(d<v&&d-p>=v)for(var S=document.getElementsByClassName("mapObjectBox"),N=0;N<S.length;N++)S[N].classList.add("invisible")}}function x(e){e.preventDefault();var t=e.clientX,n=e.clientY,r=document.getElementById("mapMovingBox").getBoundingClientRect(),i=-.4*e.deltaY*d/h;(d+=i)>m&&(i=0,d=m);var a=document.getElementById("mapCanvas"),o=d-a.clientWidth,s={x:0,y:0};if(f.x+=i*(r.left-t)/d,f.x>0&&(f.x=0,s.x++),f.x<-o&&(f.x=-o,s.x++),f.y+=i*(r.top-n)/d,f.y>0&&(f.y=0,s.y++),f.y<-o&&(f.y=-o,s.y++),2==s.x&&(d=a.clientWidth,f.x=0),2==s.y&&(d=a.clientWidth,f.y=0),E(f.x,f.y,d),d>=v&&d-i<v){for(var u=document.getElementsByClassName("mapObjectBox"),c=document.getElementsByClassName("mapObjectImage"),l=0;l<u.length;l++){var p=c[l].id.split("-");y[p[0]][p[1]].mapType==g&&u[l].classList.remove("invisible")}document.getElementById("zoomDescription").classList.add("invisible")}else if(d<v&&d-i>=v)for(var k=document.getElementsByClassName("mapObjectBox"),b=0;b<k.length;b++)k[b].classList.add("invisible")}function _(e){1==e.touches.length&&(s.x=e.touches[0].clientX,s.y=e.touches[0].clientY)}function I(e){p=0}function E(e,t,n){var r=document.getElementById("mapMovingBox");r.style.width=n+"px",r.style.height=n+"px",r.style.left=e+"px",r.style.top=t+"px"}(0,t.useEffect)((function(){if(function(){for(var e=document.getElementById("mapMovingBox"),t=1;t<y.length;t++)for(var n=1;n<y[t].length;n++){var r=document.createElement("div");r.classList.add("mapObjectBox"),r.classList.add("invisible"),r.style.top=y[t][n].posTop,r.style.left=y[t][n].posLeft;var i=document.createElement("input");i.type="image",i.src=y[t][n].imgPath,i.classList.add("mapObjectImage"),i.onclick=S,i.id=t+"-"+n;var a=document.createElement("p");a.classList.add("mapObjectText"),a.innerText=y[t][n].groupName,r.appendChild(i),e.appendChild(r)}}(),1==i){g=y[n][r].mapType,d=1500;var e={x:y[n][r].posLeft.replace(/[^0-9.]/g,""),y:y[n][r].posTop.replace(/[^0-9.]/g,"")},t={x:Number(e.x),y:Number(e.y)},a=document.getElementById("mapCanvas"),o=d-a.clientWidth;f.x=a.clientWidth/2-d*t.x/100,f.x>0?f.x=0:f.x<-o&&(f.x=-o),f.y=a.clientWidth/2-d*t.y/100,f.y>0?f.y=0:f.y<-o&&(f.y=-o)}1==g&&(document.getElementById("campusMap_2").classList.add("invisible"),document.getElementById("mapProjectList_2").style.display="none");2==g&&(document.getElementById("campusMap_1").classList.add("invisible"),document.getElementById("mapProjectList_1").style.display="none");if(document.getElementById("mapTypeDescription").innerText=k[g-1]+"\u30de\u30c3\u30d7",document.getElementById("mapProjectTitle").innerText=k[g-1]+"\u4f01\u753b\u4e00\u89a7",document.getElementById("mapChangeButton").innerText=k[2-g]+"\u30de\u30c3\u30d7\u306b\u5207\u308a\u66ff\u3048",d>=v){for(var s=document.getElementsByClassName("mapObjectBox"),u=document.getElementsByClassName("mapObjectImage"),c=0;c<s.length;c++){var l=u[c].id.split("-");y[l[0]][l[1]].mapType==g&&s[c].classList.remove("invisible")}document.getElementById("zoomDescription").classList.add("invisible")}E(f.x,f.y,d)}),[]);var T=(0,t.useRef)(null);function S(){var e=this.id.split("-");window.location.assign(a.projectDetail.path+"?grd="+e[0]+"&cls="+e[1])}return(0,t.useEffect)((function(){return T.current.addEventListener("touchstart",b,{passive:!1}),T.current.addEventListener("touchmove",w,{passive:!1}),T.current.addEventListener("touchend",_,{passive:!1}),T.current.addEventListener("wheel",x,{passive:!1}),function(){T.current.removeEventListener("touchstart",b),T.current.removeEventListener("touchmove",w),T.current.removeEventListener("touchend",_),T.current.removeEventListener("wheel",x)}})),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("img",{src:"".concat("","/img/backGround/antique.jpg"),className:"backGroundImage responsiveWidth"}),(0,o.jsxs)("div",{id:"mapCanvas",className:"mapCanvas",ref:T,onMouseDown:function(e){e.preventDefault(),p=1,s.x=e.clientX,s.y=e.clientY},onMouseMove:function(e){if(e.preventDefault(),1==p){var t={x:e.clientX,y:e.clientY},n=document.getElementById("mapCanvas"),r=d-n.clientWidth;f.x+=t.x-s.x,f.x>0?f.x=0:f.x<-r?f.x=-r:s.x=t.x,f.y+=t.y-s.y,f.y>0?f.y=0:f.y<-r?f.y=-r:s.y=t.y,E(f.x,f.y,d)}},onMouseUp:I,onMouseLeave:I,children:[(0,o.jsxs)("div",{id:"mapMovingBox",className:"mapMovingBox",children:[(0,o.jsx)("img",{id:"mapBackImg",className:"mapBackImg",src:"".concat("","/img/map/mapBack.jpg")}),(0,o.jsx)("img",{id:"campusMap_1",className:"campusMap_1",src:"".concat("","/img/map/campusMap_1.svg")}),(0,o.jsx)("img",{id:"campusMap_2",className:"campusMap_2",src:"".concat("","/img/map/campusMap_2.svg")})]}),(0,o.jsx)("div",{id:"mapTypeDescription",className:"mapTypeDescription",children:"\u5c4b\u5916\u30de\u30c3\u30d7"}),(0,o.jsx)("div",{id:"zoomDescription",className:"zoomDescription",children:"\u30de\u30c3\u30d7\u3092\u62e1\u5927\u3059\u308b\u3068\u5404\u4f01\u753b\u304c\u8868\u793a\u3055\u308c\u307e\u3059"})]}),(0,o.jsx)("div",{onClick:function(){g=1==g?2:1,f.x=0,f.y=0,d=h;var e=document.getElementById("campusMap_1"),t=document.getElementById("campusMap_2"),n=document.getElementById("mapProjectList_1"),r=document.getElementById("mapProjectList_2");1==g&&(e.classList.remove("invisible"),t.classList.add("invisible"),n.style.display="block",r.style.display="none"),2==g&&(e.classList.add("invisible"),t.classList.remove("invisible"),n.style.display="none",r.style.display="block"),document.getElementById("mapTypeDescription").innerText=k[g-1]+"\u30de\u30c3\u30d7",document.getElementById("mapProjectTitle").innerText=k[g-1]+"\u4f01\u753b\u4e00\u89a7",document.getElementById("mapChangeButton").innerText=k[2-g]+"\u30de\u30c3\u30d7\u306b\u5207\u308a\u66ff\u3048";for(var i=document.getElementsByClassName("mapObjectBox"),a=0;a<i.length;a++)i[a].classList.add("invisible");E(f.x,f.y,d)},id:"mapChangeButton",className:"mapChangeButton",children:"\u5c4b\u5185\u30de\u30c3\u30d7\u306b\u5207\u308a\u66ff\u3048"}),(0,o.jsx)("div",{className:"contents",children:(0,o.jsx)("div",{className:"contents_innerBlock",children:(0,o.jsxs)("div",{className:"mapProjectList",children:[(0,o.jsx)("p",{id:"mapProjectTitle",className:"heading2"}),(0,o.jsxs)("ul",{id:"mapProjectList_1",className:"ul_map",children:[(0,o.jsx)("li",{children:"\u69cb\u9020\u30c7\u30b6\u30a4\u30f3\u7814\u7a76\u4f1a"}),(0,o.jsx)("li",{children:"\u30d0\u30ec\u30fc\u30dc\u30fc\u30eb\u90e8"}),(0,o.jsx)("li",{children:"\u81ea\u8ee2\u8eca\u611b\u597d\u4f1a"}),(0,o.jsx)("li",{children:"\u30b5\u30c3\u30ab\u30fc\u90e8"}),(0,o.jsx)("li",{children:"\u30ed\u30dc\u30c3\u30c8\u7814\u7a76\u4f1a"}),(0,o.jsx)("li",{children:"5\u5e74 \u74b0\u5883\u90fd\u5e02\u5de5\u5b66\u79d1"}),(0,o.jsx)("li",{children:"\u30e9\u30b0\u30d3\u30fc\u611b\u597d\u4f1a"}),(0,o.jsx)("li",{children:"\u7406\u79d1\u90e8"}),(0,o.jsx)("li",{children:"\u5b66\u751f\u4f1a\u57f7\u884c\u90e8"}),(0,o.jsx)("li",{children:"\u30af\u30a4\u30ba\u7814\u7a76\u4f1a"}),(0,o.jsx)("li",{children:"3\u5e74 \u74b0\u5883\u90fd\u5e02\u5de5\u5b66\u79d1"}),(0,o.jsx)("li",{children:"3D\u30c7\u30b6\u30a4\u30f3\u7814\u7a76\u4f1a"}),(0,o.jsx)("li",{children:"4\u5e74 \u96fb\u5b50\u30e1\u30c7\u30a3\u30a2\u5de5\u5b66\u79d1"}),(0,o.jsx)("li",{children:"SF\u7814\u7a76\u90e8"}),(0,o.jsx)("li",{children:"4\u5e74 \u6a5f\u68b0\u5de5\u5b66\u79d1"}),(0,o.jsx)("li",{children:"4\u5e74 \u74b0\u5883\u90fd\u5e02\u5de5\u5b66\u79d1"}),(0,o.jsx)("li",{children:"\u30d0\u30b9\u30b1\u30c3\u30c8\u30dc\u30fc\u30eb\u90e8"}),(0,o.jsx)("li",{children:"\u30b3\u30f3\u30af\u30ea\u30fc\u30c8\u30ab\u30cc\u30fc\u611b\u597d\u4f1a"}),(0,o.jsx)("li",{children:"\u30c6\u30cb\u30b9\u90e8"}),(0,o.jsx)("li",{children:"2\u5e74 3\u7d44"}),(0,o.jsx)("li",{children:"\u5263\u9053\u90e8"}),(0,o.jsx)("li",{children:"\u9678\u4e0a\u7af6\u6280\u90e8"}),(0,o.jsx)("li",{children:"\u30a8\u30b3\u30ce\u30d1\u30ef\u30fc\u611b\u597d\u4f1a"}),(0,o.jsx)("li",{children:"1\u5e74 1\u7d44"}),(0,o.jsx)("li",{children:"\u30d0\u30c9\u30df\u30f3\u30c8\u30f3\u90e8"}),(0,o.jsx)("li",{children:"\u5353\u7403\u90e8"}),(0,o.jsx)("li",{children:"\u786c\u5f0f\u91ce\u7403\u90e8"}),(0,o.jsx)("li",{children:"\u30bd\u30d5\u30c8\u30c6\u30cb\u30b9\u90e8"}),(0,o.jsx)("li",{children:"\u6c34\u6cf3\u90e8"}),(0,o.jsx)("li",{children:"3\u5e74 \u96fb\u5b50\u60c5\u5831\u5de5\u5b66\u79d1"}),(0,o.jsx)("li",{children:"\u67d4\u9053\u90e8"}),(0,o.jsx)("li",{children:"\u8336\u9053\u90e8"})]}),(0,o.jsxs)("ul",{id:"mapProjectList_2",className:"ul_map",children:[(0,o.jsx)("li",{children:"\u5c06\u68cb\u90e8"}),(0,o.jsx)("li",{children:"4\u5e74 \u7269\u8cea\u5de5\u5b66\u79d1"}),(0,o.jsx)("li",{children:"1\u5e74 3\u7d44"}),(0,o.jsx)("li",{children:"1\u5e74 4\u7d44"}),(0,o.jsx)("li",{children:"1\u5e74 5\u7d44"}),(0,o.jsx)("li",{children:"2\u5e74 5\u7d44"}),(0,o.jsx)("li",{children:"2\u5e74 2\u7d44"}),(0,o.jsx)("li",{children:"\u7121\u7dda\u901a\u4fe1\u611b\u597d\u4f1a"}),(0,o.jsx)("li",{children:"3\u5e74 \u7269\u8cea\u5de5\u5b66\u79d1"}),(0,o.jsx)("li",{children:"5\u5e74 \u96fb\u5b50\u30e1\u30c7\u30a3\u30a2\u5de5\u5b66\u79d1"}),(0,o.jsx)("li",{children:"5\u5e74 \u6a5f\u68b0\u5de5\u5b66\u79d1"}),(0,o.jsx)("li",{children:"3\u5e74 \u96fb\u5b50\u30e1\u30c7\u30a3\u30a2\u5de5\u5b66\u79d1"}),(0,o.jsx)("li",{children:"4\u5e74 \u96fb\u5b50\u60c5\u5831\u5de5\u5b66\u79d1"}),(0,o.jsx)("li",{children:"3\u5e74 \u6a5f\u68b0\u5de5\u5b66\u79d1"}),(0,o.jsx)("li",{children:"2\u5e74 4\u7d44"}),(0,o.jsx)("li",{children:"\u6587\u82b8\u90e8"}),(0,o.jsx)("li",{children:"\u5165\u8a66\u5e83\u5831\u30d6\u30fc\u30b9"}),(0,o.jsx)("li",{children:"5\u5e74 \u96fb\u5b50\u60c5\u5831\u5de5\u5b66\u79d1"}),(0,o.jsx)("li",{children:"2\u5e74 1\u7d44"}),(0,o.jsx)("li",{children:"1\u5e74 2\u7d44"}),(0,o.jsx)("li",{children:"\u6709\u5fd7\uff08\u30df\u30e9\u30af\u30eb\u2605\u30e9\u30a4\u30c9\uff09"}),(0,o.jsx)("li",{children:"\u5439\u594f\u697d\u90e8"}),(0,o.jsx)("li",{children:"\u5199\u771f\u90e8"}),(0,o.jsx)("li",{children:"5\u5e74 \u7269\u8cea\u5de5\u5b66\u79d1"}),(0,o.jsx)("li",{children:"\u6f14\u5287\u90e8"}),(0,o.jsx)("li",{children:"\u6709\u5fd7\uff08M\u79d1\u5de5\u623f\uff5e\u30a6\u30c3\u30c9\u30d0\u30fc\u30cb\u30f3\u30b0\u4f53\u9a13\uff5e\uff09"}),(0,o.jsx)("li",{children:"\u6709\u5fd7\uff08\u30ac\u30c1\u30e3\u30ac\u30c1\u30e3\u30b8\u30e3\u30f3\u30b0\u30eb\uff09"}),(0,o.jsx)("li",{children:"\u7f8e\u8853\u90e8"}),(0,o.jsx)("li",{children:"\u96fb\u7b97\u90e8"})]})]})})})]})};var ze=function(){var e=new URLSearchParams(Ie().search),n=parseInt(e.get("grd"));null==n&&(n=1),0==n&&(n=1),void 0==y[n]&&(n=1);var r=n;function i(e){for(var t=document.getElementById("planetArea"),n=document.getElementsByClassName("planetBox");n.length>0;)n[0].remove();for(var r=new Array(e),i=1;i<y[e].length;i++){var o=document.createElement("div");o.classList.add("planetBox"),o.classList.add("boxMotion"+i),o.style.left=r[i-1]+"%";var s=document.createElement("a"),c=a.projectDetail.path+"?grd="+e+"&cls="+i;s.href=c;var f=document.createElement("img");f.src=y[e][i].imgPath,f.classList.add("planetImage"),f.style.animationDelay=parseInt(4e3*i/(y[e].length-1))+"ms",f.id=e+"-"+i;var h=document.createElement("p");h.classList.add("planetGroupName"),h.innerHTML=e>=3&&e<=5?y[e][i].groupName.replace(" ","<br />"):y[e][i].groupName,h.style.visibility="hidden";var d=document.createElement("p");d.classList.add("planetProjectName"),d.innerHTML=y[e][i].projectName,d.style.visibility="hidden",s.appendChild(f),o.appendChild(h),o.appendChild(s),o.appendChild(d),t.appendChild(o)}u(l=0)}function s(e,t){e.style.borderColor=["#FF00F7","#F7FF00","#00F7FF","#00FF5D"][t%4]}function u(e){var t=document.getElementsByClassName("planetBox");if(0==t.length);else for(var n=0;n<t.length;n++){var r=2*n*Math.PI/t.length+e,i=2*(30+10*Math.cos(r));t[n].style.left=50-i/2+35*Math.sin(r)+"%",t[n].style.top=50-i/2+20*Math.cos(r)+"%";var a=parseInt(100*Math.cos(r));t[n].style.zIndex=1e3+a,t[n].style.width=i+"%",t[n].style.height=i+"%",a>80?t[n].classList.remove("imgBlur"):t[n].classList.add("imgBlur")}}(0,t.useEffect)((function(){var e=document.getElementById("projectSelectBar"),t=function(t){if(0==t)return"continue";var a=document.createElement("button");a.classList.add("projectSelectButton"),t==n&&a.classList.add("projectSelectButton_selected"),a.innerText=y[t][0],a.addEventListener("click",(function(){return function(e,t){for(var n=document.getElementById("planetArea"),a=document.getElementsByClassName("planetGroupName"),o=document.getElementsByClassName("planetProjectName"),u=document.getElementsByClassName("planetImage"),c=0;c<a.length;c++)a[c].style.visibility="hidden",o[c].style.visibility="hidden",u[c].style.animationName="none",u[c].style.border="solid 8px #00000000";n.style.animationTimingFunction="ease-in",n.style.animationName="fadeOut";var l=document.getElementsByClassName("projectSelectButton");l[t-1].classList.remove("projectSelectButton_selected"),l[e-1].classList.add("projectSelectButton_selected"),r=e,setTimeout((function(){i(e),n.style.animationTimingFunction="ease-out",n.style.animationName="fadeIn"}),800),setTimeout((function(){for(var t=document.getElementsByClassName("planetGroupName"),n=document.getElementsByClassName("planetProjectName"),r=document.getElementsByClassName("planetImage"),i=0;i<t.length;i++)t[i].style.visibility="visible",n[i].style.visibility="visible",r[i].style.border="double 8px #FFFFFF",s(r[i],e)}),1400)}(t,r)})),e.appendChild(a)};for(var a in y)t(a);i(n);var o=document.getElementById("planetArea");o.style.animationTimingFunction="ease-out",o.style.animationName="fadeIn",setTimeout((function(){for(var e=document.getElementsByClassName("planetGroupName"),t=document.getElementsByClassName("planetProjectName"),r=document.getElementsByClassName("planetImage"),i=0;i<e.length;i++)e[i].style.visibility="visible",t[i].style.visibility="visible",r[i].style.border="double 8px #00FFFF",s(r[i],n)}),600)}),[]);var c={x:0,y:0},l=0,h=0,d=0;function p(e){c.x=e.touches[0].clientX,c.y=e.touches[0].clientY,u(l)}function v(e){e.preventDefault();var t={x:e.touches[0].clientX,y:e.touches[0].clientY};l+=(t.x-c.x)/100,c.x=t.x,c.y=t.y,u(l)}function m(e){h=0}function g(e){e.preventDefault();var t=-.02*e.deltaY;(d+=t)>0&&(d=0),d<-50&&(d=-50);var n,r=f(document.getElementsByClassName("projectSelectButton"));try{for(r.s();!(n=r.n()).done;){n.value.style.left=d+"rem"}}catch(i){r.e(i)}finally{r.f()}}var k=(0,t.useRef)(null);(0,t.useEffect)((function(){return k.current.addEventListener("touchstart",p,{passive:!1}),k.current.addEventListener("touchmove",v,{passive:!1}),function(){k.current.removeEventListener("touchstart",p),k.current.removeEventListener("touchmove",v)}}));var b=(0,t.useRef)(null);return(0,t.useEffect)((function(){return b.current.addEventListener("wheel",g,{passive:!1}),function(){b.current.removeEventListener("wheel",g)}})),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("img",{src:"".concat("","/img/backGround/space.jpg"),className:"backGroundImage responsiveWidth"}),(0,o.jsxs)("div",{className:"moitonArea responsiveWidth",children:[(0,o.jsx)("div",{id:"projectSelectBar",className:"projectSelectBar",ref:b}),(0,o.jsx)("div",{id:"planetArea",className:"planetArea",ref:k,onMouseDown:function(e){h=1,c.x=e.clientX,c.y=e.clientY,u(l)},onMouseMove:function(e){if(1==h){e.preventDefault();var t={x:e.clientX,y:e.clientY};l+=(t.x-c.x)/100,c.x=t.x,c.y=t.y,u(l)}},onMouseUp:m,onMouseLeave:m})]}),(0,o.jsx)("div",{className:"contents",children:(0,o.jsx)("div",{className:"contents_innerBlock"})})]})};var qe=function(){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"backGroundImage responsiveWidth",children:[(0,o.jsx)("img",{src:"".concat("","/img/poster/kokasaiPoster.jpg"),className:"kokasaiPoster_noAnimation"}),(0,o.jsx)("img",{src:"".concat("","/img/poster/kokasaiPoster.jpg"),className:"kokasaiPoster_mirror"})]}),(0,o.jsx)("div",{className:"posterArea_noPosterText"}),(0,o.jsx)("div",{className:"contents contents_whitesmoke noPosterText",children:(0,o.jsxs)("div",{className:"contents_innerBlock",children:[(0,o.jsx)("br",{}),(0,o.jsx)("p",{className:"heading2",children:"\u30db\u30fc\u30e0\u30da\u30fc\u30b8\u88fd\u4f5c\u8005"}),(0,o.jsxs)("div",{className:"creditContent",children:[(0,o.jsx)("p",{className:"heading3",children:"HP\u30c7\u30b6\u30a4\u30f3"}),(0,o.jsx)("p",{children:"\u672c\u5cf6 \u7409\u77e2"}),(0,o.jsx)("p",{children:"\u6b66\u85e4 \u745e\u751f"}),(0,o.jsx)("p",{children:"\u5e73\u5ddd \u5927\u6a39"}),(0,o.jsx)("p",{children:"\u5948\u826f \u51db\u5fc3"}),(0,o.jsx)("p",{children:"\u95a2\u53e3 \u51f1\u6597"})]}),(0,o.jsxs)("div",{className:"creditContent",children:[(0,o.jsx)("p",{className:"heading3",children:"\u30a4\u30e9\u30b9\u30c8\u30fb\u80cc\u666f\u4f5c\u6210"}),(0,o.jsx)("p",{children:"\u5948\u826f \u51db\u5fc3"})]}),(0,o.jsxs)("div",{className:"creditContent",children:[(0,o.jsx)("p",{className:"heading3",children:"\u30dd\u30b9\u30bf\u30fc\uff08\u30db\u30fc\u30e0\u753b\u9762\u80cc\u666f\uff09\u4f5c\u6210"}),(0,o.jsx)("p",{children:"\u5e73\u5ddd \u5927\u6a39"})]}),(0,o.jsxs)("div",{className:"creditContent",children:[(0,o.jsx)("p",{className:"heading3",children:"\u30de\u30c3\u30d7\u4f5c\u6210"}),(0,o.jsx)("p",{children:"\u77f3\u5ddd \u771f"})]}),(0,o.jsxs)("div",{className:"creditContent",children:[(0,o.jsx)("p",{className:"heading3",children:"HP\u958b\u767a"}),(0,o.jsx)("p",{children:"\u6b66\u85e4 \u745e\u751f"})]}),(0,o.jsx)("br",{})]})})]})};var Ge=function(){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"backGroundImage responsiveWidth",children:[(0,o.jsx)("img",{src:"".concat("","/img/poster/kokasaiPoster.jpg"),className:"kokasaiPoster_noAnimation"}),(0,o.jsx)("img",{src:"".concat("","/img/poster/kokasaiPoster.jpg"),className:"kokasaiPoster_mirror"})]}),(0,o.jsx)("div",{className:"posterArea_noPosterText"}),(0,o.jsx)("div",{className:"contents contents_whitesmoke noPosterText",children:(0,o.jsxs)("div",{className:"contents_innerBlock",children:[(0,o.jsx)("br",{}),(0,o.jsx)("p",{className:"heading2",children:"\u304a\u554f\u5408\u305b"}),(0,o.jsx)("p",{children:"\u3000\u7b2c24\u56de\u5de5\u83ef\u796d\u3084\u3053\u306e\u30db\u30fc\u30e0\u30da\u30fc\u30b8\u306b\u3064\u3044\u3066\u3054\u4e0d\u660e\u306a\u70b9\u3084\u304a\u6c17\u3065\u304d\u306e\u70b9\u304c\u3054\u3056\u3044\u307e\u3057\u305f\u3089\u3001\u5de5\u83ef\u796d\u516c\u5f0fX\uff08\u65e7twitter\uff09\u307e\u305f\u306f\u4e0b\u8a18\u30d5\u30a9\u30fc\u30e0\u307e\u3067\u3054\u9023\u7d61\u304f\u3060\u3055\u3044\u3002"}),(0,o.jsx)("p",{children:(0,o.jsx)("a",{href:"https://twitter.com/nitgc_kokasai",children:">>\u5de5\u83ef\u796d\u516c\u5f0fX"})}),(0,o.jsx)("p",{children:(0,o.jsx)("a",{href:"https://forms.office.com/r/4VwBRzEQuM",children:">>\u304a\u554f\u5408\u305b\u30d5\u30a9\u30fc\u30e0"})}),(0,o.jsx)("br",{})]})})]})};var Ke=function(){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"backGroundImage responsiveWidth",children:[(0,o.jsx)("img",{src:"".concat("","/img/poster/kokasaiPoster.jpg"),className:"kokasaiPoster_noAnimation"}),(0,o.jsx)("img",{src:"".concat("","/img/poster/kokasaiPoster.jpg"),className:"kokasaiPoster_mirror"})]}),(0,o.jsx)("div",{className:"posterArea_noPosterText"}),(0,o.jsxs)("div",{className:"contents contents_whitesmoke noPosterText",children:[(0,o.jsxs)("div",{className:"contents_innerBlock apologize_center",children:[(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)("p",{children:"\u3053\u306e\u30da\u30fc\u30b8\u306f\u8fd1\u65e5\u516c\u958b\u4e88\u5b9a\u3067\u3059"}),(0,o.jsx)("p",{children:"\u516c\u958b\u307e\u3067\u4eca\u3057\u3070\u3089\u304f\u304a\u5f85\u3061\u304f\u3060\u3055\u3044"}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{})]}),(0,o.jsx)("br",{})]})]})};function We(e,t,n){return(t=_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var He=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Qe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(He(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new Ye;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ye=function(e){S(n,e);var t=P(n);function n(){var e;return w(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return E(n)}(R(Error)),Xe=function(e){return function(e){var t=He(e);return Qe.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Je=function(e){try{return Qe.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function $e(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=$e(e[n],t[n]));return e}var Ze=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},et=function(){try{return Ze()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Je(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},tt=function(){var e;return null===(e=et())||void 0===e?void 0:e.config},nt=function(){function e(){var t=this;w(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return E(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function rt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function it(){var e,t=null===(e=et())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function at(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ot(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function st(){var e=rt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ut(){try{return"object"===typeof indexedDB}catch(e){return!1}}var ct=function(e){S(n,e);var t=P(n);function n(e,r,i){var a;return w(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(A(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(A(a),lt.prototype.create),a}return E(n)}(R(Error)),lt=function(){function e(t,n,r){w(this,e),this.service=t,this.serviceName=n,this.errors=r}return E(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(ft,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new ct(n,a,t)}}]),e}();var ft=/\{\$([^}]+)}/g;function ht(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function dt(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function pt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(vt(s)&&vt(u)){if(!pt(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function vt(e){return null!==e&&"object"===typeof e}function mt(e){for(var t=[],n=function(){var e=L(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function gt(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=L(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function yt(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function kt(e,t){var n=new bt(e,t);return n.subscribe.bind(n)}var bt=function(){function e(t,n){var r=this;w(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return E(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=f(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=wt),void 0===r.error&&(r.error=wt),void 0===r.complete&&(r.complete=wt);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function wt(){}function xt(e){return e&&e._delegate?e._delegate:e}function _t(){_t=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(C){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),s=new T(i||[]);return r(o,"_invoke",{value:w(e,n,s)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};u(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(S([])));g&&g!==t&&n.call(g,a)&&(v=g);var y=p.prototype=h.prototype=Object.create(v);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,o,s){var u=l(e[r],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==x(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function S(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:N}}function N(){return{value:void 0,done:!0}}return d.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},k(b.prototype),u(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(y),u(y,s,"Generator"),u(y,a,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function It(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function Et(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){It(a,r,i,o,s,"next",e)}function s(e){It(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Tt=function(){function e(t,n,r){w(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return E(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),St="[DEFAULT]",Nt=function(){function e(t,n){w(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return E(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new nt;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:St})}catch(u){}var t,n=f(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=L(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Et(_t().mark((function e(){var t;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(b(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),b(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=f(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=L(i.value,2),u=s[0],c=s[1];r===this.normalizeInstanceIdentifier(u)&&c.resolve(a)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=f(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(oE){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===St?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(oE){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St;return this.component?this.component.multipleInstances?e:St:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ct,At,Pt=function(){function e(t){w(this,e),this.name=t,this.providers=new Map}return E(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Nt(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Dt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(At||(At={}));var Rt={debug:At.DEBUG,verbose:At.VERBOSE,info:At.INFO,warn:At.WARN,error:At.ERROR,silent:At.SILENT},jt=At.INFO,Ot=(We(Ct={},At.DEBUG,"log"),We(Ct,At.VERBOSE,"log"),We(Ct,At.INFO,"info"),We(Ct,At.WARN,"warn"),We(Ct,At.ERROR,"error"),Ct),Lt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Ot[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Mt=function(){function e(t){w(this,e),this.name=t,this._logLevel=jt,this._logHandler=Lt,this._userLogHandler=null,Dt.push(this)}return E(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in At))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Rt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,At.DEBUG].concat(t)),this._logHandler.apply(this,[this,At.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,At.VERBOSE].concat(t)),this._logHandler.apply(this,[this,At.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,At.INFO].concat(t)),this._logHandler.apply(this,[this,At.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,At.WARN].concat(t)),this._logHandler.apply(this,[this,At.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,At.ERROR].concat(t)),this._logHandler.apply(this,[this,At.ERROR].concat(t))}}]),e}();function Ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(n),!0).forEach((function(t){We(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ut,Vt,zt=function(e,t){return t.some((function(t){return e instanceof t}))};var qt=new WeakMap,Gt=new WeakMap,Kt=new WeakMap,Wt=new WeakMap,Ht=new WeakMap;var Qt={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Gt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Kt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jt(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Yt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Vt||(Vt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply($t(this),n),Jt(qt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Jt(e.apply($t(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[$t(this),t].concat(r));return Kt.set(a,t.sort?t.sort():[t]),Jt(a)}}function Xt(e){return"function"===typeof e?Yt(e):(e instanceof IDBTransaction&&function(e){if(!Gt.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Gt.set(e,t)}}(e),zt(e,Ut||(Ut=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Qt):e)}function Jt(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Jt(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&qt.set(t,e)})).catch((function(){})),Ht.set(t,e),t}(e);if(Wt.has(e))return Wt.get(e);var t=Xt(e);return t!==e&&(Wt.set(e,t),Ht.set(t,e)),t}var $t=function(e){return Ht.get(e)};var Zt,en,tn=["get","getKey","getAll","getAllKeys","count"],nn=["put","add","delete","clear"],rn=new Map;function an(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(rn.get(t))return rn.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=nn.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||tn.includes(n))){var a=function(){var e=Et(_t().mark((function e(t){var a,o,s,u,c,l,f=arguments;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return rn.set(t,a),a}}}Qt=function(e){return Bt(Bt({},e),{},{get:function(t,n,r){return an(t,n)||e.get(t,n,r)},has:function(t,n){return!!an(t,n)||e.has(t,n)}})}(Qt);var on=function(){function e(t){w(this,e),this.container=t}return E(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var sn="@firebase/app",un="0.9.13",cn=new Mt("@firebase/app"),ln="[DEFAULT]",fn=(We(Zt={},sn,"fire-core"),We(Zt,"@firebase/app-compat","fire-core-compat"),We(Zt,"@firebase/analytics","fire-analytics"),We(Zt,"@firebase/analytics-compat","fire-analytics-compat"),We(Zt,"@firebase/app-check","fire-app-check"),We(Zt,"@firebase/app-check-compat","fire-app-check-compat"),We(Zt,"@firebase/auth","fire-auth"),We(Zt,"@firebase/auth-compat","fire-auth-compat"),We(Zt,"@firebase/database","fire-rtdb"),We(Zt,"@firebase/database-compat","fire-rtdb-compat"),We(Zt,"@firebase/functions","fire-fn"),We(Zt,"@firebase/functions-compat","fire-fn-compat"),We(Zt,"@firebase/installations","fire-iid"),We(Zt,"@firebase/installations-compat","fire-iid-compat"),We(Zt,"@firebase/messaging","fire-fcm"),We(Zt,"@firebase/messaging-compat","fire-fcm-compat"),We(Zt,"@firebase/performance","fire-perf"),We(Zt,"@firebase/performance-compat","fire-perf-compat"),We(Zt,"@firebase/remote-config","fire-rc"),We(Zt,"@firebase/remote-config-compat","fire-rc-compat"),We(Zt,"@firebase/storage","fire-gcs"),We(Zt,"@firebase/storage-compat","fire-gcs-compat"),We(Zt,"@firebase/firestore","fire-fst"),We(Zt,"@firebase/firestore-compat","fire-fst-compat"),We(Zt,"fire-js","fire-js"),We(Zt,"firebase","fire-js-all"),Zt),hn=new Map,dn=new Map;function pn(e,t){try{e.container.addComponent(t)}catch(n){cn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function vn(e,t){e.container.addOrOverwriteComponent(t)}function mn(e){var t=e.name;if(dn.has(t))return cn.debug("There were multiple attempts to register component ".concat(t,".")),!1;dn.set(t,e);var n,r=f(hn.values());try{for(r.s();!(n=r.n()).done;){pn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function gn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function yn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ln;gn(e,t).clearInstance(n)}function kn(){dn.clear()}var bn=(We(en={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),We(en,"bad-app-name","Illegal App name: '{$appName}"),We(en,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),We(en,"app-deleted","Firebase App named '{$appName}' already deleted"),We(en,"no-options","Need to provide options, when not being deployed to hosting via source."),We(en,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),We(en,"invalid-log-argument","First argument to `onLog` must be null or a function."),We(en,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),We(en,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),We(en,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),We(en,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),en),wn=new lt("app","Firebase",bn),xn=function(){function e(t,n,r){var i=this;w(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Tt("app",(function(){return i}),"PUBLIC"))}return E(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw wn.create("app-deleted",{appName:this._name})}}]),e}(),_n="9.23.0";function In(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:ln,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw wn.create("bad-app-name",{appName:String(i)});if(n||(n=tt()),!n)throw wn.create("no-options");var a=hn.get(i);if(a){if(pt(n,a.options)&&pt(r,a.config))return a;throw wn.create("duplicate-app",{appName:i})}var o,s=new Pt(i),u=f(dn.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(h){u.e(h)}finally{u.f()}var l=new xn(n,r,s);return hn.set(i,l),l}function En(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln,t=hn.get(e);if(!t&&e===ln&&tt())return In();if(!t)throw wn.create("no-app",{appName:e});return t}function Tn(){return Array.from(hn.values())}function Sn(e){return Nn.apply(this,arguments)}function Nn(){return(Nn=Et(_t().mark((function e(t){var n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!hn.has(n)){e.next=6;break}return hn.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cn(e,t,n){var r,i=null!==(r=fn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void cn.warn(s.join(" "))}mn(new Tt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function An(e,t){if(null!==e&&"function"!==typeof e)throw wn.create("invalid-log-argument");!function(e,t){var n,r=f(Dt);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Rt[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:At[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Pn(e){var t;t=e,Dt.forEach((function(e){e.setLogLevel(t)}))}var Dn="firebase-heartbeat-database",Rn=1,jn="firebase-heartbeat-store",On=null;function Ln(){return On||(On=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Jt(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Jt(s.result),e.oldVersion,e.newVersion,Jt(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(Dn,Rn,{upgrade:function(e,t){if(0===t)e.createObjectStore(jn)}}).catch((function(e){throw wn.create("idb-open",{originalErrorMessage:e.message})}))),On}function Mn(e){return Fn.apply(this,arguments)}function Fn(){return Fn=Et(_t().mark((function e(t){var n,r,i;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ln();case 3:return n=e.sent,e.next=6,n.transaction(jn).objectStore(jn).get(Vn(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof ct?cn.warn(e.t0.message):(i=wn.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),cn.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),Fn.apply(this,arguments)}function Bn(e,t){return Un.apply(this,arguments)}function Un(){return Un=Et(_t().mark((function e(t,n){var r,i,a,o;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ln();case 3:return r=e.sent,i=r.transaction(jn,"readwrite"),a=i.objectStore(jn),e.next=8,a.put(n,Vn(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof ct?cn.warn(e.t0.message):(o=wn.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),cn.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),Un.apply(this,arguments)}function Vn(e){return"".concat(e.name,"!").concat(e.options.appId)}var zn=function(){function e(t){var n=this;w(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Hn(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return E(e,[{key:"triggerHeartbeat",value:function(){var e=Et(_t().mark((function e(){var t,n,r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=qn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Et(_t().mark((function e(){var t,n,r,i,a;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=qn(),n=Gn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Xe(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function qn(){return(new Date).toISOString().substring(0,10)}function Gn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=f(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Qn(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Qn(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Kn,Wn,Hn=function(){function e(t){w(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return E(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Et(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ut()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Et(_t().mark((function e(){var t;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Mn(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Et(_t().mark((function e(t){var n,r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Bn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Et(_t().mark((function e(t){var n,r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Bn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(b(r.heartbeats),b(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Qn(e){return Xe(JSON.stringify({version:2,heartbeats:e})).length}Kn="",mn(new Tt("platform-logger",(function(e){return new on(e)}),"PRIVATE")),mn(new Tt("heartbeat",(function(e){return new zn(e)}),"PRIVATE")),Cn(sn,un,Kn),Cn(sn,un,"esm2017"),Cn("fire-js","");var Yn=function(){function e(t,n){var r=this;w(this,e),this._delegate=t,this.firebase=n,pn(t,new Tt("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return E(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Sn(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ln;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ln;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){pn(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){vn(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Xn=(We(Wn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),We(Wn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Wn),Jn=new lt("app-compat","Firebase",Xn);var $n=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=In(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(ht(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Cn,setLogLevel:Pn,onLog:An,apps:null,SDK_VERSION:_n,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(mn(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Jn.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&$e(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!ht(n,e=e||ln))throw Jn.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Yn);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){$e(n,e)},createSubscribe:kt,ErrorFactory:lt,deepExtend:$e}),n}(),Zn=new Mt("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Zn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var er=self.firebase.SDK_VERSION;er&&er.indexOf("LITE")>=0&&Zn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var tr=$n;!function(e){Cn("@firebase/app-compat","0.2.13",e)}();function nr(){return nr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=N(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},nr.apply(this,arguments)}tr.registerVersion("firebase","9.23.0","app-compat");function rr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var ir,ar={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},or="EMAIL_SIGNIN",sr="PASSWORD_RESET",ur="RECOVER_EMAIL",cr="REVERT_SECOND_FACTOR_ADDITION",lr="VERIFY_AND_CHANGE_EMAIL",fr="VERIFY_EMAIL";function hr(){return We({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var dr=function(){var e;return We(e={},"admin-restricted-operation","This operation is restricted to administrators only."),We(e,"argument-error",""),We(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),We(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),We(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),We(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),We(e,"cordova-not-ready","Cordova framework is not ready."),We(e,"cors-unsupported","This browser is not supported."),We(e,"credential-already-in-use","This credential is already associated with a different user account."),We(e,"custom-token-mismatch","The custom token corresponds to a different audience."),We(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),We(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),We(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),We(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),We(e,"email-already-in-use","The email address is already in use by another account."),We(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),We(e,"expired-action-code","The action code has expired."),We(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),We(e,"internal-error","An internal AuthError has occurred."),We(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),We(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),We(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),We(e,"invalid-auth-event","An internal AuthError has occurred."),We(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),We(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),We(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),We(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),We(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),We(e,"invalid-email","The email address is badly formatted."),We(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),We(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),We(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),We(e,"invalid-credential","The supplied auth credential is malformed or has expired."),We(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),We(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),We(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),We(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),We(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),We(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),We(e,"wrong-password","The password is invalid or the user does not have a password."),We(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),We(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),We(e,"invalid-provider-id","The specified provider ID is invalid."),We(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),We(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),We(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),We(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),We(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),We(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),We(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),We(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),We(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),We(e,"missing-continue-uri","A continue URL must be provided in the request."),We(e,"missing-iframe-start","An internal AuthError has occurred."),We(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),We(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),We(e,"missing-password","A non-empty password must be provided"),We(e,"missing-multi-factor-info","No second factor identifier is provided."),We(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),We(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),We(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),We(e,"app-deleted","This instance of FirebaseApp has been deleted."),We(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),We(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),We(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),We(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),We(e,"no-auth-event","An internal AuthError has occurred."),We(e,"no-such-provider","User was not linked to an account with the given provider."),We(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),We(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),We(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),We(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),We(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),We(e,"provider-already-linked","User can only be linked to one identity for the given provider."),We(e,"quota-exceeded","The project's quota for this operation has been exceeded."),We(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),We(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),We(e,"rejected-credential","The request contains malformed or mismatching credentials."),We(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),We(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),We(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),We(e,"timeout","The operation has timed out."),We(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),We(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),We(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),We(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),We(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),We(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),We(e,"unverified-email","The operation requires a verified email."),We(e,"user-cancelled","The user did not grant your application the permissions it requested."),We(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),We(e,"user-disabled","The user account has been disabled by an administrator."),We(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),We(e,"user-signed-out",""),We(e,"weak-password","The password must be 6 characters long or more."),We(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),We(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),We(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),We(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),We(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),We(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),We(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),We(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),We(e,"invalid-req-type","Invalid request parameters."),We(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),e},pr=hr,vr=new lt("auth","Firebase",hr()),mr=new Mt("@firebase/auth");function gr(e){if(mr.logLevel<=At.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];mr.warn.apply(mr,["Auth (".concat(_n,"): ").concat(e)].concat(n))}}function yr(e){if(mr.logLevel<=At.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];mr.error.apply(mr,["Auth (".concat(_n,"): ").concat(e)].concat(n))}}function kr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw _r.apply(void 0,[e].concat(n))}function br(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return _r.apply(void 0,[e].concat(n))}function wr(e,t,n){var r=Object.assign(Object.assign({},pr()),We({},t,n));return new lt("auth","Firebase",r).create(t,{appName:e.name})}function xr(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&kr(e,"argument-error"),wr(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function _r(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=b(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(b(o)))}return vr.create.apply(vr,[e].concat(n))}function Ir(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw _r.apply(void 0,[t].concat(r))}}function Er(e){var t="INTERNAL ASSERTION FAILED: "+e;throw yr(t),new Error(t)}function Tr(e,t){e||Er(t)}function Sr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Nr(){return"http:"===Cr()||"https:"===Cr()}function Cr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Ar=function(){function e(t,n){w(this,e),this.shortDelay=t,this.longDelay=n,Tr(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rt())||ot()}return E(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Nr()||at()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Pr(e,t){Tr(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Dr=function(){function e(){w(this,e)}return E(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Rr=(We(ir={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),We(ir,"MISSING_CUSTOM_TOKEN","internal-error"),We(ir,"INVALID_IDENTIFIER","invalid-email"),We(ir,"MISSING_CONTINUE_URI","internal-error"),We(ir,"INVALID_PASSWORD","wrong-password"),We(ir,"MISSING_PASSWORD","missing-password"),We(ir,"EMAIL_EXISTS","email-already-in-use"),We(ir,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),We(ir,"INVALID_IDP_RESPONSE","invalid-credential"),We(ir,"INVALID_PENDING_TOKEN","invalid-credential"),We(ir,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),We(ir,"MISSING_REQ_TYPE","internal-error"),We(ir,"EMAIL_NOT_FOUND","user-not-found"),We(ir,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),We(ir,"EXPIRED_OOB_CODE","expired-action-code"),We(ir,"INVALID_OOB_CODE","invalid-action-code"),We(ir,"MISSING_OOB_CODE","internal-error"),We(ir,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),We(ir,"INVALID_ID_TOKEN","invalid-user-token"),We(ir,"TOKEN_EXPIRED","user-token-expired"),We(ir,"USER_NOT_FOUND","user-token-expired"),We(ir,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),We(ir,"INVALID_CODE","invalid-verification-code"),We(ir,"INVALID_SESSION_INFO","invalid-verification-id"),We(ir,"INVALID_TEMPORARY_PROOF","invalid-credential"),We(ir,"MISSING_SESSION_INFO","missing-verification-id"),We(ir,"SESSION_EXPIRED","code-expired"),We(ir,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),We(ir,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),We(ir,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),We(ir,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),We(ir,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),We(ir,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),We(ir,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),We(ir,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),We(ir,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),We(ir,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),We(ir,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),We(ir,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),We(ir,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),We(ir,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),We(ir,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),We(ir,"MISSING_CLIENT_TYPE","missing-client-type"),We(ir,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),We(ir,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),We(ir,"INVALID_REQ_TYPE","invalid-req-type"),ir),jr=new Ar(3e4,6e4);function Or(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Lr(e,t,n,r){return Mr.apply(this,arguments)}function Mr(){return Mr=Et(_t().mark((function e(t,n,r,i){var a,o=arguments;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Fr(t,a,Et(_t().mark((function e(){var a,o,s,u;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=mt(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Dr.fetch()(zr(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Mr.apply(this,arguments)}function Fr(e,t,n){return Br.apply(this,arguments)}function Br(){return Br=Et(_t().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Rr),n),e.prev=2,a=new qr(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Gr(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),l=L(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Gr(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw Gr(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw Gr(t,"user-disabled",s);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw wr(t,d,h);case 34:kr(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof ct)){e.next=41;break}throw e.t0;case 41:kr(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Br.apply(this,arguments)}function Ur(e,t,n,r){return Vr.apply(this,arguments)}function Vr(){return Vr=Et(_t().mark((function e(t,n,r,i){var a,o,s=arguments;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Lr(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&kr(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Vr.apply(this,arguments)}function zr(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Pr(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var qr=function(){function e(t){var n=this;w(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(br(n.auth,"network-request-failed"))}),jr.get())}))}return E(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Gr(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=br(e,t,r);return i.customData._tokenResponse=n,i}function Kr(e,t){return Wr.apply(this,arguments)}function Wr(){return(Wr=Et(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lr(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hr(e,t){return Qr.apply(this,arguments)}function Qr(){return(Qr=Et(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yr(e,t){return Xr.apply(this,arguments)}function Xr(){return(Xr=Et(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lr(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jr(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function $r(){return $r=Et(_t().mark((function e(t){var n,r,i,a,o,s,u=arguments;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=xt(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Ir((a=ei(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Jr(Zr(a.auth_time)),issuedAtTime:Jr(Zr(a.iat)),expirationTime:Jr(Zr(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),$r.apply(this,arguments)}function Zr(e){return 1e3*Number(e)}function ei(e){var t=L(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return yr("JWT malformed, contained fewer than 3 sections"),null;try{var a=Je(r);return a?JSON.parse(a):(yr("Failed to decode base64 JWT payload"),null)}catch(o){return yr("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function ti(e,t){return ni.apply(this,arguments)}function ni(){return ni=Et(_t().mark((function e(t,n){var r=arguments;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof ct&&ri(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),ni.apply(this,arguments)}function ri(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var ii=function(){function e(t){w(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return E(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Et(_t().mark((function t(){return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Et(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),ai=function(){function e(t,n){w(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return E(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Jr(this.lastLoginAt),this.creationTime=Jr(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function oi(e){return si.apply(this,arguments)}function si(){return si=Et(_t().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,ti(t,Yr(r,{idToken:i}));case 6:Ir(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=rr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=ci(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ai(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),si.apply(this,arguments)}function ui(){return(ui=Et(_t().mark((function e(t){var n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xt(t),e.next=3,oi(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ci(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(b(n),b(t))}function li(e,t){return fi.apply(this,arguments)}function fi(){return(fi=Et(_t().mark((function e(t,n){var r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fr(t,{},Et(_t().mark((function e(){var r,i,a,o,s,u;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mt({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=zr(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Dr.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var hi=function(){function e(){w(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return E(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Ir(e.idToken,"internal-error"),Ir("undefined"!==typeof e.idToken,"internal-error"),Ir("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=ei(e);return Ir(t,"internal-error"),Ir("undefined"!==typeof t.exp,"internal-error"),Ir("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Et(_t().mark((function e(t){var n,r=arguments;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Ir(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Et(_t().mark((function e(t,n){var r,i,a,o;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,li(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Er("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Ir("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Ir("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Ir("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function di(e,t){Ir("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var pi=function(){function e(t){w(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=rr(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ii(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?b(a.providerData):[],this.metadata=new ai(a.createdAt||void 0,a.lastLoginAt||void 0)}return E(e,[{key:"getIdToken",value:function(){var e=Et(_t().mark((function e(t){var n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ti(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Ir(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return $r.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ui.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Ir(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Ir(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Et(_t().mark((function e(t){var n,r,i=arguments;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,oi(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Et(_t().mark((function e(){var t;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,ti(this,Kr(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Ir(k&&_,t,"internal-error");var I=hi.fromJSON(this.name,_);Ir("string"===typeof k,t,"internal-error"),di(f,t.name),di(h,t.name),Ir("boolean"===typeof b,t,"internal-error"),Ir("boolean"===typeof w,t,"internal-error"),di(d,t.name),di(p,t.name),di(v,t.name),di(m,t.name),di(g,t.name),di(y,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=Et(_t().mark((function t(n,r){var i,a,o,s=arguments;return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new hi).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,oi(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),vi=new Map;function mi(e){Tr(e instanceof Function,"Expected a class definition");var t=vi.get(e);return t?(Tr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,vi.set(e,t),t)}var gi=function(){function e(){w(this,e),this.type="NONE",this.storage={}}return E(e,[{key:"_isAvailable",value:function(){var e=Et(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Et(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Et(_t().mark((function e(t){var n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Et(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();gi.type="NONE";var yi=gi;function ki(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var bi=function(){function e(t,n,r){w(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=ki(this.userKey,a.apiKey,o),this.fullPersistenceKey=ki("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return E(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Et(_t().mark((function e(){var t;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?pi._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Et(_t().mark((function e(t){var n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Et(_t().mark((function t(n,r){var i,a,o,s,u,c,l,h,d,p,v,m=arguments;return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=m.length>2&&void 0!==m[2]?m[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(mi(yi),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Et(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||mi(yi),s=ki(i,n.config.apiKey,n.name),u=null,c=f(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return h=l.value,t.prev=14,t.next=17,h._get(s);case 17:if(!(d=t.sent)){t.next=23;break}return p=pi._fromJSON(n,d),h!==o&&(u=p),o=h,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(v=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&v.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=v[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Et(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function wi(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ei(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(xi(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Si(t))return"Blackberry";if(Ni(t))return"Webos";if(_i(t))return"Safari";if((t.includes("chrome/")||Ii(t))&&!t.includes("edge/"))return"Chrome";if(Ti(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function xi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return/firefox\//i.test(e)}function _i(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ii(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return/crios\//i.test(e)}function Ei(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return/iemobile/i.test(e)}function Ti(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return/android/i.test(e)}function Si(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return/blackberry/i.test(e)}function Ni(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return/webos/i.test(e)}function Ci(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ai(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return Ci(e)||Ti(e)||Ni(e)||Si(e)||/windows phone/i.test(e)||Ei(e)}function Pi(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=wi(rt());break;case"Worker":t="".concat(wi(rt()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(_n,"/").concat(r)}function Di(e){return Ri.apply(this,arguments)}function Ri(){return(Ri=Et(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lr(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ji(e,t){return Oi.apply(this,arguments)}function Oi(){return(Oi=Et(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lr(t,"GET","/v2/recaptchaConfig",Or(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Li(e){return void 0!==e&&void 0!==e.getResponse}function Mi(e){return void 0!==e&&void 0!==e.enterprise}var Fi=E((function e(t){if(w(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function Bi(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=br("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Ui(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Vi=function(){function e(t){w(this,e),this.type="recaptcha-enterprise",this.auth=Wi(t)}return E(e,[{key:"verify",value:function(){var e=Et(_t().mark((function e(){var t,n,r,i,a,o=this,s=arguments;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;Mi(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=Et(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=Et(_t().mark((function e(n,r){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ji(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new Fi(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:"verify",n=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&Mi(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));Bi("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function zi(e,t,n){return qi.apply(this,arguments)}function qi(){return qi=Et(_t().mark((function e(t,n,r){var i,a,o,s,u=arguments;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],a=new Vi(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),qi.apply(this,arguments)}var Gi=function(){function e(t){w(this,e),this.auth=t,this.queue=[]}return E(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Et(_t().mark((function e(t){var n,r,i,a,o,s,u;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=f(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=f(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ki=function(){function e(t,n,r,i){w(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hi(this),this.idTokenSubscription=new Hi(this),this.beforeStateQueue=new Gi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return E(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=mi(t)),this._initializationPromise=this.queue(Et(_t().mark((function r(){var i,a;return _t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,bi.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Et(_t().mark((function e(){var t;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Et(_t().mark((function e(t){var n,r,i,a,o,s,u;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Ir(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Et(_t().mark((function e(t){var n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Et(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oi(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Et(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Et(_t().mark((function e(t){var n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?xt(t):null)&&Ir(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Et(_t().mark((function e(t){var n,r=this,i=arguments;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Ir(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Et(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Et(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Et(_t().mark((function n(){return _t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(mi(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=Et(_t().mark((function e(){var t,n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ji(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new Fi(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new Vi(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new lt("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Et(_t().mark((function e(t,n){var r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Et(_t().mark((function e(t){var n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Ir(n=t&&mi(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,bi.create(this,[mi(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Et(_t().mark((function e(t){var n,r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Et(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Et(_t().mark((function e(t){var n=this;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Et(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Ir(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Et(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Ir(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Pi(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Et(_t().mark((function e(){var t,n,r,i;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=We({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Et(_t().mark((function e(){var t,n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&gr("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Wi(e){return xt(e)}var Hi=function(){function e(t){var n=this;w(this,e),this.auth=t,this.observer=null,this.addObserver=kt((function(e){return n.observer=e}))}return E(e,[{key:"next",get:function(){return Ir(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Qi(e,t,n){var r=Wi(e);Ir(r._canInitEmulator,r,"emulator-config-failed"),Ir(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Yi(t),o=function(e){var t=Yi(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Xi(r.substr(a.length+1))}}var o=L(r.split(":"),2);return{host:o[0],port:Xi(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Yi(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Xi(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Ji=function(){function e(t,n){w(this,e),this.providerId=t,this.signInMethod=n}return E(e,[{key:"toJSON",value:function(){return Er("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Er("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Er("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Er("not implemented")}}]),e}();function $i(e,t){return Zi.apply(this,arguments)}function Zi(){return(Zi=Et(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lr(t,"POST","/v1/accounts:resetPassword",Or(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ea(e,t){return ta.apply(this,arguments)}function ta(){return(ta=Et(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function na(e,t){return ra.apply(this,arguments)}function ra(){return(ra=Et(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lr(t,"POST","/v1/accounts:update",Or(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ia(e,t){return aa.apply(this,arguments)}function aa(){return(aa=Et(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:signInWithPassword",Or(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oa(e,t){return sa.apply(this,arguments)}function sa(){return(sa=Et(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lr(t,"POST","/v1/accounts:sendOobCode",Or(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ua(e,t){return ca.apply(this,arguments)}function ca(){return(ca=Et(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oa(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function la(e,t){return fa.apply(this,arguments)}function fa(){return(fa=Et(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oa(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ha(e,t){return da.apply(this,arguments)}function da(){return(da=Et(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oa(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pa(e,t){return va.apply(this,arguments)}function va(){return(va=Et(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oa(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ma(e,t){return ga.apply(this,arguments)}function ga(){return(ga=Et(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:signInWithEmailLink",Or(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ya(e,t){return ka.apply(this,arguments)}function ka(){return(ka=Et(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:signInWithEmailLink",Or(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ba=function(e){S(n,e);var t=P(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return w(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return E(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Et(_t().mark((function e(t){var n,r,i;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,zi(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",ia(t,i));case 11:return e.abrupt("return",ia(t,r).catch(function(){var e=Et(_t().mark((function e(n){var i;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,zi(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",ia(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",ma(t,{email:this._email,oobCode:this._password}));case 13:kr(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Et(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ea(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ya(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:kr(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Ji);function wa(e,t){return xa.apply(this,arguments)}function xa(){return(xa=Et(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:signInWithIdp",Or(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _a=function(e){S(n,e);var t=P(n);function n(){var e;return w(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return E(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return wa(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,wa(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,wa(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=mt(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):kr("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=rr(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Ji);function Ia(e,t){return Ea.apply(this,arguments)}function Ea(){return(Ea=Et(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lr(t,"POST","/v1/accounts:sendVerificationCode",Or(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ta(){return(Ta=Et(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:signInWithPhoneNumber",Or(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sa(){return(Sa=Et(_t().mark((function e(t,n){var r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ur(t,"POST","/v1/accounts:signInWithPhoneNumber",Or(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Gr(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Na=We({},"USER_NOT_FOUND","user-not-found");function Ca(){return(Ca=Et(_t().mark((function e(t,n){var r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Ur(t,"POST","/v1/accounts:signInWithPhoneNumber",Or(t,r),Na));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Aa=function(e){S(n,e);var t=P(n);function n(e){var r;return w(this,n),(r=t.call(this,"phone","phone")).params=e,r}return E(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Ta.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Sa.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Ca.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Ji);var Pa=function(){function e(t){var n,r,i,a,o,s;w(this,e);var u=gt(yt(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Ir(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return E(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=gt(yt(e)).link,n=t?gt(yt(t)).deep_link_id:null,r=gt(yt(e)).deep_link_id;return(r?gt(yt(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(oE){return null}}}]),e}();var Da=function(){function e(){w(this,e),this.providerId=e.PROVIDER_ID}return E(e,null,[{key:"credential",value:function(e,t){return ba._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Pa.parseLink(t);return Ir(n,"argument-error"),ba._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Da.PROVIDER_ID="password",Da.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Da.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ra=function(){function e(t){w(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return E(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),ja=function(e){S(n,e);var t=P(n);function n(){var e;return w(this,n),(e=t.apply(this,arguments)).scopes=[],e}return E(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return b(this.scopes)}}]),n}(Ra),Oa=function(e){S(n,e);var t=P(n);function n(){return w(this,n),t.apply(this,arguments)}return E(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Ir(e.idToken||e.accessToken,"argument-error"),_a._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Ir("providerId"in t&&"signInMethod"in t,"argument-error"),_a._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(ja),La=function(e){S(n,e);var t=P(n);function n(){return w(this,n),t.call(this,"facebook.com")}return E(n,null,[{key:"credential",value:function(e){return _a._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(oE){return null}}}]),n}(ja);La.FACEBOOK_SIGN_IN_METHOD="facebook.com",La.PROVIDER_ID="facebook.com";var Ma=function(e){S(n,e);var t=P(n);function n(){var e;return w(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return E(n,null,[{key:"credential",value:function(e,t){return _a._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(oE){return null}}}]),n}(ja);Ma.GOOGLE_SIGN_IN_METHOD="google.com",Ma.PROVIDER_ID="google.com";var Fa=function(e){S(n,e);var t=P(n);function n(){return w(this,n),t.call(this,"github.com")}return E(n,null,[{key:"credential",value:function(e){return _a._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(oE){return null}}}]),n}(ja);Fa.GITHUB_SIGN_IN_METHOD="github.com",Fa.PROVIDER_ID="github.com";var Ba=function(e){S(n,e);var t=P(n);function n(e,r){var i;return w(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return E(n,[{key:"_getIdTokenResponse",value:function(e){return wa(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,wa(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,wa(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Ji),Ua=function(e){S(n,e);var t=P(n);function n(e){return w(this,n),Ir(e.startsWith("saml."),"argument-error"),t.call(this,e)}return E(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Ba.fromJSON(e);return Ir(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Ba._create(r,n)}catch(i){return null}}}]),n}(Ra),Va=function(e){S(n,e);var t=P(n);function n(){return w(this,n),t.call(this,"twitter.com")}return E(n,null,[{key:"credential",value:function(e,t){return _a._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(oE){return null}}}]),n}(ja);function za(e,t){return qa.apply(this,arguments)}function qa(){return(qa=Et(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:signUp",Or(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Va.TWITTER_SIGN_IN_METHOD="twitter.com",Va.PROVIDER_ID="twitter.com";var Ga=function(){function e(t){w(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return E(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Et(_t().mark((function t(n,r,i){var a,o,s,u,c=arguments;return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,pi._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Ka(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Et(_t().mark((function t(n,r,i){var a;return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Ka(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Ka(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Wa(){return Wa=Et(_t().mark((function e(t){var n,r,i,a;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wi(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Ga({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,za(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Ga._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Wa.apply(this,arguments)}var Ha=function(e){S(n,e);var t=P(n);function n(e,r,i,a){var o,s;return w(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(A(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return E(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(ct);function Qa(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ha._fromErrorAndOperation(e,n,t,r);throw n}))}function Ya(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Xa(e,t){return Ja.apply(this,arguments)}function Ja(){return Ja=Et(_t().mark((function e(t,n){var r,i,a,o;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xt(t),e.next=3,eo(!0,r,n);case 3:return e.t0=Hr,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Ya(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Ja.apply(this,arguments)}function $a(e,t){return Za.apply(this,arguments)}function Za(){return Za=Et(_t().mark((function e(t,n){var r,i,a=arguments;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=ti,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Ga._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Za.apply(this,arguments)}function eo(e,t,n){return to.apply(this,arguments)}function to(){return(to=Et(_t().mark((function e(t,n,r){var i,a;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oi(n);case 2:i=Ya(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Ir(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function no(e,t){return ro.apply(this,arguments)}function ro(){return ro=Et(_t().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,ti(t,Qa(i,a,n,t),r);case 6:return Ir((o=e.sent).idToken,i,"internal-error"),Ir(s=ei(o.idToken),i,"internal-error"),u=s.sub,Ir(t.uid===u,i,"user-mismatch"),e.abrupt("return",Ga._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&kr(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),ro.apply(this,arguments)}function io(e,t){return ao.apply(this,arguments)}function ao(){return ao=Et(_t().mark((function e(t,n){var r,i,a,o,s=arguments;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Qa(t,i,n);case 4:return a=e.sent,e.next=7,Ga._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),ao.apply(this,arguments)}function oo(e,t){return so.apply(this,arguments)}function so(){return(so=Et(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",io(Wi(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uo(e,t){return co.apply(this,arguments)}function co(){return(co=Et(_t().mark((function e(t,n){var r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xt(t),e.next=3,eo(!1,r,n.providerId);case 3:return e.abrupt("return",$a(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lo(e,t){return fo.apply(this,arguments)}function fo(){return(fo=Et(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",no(xt(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ho(e,t){return po.apply(this,arguments)}function po(){return(po=Et(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur(t,"POST","/v1/accounts:signInWithCustomToken",Or(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vo(){return(vo=Et(_t().mark((function e(t,n){var r,i,a;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wi(t),e.next=3,ho(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Ga._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mo=function(){function e(t,n){w(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return E(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?go._fromServerResponse(e,t):"totpInfo"in t?yo._fromServerResponse(e,t):kr(e,"internal-error")}}]),e}(),go=function(e){S(n,e);var t=P(n);function n(e){var r;return w(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return E(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(mo),yo=function(e){S(n,e);var t=P(n);function n(e){return w(this,n),t.call(this,"totp",e)}return E(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(mo);function ko(e,t,n){var r;Ir((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Ir("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ir(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Ir(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function bo(){return bo=Et(_t().mark((function e(t,n,r){var i,a,o,s;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Wi(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,zi(a,o,"getOobCode",!0);case 5:return s=e.sent,r&&ko(a,s,r),e.next=9,la(a,s);case 9:e.next=14;break;case 11:return r&&ko(a,o,r),e.next=14,la(a,o).catch(function(){var e=Et(_t().mark((function e(t){var n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,zi(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&ko(a,n,r),e.next=8,la(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),bo.apply(this,arguments)}function wo(){return(wo=Et(_t().mark((function e(t,n,r){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$i(xt(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xo(){return(xo=Et(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,na(xt(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _o(e,t){return Io.apply(this,arguments)}function Io(){return(Io=Et(_t().mark((function e(t,n){var r,i,a,o;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xt(t),e.next=3,$i(r,{oobCode:n});case 3:i=e.sent,Ir(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Ir(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Ir(i.mfaInfo,r,"internal-error");case 13:Ir(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=mo._fromServerResponse(Wi(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Eo(){return(Eo=Et(_t().mark((function e(t,n){var r,i;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_o(xt(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function To(e,t,n){return So.apply(this,arguments)}function So(){return So=Et(_t().mark((function e(t,n,r){var i,a,o,s,u,c,l;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Wi(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,zi(a,o,"signUpPassword");case 5:u=e.sent,s=za(a,u),e.next=10;break;case 9:s=za(a,o).catch(function(){var e=Et(_t().mark((function e(t){var n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,zi(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",za(a,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,s.catch((function(e){return Promise.reject(e)}));case 12:return c=e.sent,e.next=15,Ga._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),So.apply(this,arguments)}function No(){return No=Et(_t().mark((function e(t,n,r){var i,a,o,s,u;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(e,t){Ir(t.handleCodeInApp,a,"argument-error"),t&&ko(a,e,t)},a=Wi(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,zi(a,o,"getOobCode",!0);case 6:return u=e.sent,s(u,r),e.next=10,ha(a,u);case 10:e.next=15;break;case 12:return s(o,r),e.next=15,ha(a,o).catch(function(){var e=Et(_t().mark((function e(t){var n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,zi(a,o,"getOobCode",!0);case 4:return n=e.sent,s(n,r),e.next=8,ha(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),No.apply(this,arguments)}function Co(){return(Co=Et(_t().mark((function e(t,n,r){var i,a;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xt(t),Ir((a=Da.credentialWithLink(n,r||Sr()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",oo(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ao(e,t){return Po.apply(this,arguments)}function Po(){return(Po=Et(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lr(t,"POST","/v1/accounts:createAuthUri",Or(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Do(){return(Do=Et(_t().mark((function e(t,n){var r,i,a,o;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nr()?Sr():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Ao(xt(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ro(){return(Ro=Et(_t().mark((function e(t,n){var r,i,a,o;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xt(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&ko(r.auth,a,n),e.next=8,ua(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jo(){return(jo=Et(_t().mark((function e(t,n,r){var i,a,o,s;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xt(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&ko(i.auth,o,r),e.next=8,pa(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oo(e,t){return Lo.apply(this,arguments)}function Lo(){return(Lo=Et(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mo(){return(Mo=Et(_t().mark((function e(t,n){var r,i,a,o,s,u,c;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=xt(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,ti(a,Oo(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fo(e,t,n){return Bo.apply(this,arguments)}function Bo(){return(Bo=Et(_t().mark((function e(t,n,r){var i,a,o,s;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,ti(t,ea(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Uo=E((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};w(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Vo=function(e){S(n,e);var t=P(n);function n(e,r,i,a){var o;return w(this,n),(o=t.call(this,e,r,i)).username=a,o}return E(n)}(Uo),zo=function(e){S(n,e);var t=P(n);function n(e,r){return w(this,n),t.call(this,e,"facebook.com",r)}return E(n)}(Uo),qo=function(e){S(n,e);var t=P(n);function n(e,r){return w(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return E(n)}(Vo),Go=function(e){S(n,e);var t=P(n);function n(e,r){return w(this,n),t.call(this,e,"google.com",r)}return E(n)}(Uo),Ko=function(e){S(n,e);var t=P(n);function n(e,r,i){return w(this,n),t.call(this,e,"twitter.com",r,i)}return E(n)}(Vo);function Wo(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=ei(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Uo(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new zo(a,i);case"github.com":return new qo(a,i);case"google.com":return new Go(a,i);case"twitter.com":return new Ko(a,i,e.screenName||null);case"custom":case"anonymous":return new Uo(a,null);default:return new Uo(a,r,i)}}(n)}var Ho=function(){function e(t,n,r){w(this,e),this.type=t,this.credential=n,this.auth=r}return E(e,[{key:"toJSON",value:function(){return{multiFactorSession:We({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Qo=function(){function e(t,n,r){w(this,e),this.session=t,this.hints=n,this.signInResolver=r}return E(e,[{key:"resolveSignIn",value:function(){var e=Et(_t().mark((function e(t){var n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Wi(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return mo._fromServerResponse(r,e)}));Ir(i.mfaPendingCredential,r,"internal-error");var o=Ho._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Et(_t().mark((function e(t){var a,s,u;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Ga._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return Ir(n.user,r,"internal-error"),e.abrupt("return",Ga._forOperation(n.user,n.operationType,s));case 17:kr(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Yo(e,t){return Lr(e,"POST","/v2/accounts/mfaEnrollment:start",Or(e,t))}function Xo(e,t){return Lr(e,"POST","/v2/accounts/mfaEnrollment:finalize",Or(e,t))}var Jo=function(){function e(t){var n=this;w(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return mo._fromServerResponse(t.auth,e)})))}))}return E(e,[{key:"getSession",value:function(){var e=Et(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ho,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Et(_t().mark((function e(t,n){var r,i,a;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,ti(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Et(_t().mark((function e(t){var n,r,i;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,ti(this.user,Lr(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",Or(a,{idToken:r,mfaEnrollmentId:n})));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}var a}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),$o=new WeakMap;var Zo="__sak",es=function(){function e(t,n){w(this,e),this.storageRetriever=t,this.type=n}return E(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Zo,"1"),this.storage.removeItem(Zo),Promise.resolve(!0)):Promise.resolve(!1)}catch(oE){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var ts=function(e){S(n,e);var t=P(n);function n(){var e;return w(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=rt();return _i(e)||Ci(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Ai(),e._shouldAllowMigration=!0,e}return E(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);st()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Et(_t().mark((function e(t,r){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nr(N(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Et(_t().mark((function e(t){var r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nr(N(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Et(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nr(N(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(es);ts.type="LOCAL";var ns=ts,rs=function(e){S(n,e);var t=P(n);function n(){return w(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return E(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(es);rs.type="SESSION";var is=rs;function as(e){return Promise.all(e.map(function(){var e=Et(_t().mark((function e(t){var n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var os=function(){function e(t){w(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return E(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Et(_t().mark((function e(t){var n,r,i,a,o,s,u,c;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Et(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,as(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function ss(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}os.receivers=[];var us=function(){function e(t){w(this,e),this.target=t,this.handlers=new Set}return E(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Et(_t().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=ss("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function cs(){return window}function ls(e){cs().location.href=e}function fs(){return"undefined"!==typeof cs().WorkerGlobalScope&&"function"===typeof cs().importScripts}function hs(){return ds.apply(this,arguments)}function ds(){return(ds=Et(_t().mark((function e(){var t;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function ps(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var vs="firebaseLocalStorageDb",ms="firebaseLocalStorage",gs="fbase_key",ys=function(){function e(t){w(this,e),this.request=t}return E(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function ks(e,t){return e.transaction([ms],t?"readwrite":"readonly").objectStore(ms)}function bs(){var e=indexedDB.deleteDatabase(vs);return new ys(e).toPromise()}function ws(){var e=indexedDB.open(vs,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(ms,{keyPath:gs})}catch(r){n(r)}})),e.addEventListener("success",Et(_t().mark((function n(){var r;return _t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(ms)){n.next=12;break}return r.close(),n.next=5,bs();case 5:return n.t0=t,n.next=8,ws();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function xs(e,t,n){return _s.apply(this,arguments)}function _s(){return _s=Et(_t().mark((function e(t,n,r){var i,a;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ks(t,!0).put((We(i={},gs,n),We(i,"value",r),i)),e.abrupt("return",new ys(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),_s.apply(this,arguments)}function Is(e,t){return Es.apply(this,arguments)}function Es(){return Es=Et(_t().mark((function e(t,n){var r,i;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ks(t,!1).get(n),e.next=3,new ys(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Es.apply(this,arguments)}function Ts(e,t){var n=ks(e,!0).delete(t);return new ys(n).toPromise()}var Ss=function(){function e(){w(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return E(e,[{key:"_openDb",value:function(){var e=Et(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,ws();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Et(_t().mark((function e(t){var n,r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Et(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fs()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Et(_t().mark((function e(){var t=this;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=os._getInstance(fs()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Et(_t().mark((function e(n,r){var i;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Et(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Et(_t().mark((function e(){var t,n,r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hs();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new us(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Et(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&ps()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Et(_t().mark((function e(){var t;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,ws();case 5:return t=e.sent,e.next=8,xs(t,Zo,"1");case 8:return e.next=10,Ts(t,Zo);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Et(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Et(_t().mark((function e(t,n){var r=this;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Et(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return xs(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Et(_t().mark((function e(t){var n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Is(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Et(_t().mark((function e(t){var n=this;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Et(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Ts(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Et(_t().mark((function e(){var t,n,r,i,a,o,s,u,c,l,h;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=ks(e,!1).getAll();return new ys(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=f(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(d){i.e(d)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)h=l[c],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Et(_t().mark((function t(){return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Ss.type="LOCAL";var Ns=Ss;function Cs(e,t){return Lr(e,"POST","/v2/accounts/mfaSignIn:start",Or(e,t))}function As(e,t){return Lr(e,"POST","/v2/accounts/mfaSignIn:finalize",Or(e,t))}var Ps=1e12,Ds=function(){function e(t){w(this,e),this.auth=t,this.counter=Ps,this._widgets=new Map}return E(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Rs(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Ps;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Ps;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Et(_t().mark((function e(t){var n,r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Ps,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Rs=function(){function e(t,n,r){var i=this;w(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Ir(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return E(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var js=Ui("rcb"),Os=new Ar(3e4,6e4),Ls=function(){function e(){var t;w(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=cs().grecaptcha)||void 0===t?void 0:t.render)}return E(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Ir(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&Li(cs().grecaptcha)?Promise.resolve(cs().grecaptcha):new Promise((function(r,i){var a=cs().setTimeout((function(){i(br(e,"network-request-failed"))}),Os.get());cs()[js]=function(){cs().clearTimeout(a),delete cs()[js];var o=cs().grecaptcha;if(o&&Li(o)){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(br(e,"internal-error"))},Bi("".concat("https://www.google.com/recaptcha/api.js?","?").concat(mt({onload:js,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(br(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=cs().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var Ms=function(){function e(){w(this,e)}return E(e,[{key:"load",value:function(){var e=Et(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Ds(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Fs="recaptcha",Bs={theme:"light",type:"image"},Us=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Bs),r=arguments.length>2?arguments[2]:void 0;w(this,e),this.parameters=n,this.type=Fs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Wi(r),this.isInvisible="invisible"===this.parameters.size,Ir("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Ir(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ms:new Ls,this.validateStartingState()}return E(e,[{key:"verify",value:function(){var e=Et(_t().mark((function e(){var t,n,r,i=this;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Ir(!this.parameters.sitekey,this.auth,"argument-error"),Ir(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ir("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=cs()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Ir(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Et(_t().mark((function e(){var t,n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Et(_t().mark((function e(){var t;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ir(Nr()&&!fs(),this.auth,"internal-error"),e.next=3,Vs();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Di(this.auth);case 8:Ir(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Ir(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Vs(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var zs=function(){function e(t,n){w(this,e),this.verificationId=t,this.onConfirmation=n}return E(e,[{key:"confirm",value:function(e){var t=Aa._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function qs(){return(qs=Et(_t().mark((function e(t,n,r){var i,a;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wi(t),e.next=3,Hs(i,n,xt(r));case 3:return a=e.sent,e.abrupt("return",new zs(a,(function(e){return oo(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gs(e,t,n){return Ks.apply(this,arguments)}function Ks(){return(Ks=Et(_t().mark((function e(t,n,r){var i,a;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xt(t),e.next=3,eo(!1,i,"phone");case 3:return e.next=5,Hs(i.auth,n,xt(r));case 5:return a=e.sent,e.abrupt("return",new zs(a,(function(e){return uo(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ws(){return(Ws=Et(_t().mark((function e(t,n,r){var i,a;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xt(t),e.next=3,Hs(i.auth,n,xt(r));case 3:return a=e.sent,e.abrupt("return",new zs(a,(function(e){return lo(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hs(e,t,n){return Qs.apply(this,arguments)}function Qs(){return Qs=Et(_t().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Ir("string"===typeof a,t,"argument-error"),Ir(r.type===Fs,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Ir("enroll"===s.type,t,"internal-error"),e.next=13,Yo(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Ir("signin"===s.type,t,"internal-error"),Ir(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Cs(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Ia(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Qs.apply(this,arguments)}function Ys(){return(Ys=Et(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$a(xt(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xs=function(){function e(t){w(this,e),this.providerId=e.PROVIDER_ID,this.auth=Wi(t)}return E(e,[{key:"verifyPhoneNumber",value:function(e,t){return Hs(this.auth,e,xt(t))}}],[{key:"credential",value:function(e,t){return Aa._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Aa._fromTokenResponse(n,r):null}}]),e}();function Js(e,t){return t?mi(t):(Ir(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Xs.PROVIDER_ID="phone",Xs.PHONE_SIGN_IN_METHOD="phone";var $s=function(e){S(n,e);var t=P(n);function n(e){var r;return w(this,n),(r=t.call(this,"custom","custom")).params=e,r}return E(n,[{key:"_getIdTokenResponse",value:function(e){return wa(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return wa(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return wa(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Ji);function Zs(e){return io(e.auth,new $s(e),e.bypassAuthState)}function eu(e){var t=e.auth,n=e.user;return Ir(n,t,"internal-error"),no(n,new $s(e),e.bypassAuthState)}function tu(e){return nu.apply(this,arguments)}function nu(){return(nu=Et(_t().mark((function e(t){var n,r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Ir(r=t.user,n,"internal-error"),e.abrupt("return",$a(r,new $s(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ru=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];w(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return E(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Et(_t().mark((function t(n,r){return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Et(_t().mark((function e(t){var n,r,i,a,o,s,u;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Zs;case"linkViaPopup":case"linkViaRedirect":return tu;case"reauthViaPopup":case"reauthViaRedirect":return eu;default:kr(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),iu=new Ar(2e3,1e4);function au(e,t,n){return ou.apply(this,arguments)}function ou(){return(ou=Et(_t().mark((function e(t,n,r){var i,a,o;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wi(t),xr(t,n,Ra),a=Js(i,r),o=new lu(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function su(){return(su=Et(_t().mark((function e(t,n,r){var i,a,o;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xr((i=xt(t)).auth,n,Ra),a=Js(i.auth,r),o=new lu(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uu(e,t,n){return cu.apply(this,arguments)}function cu(){return(cu=Et(_t().mark((function e(t,n,r){var i,a,o;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xr((i=xt(t)).auth,n,Ra),a=Js(i.auth,r),o=new lu(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lu=function(e){S(n,e);var t=P(n);function n(e,r,i,a,o){var s;return w(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=A(s),s}return E(n,[{key:"executeNotNull",value:function(){var e=Et(_t().mark((function e(){var t;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Ir(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Et(_t().mark((function e(){var t,n=this;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tr(1===this.filter.length,"Popup operations only handle one event"),t=ss(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(br(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(br(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(br(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,iu.get())}()}}]),n}(ru);lu.currentPopupAction=null;var fu="pendingRedirect",hu=new Map,du=function(e){S(n,e);var t=P(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return w(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return E(n,[{key:"execute",value:function(){var e=Et(_t().mark((function e(){var t,r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=hu.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,pu(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,nr(N(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:hu.set(this.auth._key(),t);case 21:return this.bypassAuthState||hu.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Et(_t().mark((function e(t){var r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",nr(N(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",nr(N(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Et(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(ru);function pu(e,t){return vu.apply(this,arguments)}function vu(){return(vu=Et(_t().mark((function e(t,n){var r,i,a;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bu(n),i=ku(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mu(e,t){return gu.apply(this,arguments)}function gu(){return(gu=Et(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ku(t)._set(bu(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yu(e,t){hu.set(e._key(),t)}function ku(e){return mi(e._redirectPersistence)}function bu(e){return ki(fu,e.config.apiKey,e.name)}function wu(e,t,n){return function(e,t,n){return xu.apply(this,arguments)}(e,t,n)}function xu(){return(xu=Et(_t().mark((function e(t,n,r){var i,a;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wi(t),xr(t,n,Ra),e.next=4,i._initializationPromise;case 4:return a=Js(i,r),e.next=7,mu(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _u(e,t,n){return function(e,t,n){return Iu.apply(this,arguments)}(e,t,n)}function Iu(){return(Iu=Et(_t().mark((function e(t,n,r){var i,a,o;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xr((i=xt(t)).auth,n,Ra),e.next=4,i.auth._initializationPromise;case 4:return a=Js(i.auth,r),e.next=7,mu(a,i.auth);case 7:return e.next=9,Pu(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Eu(e,t,n){return function(e,t,n){return Tu.apply(this,arguments)}(e,t,n)}function Tu(){return(Tu=Et(_t().mark((function e(t,n,r){var i,a,o;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xr((i=xt(t)).auth,n,Ra),e.next=4,i.auth._initializationPromise;case 4:return a=Js(i.auth,r),e.next=7,eo(!1,i,n.providerId);case 7:return e.next=9,mu(a,i.auth);case 9:return e.next=11,Pu(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Su(e,t){return Nu.apply(this,arguments)}function Nu(){return(Nu=Et(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wi(t)._initializationPromise;case 2:return e.abrupt("return",Cu(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cu(e,t){return Au.apply(this,arguments)}function Au(){return Au=Et(_t().mark((function e(t,n){var r,i,a,o,s,u=arguments;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Wi(t),a=Js(i,n),o=new du(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Au.apply(this,arguments)}function Pu(e){return Du.apply(this,arguments)}function Du(){return(Du=Et(_t().mark((function e(t){var n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ss("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ru=function(){function e(t){w(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return E(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ou(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Ou(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(br(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ju(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(ju(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function ju(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Ou(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Lu(e){return Mu.apply(this,arguments)}function Mu(){return Mu=Et(_t().mark((function e(t){var n,r=arguments;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Lr(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Mu.apply(this,arguments)}var Fu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bu=/^https?/;function Uu(){return(Uu=Et(_t().mark((function e(t){var n,r,i,a,o;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Lu(t);case 4:n=e.sent,r=n.authorizedDomains,i=f(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Vu(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:kr(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Vu(e){var t=Sr(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Bu.test(r))return!1;if(Fu.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var zu=new Ar(3e4,6e4);function qu(){var e=cs().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=b(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Gu=null;function Ku(e){return Gu=Gu||function(e){return new Promise((function(t,n){var r,i,a;function o(){qu(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){qu(),n(br(e,"network-request-failed"))},timeout:zu.get()})}if(null===(i=null===(r=cs().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=cs().gapi)||void 0===a?void 0:a.load)){var s=Ui("iframefcb");return cs()[s]=function(){gapi.load?o():n(br(e,"network-request-failed"))},Bi("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Gu=null,e}))}(e),Gu}var Wu=new Ar(5e3,15e3),Hu="__/auth/iframe",Qu="emulator/auth/iframe",Yu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ju(e){var t=e.config;Ir(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Pr(t,Qu):"https://".concat(e.config.authDomain,"/").concat(Hu),r={apiKey:t.apiKey,appName:e.name,v:_n},i=Xu.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(mt(r).slice(1))}function $u(e){return Zu.apply(this,arguments)}function Zu(){return Zu=Et(_t().mark((function e(t){var n,r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ku(t);case 2:return n=e.sent,Ir(r=cs().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Ju(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yu,dontclear:!0},(function(e){return new Promise(function(){var n=Et(_t().mark((function n(r,i){var a,o,s;return _t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){cs().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=br(t,"network-request-failed"),o=cs().setTimeout((function(){i(a)}),Wu.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Zu.apply(this,arguments)}var ec={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tc=function(){function e(t){w(this,e),this.window=t,this.associatedEvent=null}return E(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function nc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},ec),{width:r.toString(),height:i.toString(),top:a,left:o}),c=rt().toLowerCase();n&&(s=Ii(c)?"_blank":n),xi(c)&&(t=t||"http://localhost",u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=L(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return Ci(arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new tc(null);var f=window.open(t||"",s,l);Ir(f,e,"popup-blocked");try{f.focus()}catch(h){}return new tc(f)}var rc="__/auth/handler",ic="emulator/auth/handler",ac=encodeURIComponent("fac");function oc(e,t,n,r,i,a){return sc.apply(this,arguments)}function sc(){return(sc=Et(_t().mark((function e(t,n,r,i,a,o){var s,u,c,l,f,h,d,p,v,m,g,y,k;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ir(t.config.authDomain,t,"auth-domain-config-required"),Ir(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:_n,eventId:a},n instanceof Ra)for(n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",dt(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters())),u=0,c=Object.entries(o||{});u<c.length;u++)l=L(c[u],2),f=l[0],h=l[1],s[f]=h;for(n instanceof ja&&(d=n.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=d.join(",")),t.tenantId&&(s.tid=t.tenantId),p=s,v=0,m=Object.keys(p);v<m.length;v++)g=m[v],void 0===p[g]&&delete p[g];return e.next=10,t._getAppCheckToken();case 10:return y=e.sent,k=y?"#".concat(ac,"=").concat(encodeURIComponent(y)):"",e.abrupt("return","".concat(uc(t),"?").concat(mt(p).slice(1)).concat(k));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uc(e){var t=e.config;return t.emulator?Pr(t,ic):"https://".concat(t.authDomain,"/").concat(rc)}var cc="webStorageSupport",lc=function(){function e(){w(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=is,this._completeRedirectFn=Cu,this._overrideRedirectResult=yu}return E(e,[{key:"_openPopup",value:function(){var e=Et(_t().mark((function e(t,n,r,i){var a,o;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tr(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,oc(t,n,r,Sr(),i);case 3:return o=e.sent,e.abrupt("return",nc(t,o,ss()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Et(_t().mark((function e(t,n,r,i){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,oc(t,n,r,Sr(),i);case 4:return ls(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Tr(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Et(_t().mark((function e(t){var n,r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$u(t);case 2:return n=e.sent,r=new Ru(t),n.register("authEvent",(function(e){return Ir(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(cc,{type:cc},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[cc];void 0!==i&&t(!!i),kr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Uu.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Ai()||_i()||Ci()}}]),e}(),fc=lc,hc=function(){function e(t){w(this,e),this.factorId=t}return E(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Er("unexpected MultiFactorSessionType")}}}]),e}(),dc=function(e){S(n,e);var t=P(n);function n(e){var r;return w(this,n),(r=t.call(this,"phone")).credential=e,r}return E(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Lr(e,"POST","/v2/accounts/mfaEnrollment:finalize",Or(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Lr(e,"POST","/v2/accounts/mfaSignIn:finalize",Or(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(hc),pc=function(){function e(){w(this,e)}return E(e,null,[{key:"assertion",value:function(e){return dc._fromCredential(e)}}]),e}();pc.FACTOR_ID="phone";var vc=function(){function e(){w(this,e)}return E(e,null,[{key:"assertionForEnrollment",value:function(e,t){return mc._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return mc._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=Et(_t().mark((function e(t){var n,r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ir("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,i=n.auth,a={idToken:n.credential,totpEnrollmentInfo:{}},Lr(i,"POST","/v2/accounts/mfaEnrollment:start",Or(i,a));case 4:return r=e.sent,e.abrupt("return",gc._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}var i,a}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();vc.FACTOR_ID="totp";var mc=function(e){S(n,e);var t=P(n);function n(e,r,i){var a;return w(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return E(n,[{key:"_finalizeEnroll",value:function(){var e=Et(_t().mark((function e(t,n,r){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ir("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Xo(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=Et(_t().mark((function e(t,n){var r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ir(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",As(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(hc),gc=function(){function e(t,n,r,i,a,o,s){w(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return E(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(yc(e)||yc(t))&&(r=!0),r&&(yc(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),yc(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function yc(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var kc="@firebase/auth",bc="0.23.2",wc=function(){function e(t){w(this,e),this.auth=t,this.internalListeners=new Map}return E(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Et(_t().mark((function e(t){var n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Ir(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var xc;!function(e){var t;null===(t=et())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function _c(){return window}xc="Browser",mn(new Tt("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,s=o.apiKey,u=o.authDomain;Ir(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:xc,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pi(xc)},l=new Ki(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(mi);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),mn(new Tt("auth-internal",(function(e){return function(e){return new wc(e)}(Wi(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Cn(kc,bc,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(xc)),Cn(kc,bc,"esm2017");var Ic=2e3;function Ec(e,t,n){return Tc.apply(this,arguments)}function Tc(){return Tc=Et(_t().mark((function e(t,n,r){var i,a,o,s,u;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=_c(),o=a.BuildInfo,Tr(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Dc(n.sessionId);case 4:return s=e.sent,u={},Ci()?u.ibi=o.packageName:Ti()?u.apn=o.packageName:kr(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",oc(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),Tc.apply(this,arguments)}function Sc(){return(Sc=Et(_t().mark((function e(t){var n,r,i;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_c(),r=n.BuildInfo,i={},Ci()?i.iosBundleId=r.packageName:Ti()?i.androidPackageName=r.packageName:kr(t,"operation-not-supported-in-this-environment"),e.next=5,Lu(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nc(e){var t=_c().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Cc(e,t,n){return Ac.apply(this,arguments)}function Ac(){return Ac=Et(_t().mark((function e(t,n,r){var i,a,o;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_c(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(br(t,"redirect-cancelled-by-user"))}),Ic))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),Ti()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Ac.apply(this,arguments)}function Pc(e){var t,n,r,i,a,o,s,u,c,l,f=_c();Ir("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ir("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ir("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ir("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ir("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Dc(e){return Rc.apply(this,arguments)}function Rc(){return(Rc=Et(_t().mark((function e(t){var n,r,i;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=jc(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jc(e){if(Tr(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Oc=20,Lc=function(e){S(n,e);var t=P(n);function n(){var e;return w(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return E(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),nr(N(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Et(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Ru);function Mc(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:zc(),postBody:null,tenantId:e.tenantId,error:br(e,"no-auth-event")}}function Fc(e,t){return qc()._set(Gc(e),t)}function Bc(e){return Uc.apply(this,arguments)}function Uc(){return(Uc=Et(_t().mark((function e(t){var n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qc()._get(Gc(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,qc()._remove(Gc(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vc(e,t){var n,r,i=function(e){var t=Kc(e),n=t.link?decodeURIComponent(t.link):void 0,r=Kc(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Kc(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Kc(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?br(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function zc(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<Oc;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function qc(){return mi(ns)}function Gc(e){return ki("authEvent",e.config.apiKey,e.name)}function Kc(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=M(e.split("?"));t[0];return gt(t.slice(1).join("?"))}var Wc=function(){function e(){w(this,e),this._redirectPersistence=is,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Cu,this._overrideRedirectResult=yu}return E(e,[{key:"_initialize",value:function(){var e=Et(_t().mark((function e(t){var n,r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Lc(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){kr(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Et(_t().mark((function e(t,n,r,i){var a,o,s,u;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pc(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),hu.clear(),e.next=10,this._originValidation(t);case 10:return o=Mc(t,r,i),e.next=13,Fc(t,o);case 13:return e.next=15,Ec(t,o,n);case 15:return s=e.sent,e.next=18,Nc(s);case 18:return u=e.sent,e.abrupt("return",Cc(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Sc.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=_c(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Et(_t().mark((function n(){return _t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Bc(e);case 2:t.onEvent(Qc());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=Et(_t().mark((function n(r){var i,a;return _t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Bc(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Vc(i,r.url)),t.onEvent(a||Qc());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");_c().handleOpenURL=function(){var e=Et(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Hc=Wc;function Qc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:br("no-auth-event")}}var Yc=1e3;function Xc(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Jc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return!("file:"!==Xc()&&"ionic:"!==Xc()&&"capacitor:"!==Xc()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function $c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return st()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return/Edge\/\d+/.test(e)}(e)}function Zc(){try{var e=self.localStorage,t=ss();if(e)return e.setItem(t,"1"),e.removeItem(t),!$c()||ut()}catch(n){return el()&&ut()}return!1}function el(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function tl(){return("http:"===Xc()||"https:"===Xc()||at()||Jc())&&!(ot()||it())&&Zc()&&!el()}function nl(){return Jc()&&"undefined"!==typeof document}function rl(){return il.apply(this,arguments)}function il(){return(il=Et(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nl()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),Yc);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var al={LOCAL:"local",NONE:"none",SESSION:"session"},ol=Ir,sl="persistence";function ul(e,t){ol(Object.values(al).includes(t),e,"invalid-persistence-type"),ot()?ol(t!==al.SESSION,e,"unsupported-persistence-type"):it()?ol(t===al.NONE,e,"unsupported-persistence-type"):el()?ol(t===al.NONE||t===al.LOCAL&&ut(),e,"unsupported-persistence-type"):ol(t===al.NONE||Zc(),e,"unsupported-persistence-type")}function cl(e){return ll.apply(this,arguments)}function ll(){return(ll=Et(_t().mark((function e(t){var n,r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=fl(),r=ki(sl,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fl(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var hl=Ir,dl=function(){function e(){w(this,e),this.browserResolver=mi(fc),this.cordovaResolver=mi(Hc),this.underlyingResolver=null,this._redirectPersistence=is,this._completeRedirectFn=Cu,this._overrideRedirectResult=yu}return E(e,[{key:"_initialize",value:function(){var e=Et(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Et(_t().mark((function e(t,n,r,i){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Et(_t().mark((function e(t,n,r,i){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return nl()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return hl(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Et(_t().mark((function e(){var t;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,rl();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function pl(e){return e.unwrap()}function vl(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new bl(e,function(e,t){var n,r=xt(e),i=t;return Ir(t.customData.operationType,r,"argument-error"),Ir(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Qo._fromError(r,i)}(e,t));else if(r){var i=ml(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function ml(e){var t=(e instanceof ct?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof ct)&&"temporaryProof"in t&&"phoneNumber"in t)return Xs.credentialFromResult(e);var n,r=t.providerId;if(!r||r===ar.PASSWORD)return null;switch(r){case ar.GOOGLE:n=Ma;break;case ar.FACEBOOK:n=La;break;case ar.GITHUB:n=Fa;break;case ar.TWITTER:n=Va;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?Ba._create(r,s):_a._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new Oa(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof ct?n.credentialFromError(e):n.credentialFromResult(e)}function gl(e,t){return t.catch((function(t){throw t instanceof ct&&vl(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,ml(t)),additionalUserInfo:Wo(e),user:wl.getOrCreate(r)}}))}function yl(e,t){return kl.apply(this,arguments)}function kl(){return(kl=Et(_t().mark((function e(t,n){var r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return gl(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bl=function(){function e(t,n){w(this,e),this.resolver=n,this.auth=t.wrapped()}return E(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return gl(pl(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),wl=function(){function e(t){w(this,e),this._delegate=t,this.multiFactor=function(e){var t=xt(e);return $o.has(t)||$o.set(t,Jo._fromUser(t)),$o.get(t)}(t)}return E(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Et(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gl(this.auth,uo(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Et(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yl(this.auth,Gs(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Et(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gl(this.auth,uu(this._delegate,t,dl)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Et(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cl(Wi(this.auth));case 2:return e.abrupt("return",Eu(this._delegate,t,dl));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Et(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gl(this.auth,lo(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return yl(this.auth,function(e,t,n){return Ws.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return gl(this.auth,function(e,t,n){return su.apply(this,arguments)}(this._delegate,e,dl))}},{key:"reauthenticateWithRedirect",value:function(){var e=Et(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cl(Wi(this.auth));case 2:return e.abrupt("return",_u(this._delegate,t,dl));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Ro.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Et(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xa(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Fo(xt(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Fo(xt(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Ys.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Mo.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return jo.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();wl.USER_MAP=new WeakMap;var xl=Ir,_l=function(){function e(t,n){if(w(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;xl(r,"invalid-api-key",{appName:t.name}),xl(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?dl:void 0;this._delegate=n.initialize({options:{persistence:El(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(dr),this.linkUnderlyingAuth()}return E(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?wl.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Qi(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return xo.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return _o(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return wo.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Et(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gl(this._delegate,To(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Do.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Pa.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Et(_t().mark((function e(){var t;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xl(tl(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Su(this._delegate,dl);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",gl(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Wi(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Il(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Il(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return No.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return bo.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Et(_t().mark((function e(t){var n,r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ul(this._delegate,t),e.t0=t,e.next=e.t0===al.SESSION?4:e.t0===al.LOCAL?6:e.t0===al.NONE?11:13;break;case 4:return n=is,e.abrupt("break",14);case 6:return e.next=8,mi(Ns)._isAvailable();case 8:return r=e.sent,n=r?Ns:ns,e.abrupt("break",14);case 11:return n=yi,e.abrupt("break",14);case 13:return e.abrupt("return",kr("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return gl(this._delegate,function(e){return Wa.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return gl(this._delegate,oo(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return gl(this._delegate,function(e,t){return vo.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return gl(this._delegate,function(e,t,n){return oo(xt(e),Da.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return gl(this._delegate,function(e,t,n){return Co.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return yl(this._delegate,function(e,t,n){return qs.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Et(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xl(tl(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",gl(this._delegate,au(this._delegate,t,dl)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Et(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xl(tl(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,cl(this._delegate);case 3:return e.abrupt("return",wu(this._delegate,t,dl));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Eo.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Il(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&wl.getOrCreate(e))},error:t,complete:n}}function El(e,t){var n=function(e,t){var n=fl();if(!n)return[];var r=ki(sl,e,t);switch(n.getItem(r)){case al.NONE:return[yi];case al.LOCAL:return[Ns,is];case al.SESSION:return[is];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Ns)||n.push(Ns),"undefined"!==typeof window)for(var r=0,i=[ns,is];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(yi)||n.push(yi),n}_l.Persistence=al;var Tl=function(){function e(){w(this,e),this.providerId="phone",this._delegate=new Xs(pl(tr.auth()))}return E(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Xs.credential(e,t)}}]),e}();Tl.PHONE_SIGN_IN_METHOD=Xs.PHONE_SIGN_IN_METHOD,Tl.PROVIDER_ID=Xs.PROVIDER_ID;var Sl,Nl=Ir,Cl=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tr.app();w(this,e),Nl(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Us(t,n,i.auth()),this.type=this._delegate.type}return E(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Sl=tr).INTERNAL.registerComponent(new Tt("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new _l(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:or,PASSWORD_RESET:sr,RECOVER_EMAIL:ur,REVERT_SECOND_FACTOR_ADDITION:cr,VERIFY_AND_CHANGE_EMAIL:lr,VERIFY_EMAIL:fr}},EmailAuthProvider:Da,FacebookAuthProvider:La,GithubAuthProvider:Fa,GoogleAuthProvider:Ma,OAuthProvider:Oa,SAMLAuthProvider:Ua,PhoneAuthProvider:Tl,PhoneMultiFactorGenerator:pc,RecaptchaVerifier:Cl,TwitterAuthProvider:Va,Auth:_l,AuthCredential:Ji,Error:ct}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Sl.registerVersion("@firebase/auth-compat","0.4.2");var Al,Pl="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Dl={},Rl=Rl||{},jl=Pl||self;function Ol(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ll(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ml="closure_uid_"+(1e9*Math.random()>>>0),Fl=0;function Bl(e,t,n){return e.call.apply(e.bind,arguments)}function Ul(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Vl(e,t,n){return(Vl=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Bl:Ul).apply(null,arguments)}function zl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ql(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Gl(){this.s=this.s,this.o=this.o}Gl.prototype.s=!1,Gl.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Ml)&&e[Ml]||(e[Ml]=++Fl))},Gl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Kl=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Wl(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Hl(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Ol(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Ql(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ql.prototype.h=function(){this.defaultPrevented=!0};var Yl=function(){if(!jl.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{jl.addEventListener("test",(function(){}),t),jl.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function Xl(e){return/^[\s\xa0]*$/.test(e)}function Jl(){var e=jl.navigator;return e&&(e=e.userAgent)?e:""}function $l(e){return-1!=Jl().indexOf(e)}function Zl(e){return Zl[" "](e),e}Zl[" "]=function(){};var ef,tf,nf=$l("Opera"),rf=$l("Trident")||$l("MSIE"),af=$l("Edge"),of=af||rf,sf=$l("Gecko")&&!(-1!=Jl().toLowerCase().indexOf("webkit")&&!$l("Edge"))&&!($l("Trident")||$l("MSIE"))&&!$l("Edge"),uf=-1!=Jl().toLowerCase().indexOf("webkit")&&!$l("Edge");function cf(){var e=jl.document;return e?e.documentMode:void 0}e:{var lf="",ff=function(){var e=Jl();return sf?/rv:([^\);]+)(\)|;)/.exec(e):af?/Edge\/([\d\.]+)/.exec(e):rf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):uf?/WebKit\/(\S+)/.exec(e):nf?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ff&&(lf=ff?ff[1]:""),rf){var hf=cf();if(null!=hf&&hf>parseFloat(lf)){ef=String(hf);break e}}ef=lf}if(jl.document&&rf){var df=cf();tf=df||(parseInt(ef,10)||void 0)}else tf=void 0;var pf=tf;function vf(e,t){if(Ql.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(sf){e:{try{Zl(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:mf[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&vf.$.h.call(this)}}ql(vf,Ql);var mf={2:"touch",3:"pen",4:"mouse"};vf.prototype.h=function(){vf.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var gf="closure_listenable_"+(1e6*Math.random()|0),yf=0;function kf(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++yf,this.fa=this.ia=!1}function bf(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function wf(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function xf(e){var t={};for(var n in e)t[n]=e[n];return t}var _f="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function If(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<_f.length;a++)n=_f[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ef(e){this.src=e,this.g={},this.h=0}function Tf(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Kl(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(bf(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Sf(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}Ef.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Sf(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new kf(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var Nf="closure_lm_"+(1e6*Math.random()|0),Cf={};function Af(e,t,n,r,i){if(r&&r.once)return Df(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Af(e,t[a],n,r,i);return null}return n=Bf(n),e&&e[gf]?e.O(t,n,Ll(r)?!!r.capture:!!r,i):Pf(e,t,n,!1,r,i)}function Pf(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Ll(i)?!!i.capture:!!i,s=Mf(e);if(s||(e[Nf]=s=new Ef(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Lf;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Yl||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Of(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Df(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Df(e,t[a],n,r,i);return null}return n=Bf(n),e&&e[gf]?e.P(t,n,Ll(r)?!!r.capture:!!r,i):Pf(e,t,n,!0,r,i)}function Rf(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Rf(e,t[a],n,r,i);else r=Ll(r)?!!r.capture:!!r,n=Bf(n),e&&e[gf]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Sf(a=e.g[t],n,r,i))&&(bf(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Mf(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Sf(t,n,r,i)),(n=-1<e?t[e]:null)&&jf(n))}function jf(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[gf])Tf(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Of(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Mf(t))?(Tf(n,e),0==n.h&&(n.src=null,t[Nf]=null)):bf(e)}}}function Of(e){return e in Cf?Cf[e]:Cf[e]="on"+e}function Lf(e,t){if(e.fa)e=!0;else{t=new vf(t,this);var n=e.listener,r=e.la||e.src;e.ia&&jf(e),e=n.call(r,t)}return e}function Mf(e){return(e=e[Nf])instanceof Ef?e:null}var Ff="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bf(e){return"function"===typeof e?e:(e[Ff]||(e[Ff]=function(t){return e.handleEvent(t)}),e[Ff])}function Uf(){Gl.call(this),this.i=new Ef(this),this.S=this,this.J=null}function Vf(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Ql(t,e);else if(t instanceof Ql)t.target=t.target||e;else{var i=t;If(t=new Ql(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=zf(o,r,!0,t)&&i}if(i=zf(o=t.g=e,r,!0,t)&&i,i=zf(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=zf(o=t.g=n[a],r,!1,t)&&i}function zf(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&Tf(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}ql(Uf,Gl),Uf.prototype[gf]=!0,Uf.prototype.removeEventListener=function(e,t,n,r){Rf(this,e,t,n,r)},Uf.prototype.N=function(){if(Uf.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)bf(n[r]);delete t.g[e],t.h--}}this.J=null},Uf.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Uf.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var qf=jl.JSON.stringify,Gf=function(){function e(t,n){w(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return E(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function Kf(){var e=Zf,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Wf=function(){function e(){w(this,e),this.h=this.g=null}return E(e,[{key:"add",value:function(e,t){var n=Hf.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Hf=new Gf((function(){return new Qf}),(function(e){return e.reset()})),Qf=function(){function e(){w(this,e),this.next=this.g=this.h=null}return E(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Yf(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Xf(e){jl.setTimeout((function(){throw e}),0)}var Jf,$f=!1,Zf=new Wf,eh=function(){var e=jl.Promise.resolve(void 0);Jf=function(){e.then(th)}},th=function(){for(var e;e=Kf();){try{e.h.call(e.g)}catch(n){Xf(n)}var t=Hf;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}$f=!1};function nh(e,t){Uf.call(this),this.h=e||1,this.g=t||jl,this.j=Vl(this.qb,this),this.l=Date.now()}function rh(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function ih(e,t,n){if("function"===typeof e)n&&(e=Vl(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Vl(e.handleEvent,e)}return 2147483647<Number(t)?-1:jl.setTimeout(e,t||0)}function ah(e){e.g=ih((function(){e.g=null,e.i&&(e.i=!1,ah(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}ql(nh,Uf),(Al=nh.prototype).ga=!1,Al.T=null,Al.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Vf(this,"tick"),this.ga&&(rh(this),this.start()))}},Al.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Al.N=function(){nh.$.N.call(this),rh(this),delete this.g};var oh=function(e){S(n,e);var t=P(n);function n(e,r){var i;return w(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return E(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:ah(this)}},{key:"N",value:function(){nr(N(n.prototype),"N",this).call(this),this.g&&(jl.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Gl);function sh(e){Gl.call(this),this.h=e,this.g={}}ql(sh,Gl);var uh=[];function ch(e,t,n,r){Array.isArray(n)||(n&&(uh[0]=n.toString()),n=uh);for(var i=0;i<n.length;i++){var a=Af(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function lh(e){wf(e.g,(function(e,t){this.g.hasOwnProperty(t)&&jf(e)}),e),e.g={}}function fh(){this.g=!0}function hh(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return qf(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}sh.prototype.N=function(){sh.$.N.call(this),lh(this)},sh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fh.prototype.Ea=function(){this.g=!1},fh.prototype.info=function(){};var dh={},ph=null;function vh(){return ph=ph||new Uf}function mh(e){Ql.call(this,dh.Ta,e)}function gh(e){var t=vh();Vf(t,new mh(t))}function yh(e,t){Ql.call(this,dh.STAT_EVENT,e),this.stat=t}function kh(e){var t=vh();Vf(t,new yh(t,e))}function bh(e,t){Ql.call(this,dh.Ua,e),this.size=t}function wh(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return jl.setTimeout((function(){e()}),t)}dh.Ta="serverreachability",ql(mh,Ql),dh.STAT_EVENT="statevent",ql(yh,Ql),dh.Ua="timingevent",ql(bh,Ql);var xh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},_h={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ih(){}function Eh(e){return e.h||(e.h=e.i())}function Th(){}Ih.prototype.h=null;var Sh,Nh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ch(){Ql.call(this,"d")}function Ah(){Ql.call(this,"c")}function Ph(){}function Dh(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new sh(this),this.P=jh,e=of?125:void 0,this.V=new nh(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Rh}function Rh(){this.i=null,this.g="",this.h=!1}ql(Ch,Ql),ql(Ah,Ql),ql(Ph,Ih),Ph.prototype.g=function(){return new XMLHttpRequest},Ph.prototype.i=function(){return{}},Sh=new Ph;var jh=45e3,Oh={},Lh={};function Mh(e,t,n){e.L=1,e.v=nd(Jh(t)),e.s=n,e.S=!0,Fh(e,null)}function Fh(e,t){e.G=Date.now(),zh(e),e.A=Jh(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),vd(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Rh,e.g=mp(e.l,n?t:null,!e.s),0<e.O&&(e.M=new oh(Vl(e.Pa,e,e.g),e.O)),ch(e.U,e.g,"readystatechange",e.nb),t=e.I?xf(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),gh(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Bh(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Uh(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=Vh(e,n))==Lh){4==t&&(e.o=4,kh(14),i=!1),hh(e.j,e.m,null,"[Incomplete Response]");break}if(r==Oh){e.o=4,kh(15),hh(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}hh(e.j,e.m,r,null),Hh(e,r)}Bh(e)&&r!=Lh&&r!=Oh&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,kh(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),up(t),t.M=!0,kh(11))):(hh(e.j,e.m,n,"[Invalid Chunked Response]"),Wh(e),Kh(e))}function Vh(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Lh:(n=Number(t.substring(n,r)),isNaN(n)?Oh:(r+=1)+n>t.length?Lh:(t=t.slice(r,r+n),e.C=r+n,t))}function zh(e){e.Y=Date.now()+e.P,qh(e,e.P)}function qh(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=wh(Vl(e.lb,e),t)}function Gh(e){e.B&&(jl.clearTimeout(e.B),e.B=null)}function Kh(e){0==e.l.H||e.J||fp(e.l,e)}function Wh(e){Gh(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,rh(e.V),lh(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Hh(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||xd(n.i,e)))if(!e.K&&xd(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;lp(n),ep(n)}sp(n),kh(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=wh(Vl(n.ib,n),6e3));if(1>=wd(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else dp(n,11)}else if((e.K||n.g==e)&&lp(n),!Xl(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var s=a[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(_d(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,td(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=vp(r,r.J?r.pa:null,r.Y),d.K){Id(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(Gh(p),zh(p)),r.g=d}else op(r);0<n.j.length&&np(n)}else"stop"!=a[0]&&"close"!=a[0]||dp(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?dp(n,7):Zd(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}gh()}catch(a){}}function Qh(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ol(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Ol(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Ol(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Al=Dh.prototype).setTimeout=function(e){this.P=e},Al.nb=function(e){e=e.target;var t=this.M;t&&3==Hd(e)?t.l():this.Pa(e)},Al.Pa=function(e){try{if(e==this.g)e:{var t=Hd(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||of||this.g&&(this.h.h||this.g.ja()||Qd(this.g)))){this.J||4!=t||7==n||gh(),Gh(this);var r=this.g.da();this.ca=r;t:if(Bh(this)){var i=Qd(this.g);e="";var a=i.length,o=4==Hd(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Wh(this),Kh(this);var s="";break t}this.h.i=new jl.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xl(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,kh(12),Wh(this),Kh(this);break e}hh(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hh(this,r)}this.S?(Uh(this,t,s),of&&this.i&&3==t&&(ch(this.U,this.V,"tick",this.mb),this.V.start())):(hh(this.j,this.m,s,null),Hh(this,s)),4==t&&Wh(this),this.i&&!this.J&&(4==t?fp(this.l,this):(this.i=!1,zh(this)))}else(function(e){var t={};e=(e.g&&2<=Hd(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!Xl(e[n])){var r=Yf(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.o=3,kh(12)):(this.o=0,kh(13)),Wh(this),Kh(this)}}}catch(t){}},Al.mb=function(){if(this.g){var e=Hd(this.g),t=this.g.ja();this.C<t.length&&(Gh(this),Uh(this,e,t),this.i&&4!=e&&zh(this))}},Al.cancel=function(){this.J=!0,Wh(this)},Al.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(gh(),kh(17)),Wh(this),this.o=2,Kh(this)):qh(this,this.Y-e)};var Yh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xh(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Xh){this.h=e.h,$h(this,e.j),this.s=e.s,this.g=e.g,Zh(this,e.m),this.l=e.l;var t=e.i,n=new fd;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ed(this,n),this.o=e.o}else e&&(t=String(e).match(Yh))?(this.h=!1,$h(this,t[1]||"",!0),this.s=rd(t[2]||""),this.g=rd(t[3]||"",!0),Zh(this,t[4]),this.l=rd(t[5]||"",!0),ed(this,t[6]||"",!0),this.o=rd(t[7]||"")):(this.h=!1,this.i=new fd(null,this.h))}function Jh(e){return new Xh(e)}function $h(e,t,n){e.j=n?rd(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Zh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ed(e,t,n){t instanceof fd?(e.i=t,function(e,t){t&&!e.j&&(hd(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(dd(this,t),vd(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=id(t,cd)),e.i=new fd(t,e.h))}function td(e,t,n){e.i.set(t,n)}function nd(e){return td(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function rd(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function id(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ad),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ad(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Xh.prototype.toString=function(){var e=[],t=this.j;t&&e.push(id(t,od,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(id(t,od,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(id(n,"/"==n.charAt(0)?ud:sd,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",id(n,ld)),e.join("")};var od=/[#\/\?@]/g,sd=/[#\?:]/g,ud=/[#\?]/g,cd=/[#\?@]/g,ld=/#/g;function fd(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function hd(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function dd(e,t){hd(e),t=md(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function pd(e,t){return hd(e),t=md(e,t),e.g.has(t)}function vd(e,t,n){dd(e,t),0<n.length&&(e.i=null,e.g.set(md(e,t),Wl(n)),e.h+=n.length)}function md(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Al=fd.prototype).add=function(e,t){hd(this),this.i=null,e=md(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Al.forEach=function(e,t){hd(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Al.ta=function(){hd(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Al.Z=function(e){hd(this);var t=[];if("string"===typeof e)pd(this,e)&&(t=t.concat(this.g.get(md(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Al.set=function(e,t){return hd(this),this.i=null,pd(this,e=md(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Al.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Al.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var gd=E((function e(t,n){w(this,e),this.g=t,this.map=n}));function yd(e){this.l=e||kd,jl.PerformanceNavigationTiming?e=0<(e=jl.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(jl.g&&jl.g.Ka&&jl.g.Ka()&&jl.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var kd=10;function bd(e){return!!e.h||!!e.g&&e.g.size>=e.j}function wd(e){return e.h?1:e.g?e.g.size:0}function xd(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function _d(e,t){e.g?e.g.add(t):e.h=t}function Id(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ed(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=f(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return Wl(e.i)}yd.prototype.cancel=function(){if(this.i=Ed(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=f(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var Td,Sd=function(){function e(){w(this,e)}return E(e,[{key:"stringify",value:function(e){return jl.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return jl.JSON.parse(e,void 0)}}]),e}();function Nd(){this.g=new Sd}function Cd(e,t,n){var r=n||"";try{Qh(e,(function(e,n){var i=e;Ll(e)&&(i=qf(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ad(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Pd(e){this.l=e.fc||null,this.j=e.ob||!1}function Dd(e,t){Uf.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Rd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ql(Pd,Ih),Pd.prototype.g=function(){return new Dd(this.l,this.j)},Pd.prototype.i=(Td={},function(){return Td}),ql(Dd,Uf);var Rd=0;function jd(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Od(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ld(e)}function Ld(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Al=Dd.prototype).open=function(e,t){if(this.readyState!=Rd)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ld(this)},Al.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||jl).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Al.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Od(this)),this.readyState=Rd},Al.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ld(this)),this.g&&(this.readyState=3,Ld(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof jl.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jd(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Al.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Od(this):Ld(this),3==this.readyState&&jd(this)}},Al.Za=function(e){this.g&&(this.response=this.responseText=e,Od(this))},Al.Ya=function(e){this.g&&(this.response=e,Od(this))},Al.ka=function(){this.g&&Od(this)},Al.setRequestHeader=function(e,t){this.v.append(e,t)},Al.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Al.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Dd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Md=jl.JSON.parse;function Fd(e){Uf.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Bd,this.L=this.M=!1}ql(Fd,Uf);var Bd="",Ud=/^https?$/i,Vd=["POST","PUT"];function zd(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,qd(e),Kd(e)}function qd(e){e.F||(e.F=!0,Vf(e,"complete"),Vf(e,"error"))}function Gd(e){if(e.h&&"undefined"!=typeof Rl&&(!e.C[1]||4!=Hd(e)||2!=e.da()))if(e.v&&4==Hd(e))ih(e.La,0,e);else if(Vf(e,"readystatechange"),4==Hd(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(Yh)[1]||null;!a&&jl.self&&jl.self.location&&(a=jl.self.location.protocol.slice(0,-1)),i=!Ud.test(a?a.toLowerCase():"")}t=i}if(t)Vf(e,"complete"),Vf(e,"success");else{e.m=6;try{var o=2<Hd(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",qd(e)}}finally{Kd(e)}}}function Kd(e,t){if(e.g){Wd(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||Vf(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Wd(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(jl.clearTimeout(e.A),e.A=null)}function Hd(e){return e.g?e.g.readyState:0}function Qd(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Bd:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Zp){return null}}function Yd(e){var t="";return wf(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Xd(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Yd(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):td(e,t,n))}function Jd(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function $d(e){this.Ga=0,this.j=[],this.l=new fh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Jd("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Jd("baseRetryDelayMs",5e3,e),this.hb=Jd("retryDelaySeedMs",1e4,e),this.eb=Jd("forwardChannelMaxRetries",2,e),this.xa=Jd("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new yd(e&&e.concurrentRequestLimit),this.Ja=new Nd,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Zd(e){if(tp(e),3==e.H){var t=e.W++,n=Jh(e.I);if(td(n,"SID",e.K),td(n,"RID",t),td(n,"TYPE","terminate"),ip(e,n),(t=new Dh(e,e.l,t)).L=2,t.v=nd(Jh(n)),n=!1,jl.navigator&&jl.navigator.sendBeacon)try{n=jl.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&jl.Image&&((new Image).src=t.v,n=!0),n||(t.g=mp(t.l,null),t.g.ha(t.v)),t.G=Date.now(),zh(t)}pp(e)}function ep(e){e.g&&(up(e),e.g.cancel(),e.g=null)}function tp(e){ep(e),e.u&&(jl.clearTimeout(e.u),e.u=null),lp(e),e.i.cancel(),e.m&&("number"===typeof e.m&&jl.clearTimeout(e.m),e.m=null)}function np(e){if(!bd(e.i)&&!e.m){e.m=!0;var t=e.Na;Jf||eh(),$f||(Jf(),$f=!0),Zf.add(t,e),e.C=0}}function rp(e,t){var n;n=t?t.m:e.W++;var r=Jh(e.I);td(r,"SID",e.K),td(r,"RID",n),td(r,"AID",e.V),ip(e,r),e.o&&e.s&&Xd(r,e.o,e.s),n=new Dh(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=ap(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),_d(e.i,n),Mh(n,r,t)}function ip(e,t){e.na&&wf(e.na,(function(e,n){td(t,n,e)})),e.h&&Qh({},(function(e,n){td(t,n,e)}))}function ap(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Vl(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].g,l=i[u].map;if(0>(c-=a))a=Math.max(0,i[u].g-100),s=!1;else try{Cd(l,o,"req"+c+"_")}catch(lv){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function op(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Jf||eh(),$f||(Jf(),$f=!0),Zf.add(t,e),e.A=0}}function sp(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=wh(Vl(e.Ma,e),hp(e,e.A)),e.A++,!0)}function up(e){null!=e.B&&(jl.clearTimeout(e.B),e.B=null)}function cp(e){e.g=new Dh(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Jh(e.wa);td(t,"RID","rpc"),td(t,"SID",e.K),td(t,"AID",e.V),td(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&td(t,"TO",e.qa),td(t,"TYPE","xmlhttp"),ip(e,t),e.o&&e.s&&Xd(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=nd(Jh(t)),n.s=null,n.S=!0,Fh(n,e)}function lp(e){null!=e.v&&(jl.clearTimeout(e.v),e.v=null)}function fp(e,t){var n=null;if(e.g==t){lp(e),up(e),e.g=null;var r=2}else{if(!xd(e.i,t))return;n=t.F,Id(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Vf(r=vh(),new bh(r,n)),np(e)}else op(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(wd(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=wh(Vl(e.Na,e,t),hp(e,e.C)),e.C++,!0))}(e,t)||2==r&&sp(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:dp(e,5);break;case 4:dp(e,10);break;case 3:dp(e,6);break;default:dp(e,2)}}function hp(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function dp(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Vl(e.pb,e);n||(n=new Xh("//www.google.com/images/cleardot.gif"),jl.location&&"http"==jl.location.protocol||$h(n,"https"),nd(n)),function(e,t){var n=new fh;if(jl.Image){var r=new Image;r.onload=zl(Ad,n,r,"TestLoadImage: loaded",!0,t),r.onerror=zl(Ad,n,r,"TestLoadImage: error",!1,t),r.onabort=zl(Ad,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=zl(Ad,n,r,"TestLoadImage: timeout",!1,t),jl.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else kh(2);e.H=0,e.h&&e.h.za(t),pp(e),tp(e)}function pp(e){if(e.H=0,e.ma=[],e.h){var t=Ed(e.i);0==t.length&&0==e.j.length||(Hl(e.ma,t),Hl(e.ma,e.j),e.i.i.length=0,Wl(e.j),e.j.length=0),e.h.ya()}}function vp(e,t,n){var r=n instanceof Xh?Jh(n):new Xh(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Zh(r,r.m);else{var i=jl.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Xh(null);r&&$h(a,r),t&&(a.g=t),i&&Zh(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&td(r,n,t),td(r,"VER",e.ra),ip(e,r),r}function mp(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Fd(new Pd({ob:!0})):new Fd(e.va)).Oa(e.J),t}function gp(){}function yp(){if(rf&&!(10<=Number(pf)))throw Error("Environmental error: no available transport.")}function kp(e,t){Uf.call(this),this.g=new $d(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Xl(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Xl(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new xp(this)}function bp(e){Ch.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function wp(){Ah.call(this),this.status=1}function xp(e){this.g=e}function _p(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ip(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Ep(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Al=Fd.prototype).Oa=function(e){this.M=e},Al.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Sh.g(),this.C=this.u?Eh(this.u):Eh(Sh),this.g.onreadystatechange=Vl(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void zd(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=f(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=jl.FormData&&e instanceof jl.FormData,!(0<=Kl(Vd,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=f(n);try{for(c.s();!(u=c.n()).done;){var l=L(u.value,2),h=l[0],d=l[1];this.g.setRequestHeader(h,d)}}catch(p){c.e(p)}finally{c.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Wd(this),0<this.B&&((this.L=function(e){return rf&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vl(this.ua,this)):this.A=ih(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){zd(this,s)}},Al.ua=function(){"undefined"!=typeof Rl&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vf(this,"timeout"),this.abort(8))},Al.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Vf(this,"complete"),Vf(this,"abort"),Kd(this))},Al.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Kd(this,!0)),Fd.$.N.call(this)},Al.La=function(){this.s||(this.G||this.v||this.l?Gd(this):this.kb())},Al.kb=function(){Gd(this)},Al.isActive=function(){return!!this.g},Al.da=function(){try{return 2<Hd(this)?this.g.status:-1}catch(Td){return-1}},Al.ja=function(){try{return this.g?this.g.responseText:""}catch(Td){return""}},Al.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Md(t)}},Al.Ia=function(){return this.m},Al.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Al=$d.prototype).ra=8,Al.H=1,Al.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new Dh(this,this.l,e),n=this.s;if(this.U&&(n?If(n=xf(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=ap(this,t,r),td(i=Jh(this.I),"RID",e),td(i,"CVER",22),this.F&&td(i,"X-HTTP-Session-Id",this.F),ip(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(Yd(n)))+"&"+r:this.o&&Xd(i,this.o,n)),_d(this.i,t),this.bb&&td(i,"TYPE","init"),this.P?(td(i,"$req",r),td(i,"SID","null"),t.aa=!0,Mh(t,i,null)):Mh(t,i,r),this.H=2}}else 3==this.H&&(e?rp(this,e):0==this.j.length||bd(this.i)||rp(this))},Al.Ma=function(){if(this.u=null,cp(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=wh(Vl(this.jb,this),e)}},Al.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,kh(10),ep(this),cp(this))},Al.ib=function(){null!=this.v&&(this.v=null,ep(this),sp(this),kh(19))},Al.pb=function(e){e?(this.l.info("Successfully pinged google.com"),kh(2)):(this.l.info("Failed to ping google.com"),kh(1))},Al.isActive=function(){return!!this.h&&this.h.isActive(this)},(Al=gp.prototype).Ba=function(){},Al.Aa=function(){},Al.za=function(){},Al.ya=function(){},Al.isActive=function(){return!0},Al.Va=function(){},yp.prototype.g=function(e,t){return new kp(e,t)},ql(kp,Uf),kp.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;kh(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=vp(e,null,e.Y),np(e)},kp.prototype.close=function(){Zd(this.g)},kp.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=qf(e),e=n);t.j.push(new gd(t.fb++,e)),3==t.H&&np(t)},kp.prototype.N=function(){this.g.h=null,delete this.j,Zd(this.g),delete this.g,kp.$.N.call(this)},ql(bp,Ch),ql(wp,Ah),ql(xp,gp),xp.prototype.Ba=function(){Vf(this.g,"a")},xp.prototype.Aa=function(e){Vf(this.g,new bp(e))},xp.prototype.za=function(e){Vf(this.g,new wp)},xp.prototype.ya=function(){Vf(this.g,"b")},ql(_p,(function(){this.blockSize=-1})),_p.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},_p.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Ip(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Ip(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Ip(this,r),i=0;break}}this.h=i,this.i+=t},_p.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Tp={};function Sp(e){return-128<=e&&128>e?function(e,t){var n=Tp;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Ep([0|e],0>e?-1:0)})):new Ep([0|e],0>e?-1:0)}function Np(e){if(isNaN(e)||!isFinite(e))return Ap;if(0>e)return Op(Np(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Cp;return new Ep(t,0)}var Cp=4294967296,Ap=Sp(0),Pp=Sp(1),Dp=Sp(16777216);function Rp(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function jp(e){return-1==e.h}function Op(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Ep(n,~e.h).add(Pp)}function Lp(e,t){return e.add(Op(t))}function Mp(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Fp(e,t){this.g=e,this.h=t}function Bp(e,t){if(Rp(t))throw Error("division by zero");if(Rp(e))return new Fp(Ap,Ap);if(jp(e))return t=Bp(Op(e),t),new Fp(Op(t.g),Op(t.h));if(jp(t))return t=Bp(e,Op(t)),new Fp(Op(t.g),t.h);if(30<e.g.length){if(jp(e)||jp(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Pp,r=t;0>=r.X(e);)n=Up(n),r=Up(r);var i=Vp(n,1),a=Vp(r,1);for(r=Vp(r,2),n=Vp(n,2);!Rp(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=Vp(r,1),n=Vp(n,1)}return t=Lp(e,i.R(t)),new Fp(i,t)}for(i=Ap;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=Np(n)).R(t);jp(o)||0<o.X(e);)o=(a=Np(n-=r)).R(t);Rp(a)&&(a=Pp),i=i.add(a),e=Lp(e,o)}return new Fp(i,e)}function Up(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Ep(n,e.h)}function Vp(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Ep(i,e.h)}(Al=Ep.prototype).ea=function(){if(jp(this))return-Op(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Cp+r)*t,t*=Cp}return e},Al.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Rp(this))return"0";if(jp(this))return"-"+Op(this).toString(e);for(var t=Np(Math.pow(e,6)),n=this,r="";;){var i=Bp(n,t).g,a=((0<(n=Lp(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Rp(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Al.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Al.X=function(e){return jp(e=Lp(this,e))?-1:Rp(e)?0:1},Al.abs=function(){return jp(this)?Op(this):this},Al.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new Ep(n,-2147483648&n[n.length-1]?-1:0)},Al.R=function(e){if(Rp(this)||Rp(e))return Ap;if(jp(this))return jp(e)?Op(this).R(Op(e)):Op(Op(this).R(e));if(jp(e))return Op(this.R(Op(e)));if(0>this.X(Dp)&&0>e.X(Dp))return Np(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,Mp(n,2*r+2*i),n[2*r+2*i+1]+=a*u,Mp(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,Mp(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,Mp(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Ep(n,0)},Al.gb=function(e){return Bp(this,e).h},Al.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Ep(n,this.h&e.h)},Al.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Ep(n,this.h|e.h)},Al.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Ep(n,this.h^e.h)},yp.prototype.createWebChannel=yp.prototype.g,kp.prototype.send=kp.prototype.u,kp.prototype.open=kp.prototype.m,kp.prototype.close=kp.prototype.close,xh.NO_ERROR=0,xh.TIMEOUT=8,xh.HTTP_ERROR=6,_h.COMPLETE="complete",Th.EventType=Nh,Nh.OPEN="a",Nh.CLOSE="b",Nh.ERROR="c",Nh.MESSAGE="d",Uf.prototype.listen=Uf.prototype.O,Fd.prototype.listenOnce=Fd.prototype.P,Fd.prototype.getLastError=Fd.prototype.Sa,Fd.prototype.getLastErrorCode=Fd.prototype.Ia,Fd.prototype.getStatus=Fd.prototype.da,Fd.prototype.getResponseJson=Fd.prototype.Wa,Fd.prototype.getResponseText=Fd.prototype.ja,Fd.prototype.send=Fd.prototype.ha,Fd.prototype.setWithCredentials=Fd.prototype.Oa,_p.prototype.digest=_p.prototype.l,_p.prototype.reset=_p.prototype.reset,_p.prototype.update=_p.prototype.j,Ep.prototype.add=Ep.prototype.add,Ep.prototype.multiply=Ep.prototype.R,Ep.prototype.modulo=Ep.prototype.gb,Ep.prototype.compare=Ep.prototype.X,Ep.prototype.toNumber=Ep.prototype.ea,Ep.prototype.toString=Ep.prototype.toString,Ep.prototype.getBits=Ep.prototype.D,Ep.fromNumber=Np,Ep.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Op(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Np(Math.pow(n,8)),i=Ap,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=Np(Math.pow(n,o)),i=i.R(o).add(Np(s))):i=(i=i.R(r)).add(Np(s))}return i};var zp=Dl.createWebChannelTransport=function(){return new yp},qp=Dl.getStatEventTarget=function(){return vh()},Gp=Dl.ErrorCode=xh,Kp=Dl.EventType=_h,Wp=Dl.Event=dh,Hp=Dl.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Qp=Dl.FetchXmlHttpFactory=Pd,Yp=Dl.WebChannel=Th,Xp=Dl.XhrIo=Fd,Jp=Dl.Md5=_p,$p=Dl.Integer=Ep,Zp="@firebase/firestore",ev=function(){function e(t){w(this,e),this.uid=t}return E(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();ev.UNAUTHENTICATED=new ev(null),ev.GOOGLE_CREDENTIALS=new ev("google-credentials-uid"),ev.FIRST_PARTY=new ev("first-party-uid"),ev.MOCK_USER=new ev("mock-user");var tv="9.23.0",nv=new Mt("@firebase/firestore");function rv(){return nv.logLevel}function iv(e){if(nv.logLevel<=At.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(sv);nv.debug.apply(nv,["Firestore (".concat(tv,"): ").concat(e)].concat(b(i)))}}function av(e){if(nv.logLevel<=At.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(sv);nv.error.apply(nv,["Firestore (".concat(tv,"): ").concat(e)].concat(b(i)))}}function ov(e){if(nv.logLevel<=At.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(sv);nv.warn.apply(nv,["Firestore (".concat(tv,"): ").concat(e)].concat(b(i)))}}function sv(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function uv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(tv,") INTERNAL ASSERTION FAILED: ")+e;throw av(t),new Error(t)}function cv(e,t){e||uv()}function lv(e,t){return e}var fv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},hv=function(e){S(n,e);var t=P(n);function n(e,r){var i;return w(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return E(n)}(ct),dv=E((function e(){var t=this;w(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),pv=E((function e(t,n){w(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),vv=function(){function e(){w(this,e)}return E(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ev.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),mv=function(){function e(t){w(this,e),this.token=t,this.changeListener=null}return E(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),gv=function(){function e(t){w(this,e),this.t=t,this.currentUser=ev.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return E(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new dv;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new dv,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Et(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){iv("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(iv("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new dv)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(iv("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(cv("string"==typeof n.accessToken),new pv(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return cv(null===e||"string"==typeof e),new ev(e)}}]),e}(),yv=function(){function e(t,n,r){w(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=ev.FIRST_PARTY,this.g=new Map}return E(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),kv=function(){function e(t,n,r){w(this,e),this.h=t,this.l=n,this.m=r}return E(e,[{key:"getToken",value:function(){return Promise.resolve(new yv(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ev.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),bv=E((function e(t){w(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),wv=function(){function e(t){w(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return E(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&iv("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,iv("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){iv("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):iv("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(cv("string"==typeof t.token),e.T=t.token,new bv(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function xv(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var _v=function(){function e(){w(this,e)}return E(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=xv(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function Iv(e,t){return e<t?-1:e>t?1:0}function Ev(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Tv(e){return e+"\0"}var Sv=function(){function e(t,n){if(w(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new hv(fv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new hv(fv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new hv(fv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new hv(fv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return E(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Iv(this.nanoseconds,e.nanoseconds):Iv(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Nv=function(){function e(t){w(this,e),this.timestamp=t}return E(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Sv(0,0))}},{key:"max",value:function(){return new e(new Sv(253402300799,999999999))}}]),e}(),Cv=function(){function e(t,n,r){w(this,e),void 0===n?n=0:n>t.length&&uv(),void 0===r?r=t.length-n:r>t.length-n&&uv(),this.segments=t,this.offset=n,this.len=r}return E(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Av=function(e){S(n,e);var t=P(n);function n(){return w(this,n),t.apply(this,arguments)}return E(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new hv(fv.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,b(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Cv),Pv=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Dv=function(e){S(n,e);var t=P(n);function n(){return w(this,n),t.apply(this,arguments)}return E(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Pv.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new hv(fv.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new hv(fv.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new hv(fv.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new hv(fv.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Cv),Rv=function(){function e(t){w(this,e),this.path=t}return E(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Av.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Av.fromString(t))}},{key:"fromName",value:function(t){return new e(Av.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Av.emptyPath())}},{key:"comparator",value:function(e,t){return Av.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Av(t.slice()))}}]),e}(),jv=E((function e(t,n,r,i){w(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Ov(e){return e.fields.find((function(e){return 2===e.kind}))}function Lv(e){return e.fields.filter((function(e){return 2!==e.kind}))}jv.UNKNOWN_ID=-1;var Mv=E((function e(t,n){w(this,e),this.fieldPath=t,this.kind=n}));var Fv=function(){function e(t,n){w(this,e),this.sequenceNumber=t,this.offset=n}return E(e,null,[{key:"empty",value:function(){return new e(0,Vv.min())}}]),e}();function Bv(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Nv.fromTimestamp(1e9===r?new Sv(n+1,0):new Sv(n,r));return new Vv(i,Rv.empty(),t)}function Uv(e){return new Vv(e.readTime,e.key,-1)}var Vv=function(){function e(t,n,r){w(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return E(e,null,[{key:"min",value:function(){return new e(Nv.min(),Rv.empty(),-1)}},{key:"max",value:function(){return new e(Nv.max(),Rv.empty(),-1)}}]),e}();function zv(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Rv.comparator(e.documentKey,t.documentKey))?n:Iv(e.largestBatchId,t.largestBatchId)}var qv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Gv=function(){function e(){w(this,e),this.onCommittedListeners=[]}return E(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Kv(e){return Wv.apply(this,arguments)}function Wv(){return(Wv=Et(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===fv.FAILED_PRECONDITION&&t.message===qv){e.next=2;break}throw t;case 2:iv("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Hv=function(){function e(t){var n=this;w(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return E(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&uv(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=f(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Qv=function(){function e(t,n){var r=this;w(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.v=new dv,this.transaction.oncomplete=function(){r.v.resolve()},this.transaction.onabort=function(){n.error?r.v.reject(new Jv(t,n.error)):r.v.resolve()},this.transaction.onerror=function(e){var n=nm(e.target.error);r.v.reject(new Jv(t,n))}}return E(e,[{key:"R",get:function(){return this.v.promise}},{key:"abort",value:function(e){e&&this.v.reject(e),this.aborted||(iv("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"P",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Zv(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Jv(n,t)}}}]),e}(),Yv=function(){function e(t,n,r){w(this,e),this.name=t,this.version=n,this.V=r,12.2===e.S(rt())&&av("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return E(e,[{key:"$",value:function(){var e=Et(_t().mark((function e(t){var n=this;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return iv("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Jv(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new hv(fv.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new hv(fv.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Jv(t,n))},i.onupgradeneeded=function(e){iv("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.V.O(t,i.transaction,e.oldVersion,n.version).next((function(){iv("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.F&&(this.db.onversionchange=function(e){return n.F(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"B",value:function(e){this.F=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Et(_t().mark((function e(t,n,r,i){var a,o,s,u,c=this;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,s=_t().mark((function e(){var n,s,u,l;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.$(t);case 4:return c.db=e.sent,n=Qv.open(c.db,t,a?"readonly":"readwrite",r),s=i(n).next((function(e){return n.P(),e})).catch((function(e){return n.abort(e),Hv.reject(e)})).toPromise(),s.catch((function(){})),e.next=9,n.R;case 9:return e.t0=s,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),u=e.t1,l="FirebaseError"!==u.name&&o<3,iv("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(u)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(s(),"t0",4);case 4:if("object"!==typeof(u=e.t0)){e.next=7;break}return e.abrupt("return",u.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return iv("SimpleDb","Removing database:",e),em(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!ut())return!1;if(e.C())return!0;var t=rt(),n=e.S(t),r=0<n&&n<10,i=e.N(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"N",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Xv=function(){function e(t){w(this,e),this.L=t,this.q=!1,this.U=null}return E(e,[{key:"isDone",get:function(){return this.q}},{key:"K",get:function(){return this.U}},{key:"cursor",set:function(e){this.L=e}},{key:"done",value:function(){this.q=!0}},{key:"G",value:function(e){this.U=e}},{key:"delete",value:function(){return em(this.L.delete())}}]),e}(),Jv=function(e){S(n,e);var t=P(n);function n(e,r){var i;return w(this,n),(i=t.call(this,fv.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return E(n)}(hv);function $v(e){return"IndexedDbTransactionError"===e.name}var Zv=function(){function e(t){w(this,e),this.store=t}return E(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(iv("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(iv("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),em(n)}},{key:"add",value:function(e){return iv("SimpleDb","ADD",this.store.name,e,e),em(this.store.add(e))}},{key:"get",value:function(e){var t=this;return em(this.store.get(e)).next((function(n){return void 0===n&&(n=null),iv("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return iv("SimpleDb","DELETE",this.store.name,e),em(this.store.delete(e))}},{key:"count",value:function(){return iv("SimpleDb","COUNT",this.store.name),em(this.store.count())}},{key:"j",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.W(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Hv((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Hv((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){iv("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.W(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.W(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new Hv((function(n,r){t.onerror=function(e){var t=nm(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"W",value:function(e,t){var n=[];return new Hv((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Xv(i),o=t(i.primaryKey,i.value,a);if(o instanceof Hv){var s=o.catch((function(e){return a.done(),Hv.reject(e)}));n.push(s)}a.isDone?r():null===a.K?i.continue():i.continue(a.K)}else r()}})).next((function(){return Hv.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function em(e){return new Hv((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=nm(e.target.error);n(t)}}))}var tm=!1;function nm(e){var t=Yv.S(rt());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new hv("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return tm||(tm=!0,setTimeout((function(){throw r}),0)),r}}return e}var rm=function(){function e(t,n){w(this,e),this.asyncQueue=t,this.tt=n,this.task=null}return E(e,[{key:"start",value:function(){this.et(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"et",value:function(e){var t=this;iv("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Et(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=iv,e.t1="Documents written: ",e.next=6,t.tt.nt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!$v(e.t4)){e.next=17;break}iv("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Kv(e.t4);case 19:return e.next=21,t.et(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),im=function(){function e(t,n){w(this,e),this.localStore=t,this.persistence=n}return E(e,[{key:"nt",value:function(){var e=Et(_t().mark((function e(){var t,n=this,r=arguments;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.st(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"st",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Hv.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return iv("IndexBackiller","Processing collection: ".concat(t)),n.it(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"it",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.rt(i,n)})).next((function(n){return iv("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"rt",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Uv(t);zv(r,n)>0&&(n=r)})),new Vv(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),am=function(){function e(t,n){var r=this;w(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return E(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function om(e){return null==e}function sm(e){return 0===e&&1/e==-1/0}function um(e){return"number"==typeof e&&Number.isInteger(e)&&!sm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function cm(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=fm(t)),t=lm(e.get(n),t);return fm(t)}function lm(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function fm(e){return e+"\x01\x01"}function hm(e){var t=e.length;if(cv(t>=2),2===t)return cv("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Av.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&uv(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:uv()}a=o+2}return new Av(r)}am.ct=-1;var dm=["userId","batchId"];function pm(e,t){return[e,cm(t)]}function vm(e,t,n){return[e,cm(t),n]}var mm={},gm=["prefixPath","collectionGroup","readTime","documentId"],ym=["prefixPath","collectionGroup","documentId"],km=["collectionGroup","readTime","prefixPath","documentId"],bm=["canonicalId","targetId"],wm=["targetId","path"],xm=["path","targetId"],_m=["collectionId","parent"],Im=["indexId","uid"],Em=["uid","sequenceNumber"],Tm=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Sm=["indexId","uid","orderedDocumentKey"],Nm=["userId","collectionPath","documentId"],Cm=["userId","collectionPath","largestBatchId"],Am=["userId","collectionGroup","largestBatchId"],Pm=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Dm=[].concat(b(Pm),["documentOverlays"]),Rm=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],jm=Rm,Om=[].concat(jm,["indexConfiguration","indexState","indexEntries"]),Lm=function(e){S(n,e);var t=P(n);function n(e,r){var i;return w(this,n),(i=t.call(this)).ht=e,i.currentSequenceNumber=r,i}return E(n)}(Gv);function Mm(e,t){var n=lv(e);return Yv.M(n.ht,t)}function Fm(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Bm(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Um(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Vm=function(){function e(t,n){w(this,e),this.comparator=t,this.root=n||qm.EMPTY}return E(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,qm.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qm.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new zm(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new zm(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new zm(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new zm(this.root,e,this.comparator,!0)}}]),e}(),zm=function(){function e(t,n,r,i){w(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return E(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),qm=function(){function e(t,n,r,i,a){w(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return E(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw uv();if(this.right.isRed())throw uv();var e=this.left.check();if(e!==this.right.check())throw uv();return e+(this.isRed()?0:1)}}]),e}();qm.EMPTY=null,qm.RED=!0,qm.BLACK=!1,qm.EMPTY=new(function(){function e(){w(this,e),this.size=0}return E(e,[{key:"key",get:function(){throw uv()}},{key:"value",get:function(){throw uv()}},{key:"color",get:function(){throw uv()}},{key:"left",get:function(){throw uv()}},{key:"right",get:function(){throw uv()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new qm(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Gm=function(){function e(t){w(this,e),this.comparator=t,this.data=new Vm(this.comparator)}return E(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Km(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Km(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Km=function(){function e(t){w(this,e),this.iter=t}return E(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Wm(e){return e.hasNext()?e.getNext():void 0}var Hm=function(){function e(t){w(this,e),this.fields=t,t.sort(Dv.comparator)}return E(e,[{key:"unionWith",value:function(t){var n,r=new Gm(Dv.comparator),i=f(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=f(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=f(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Ev(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Qm=function(e){S(n,e);var t=P(n);function n(){var e;return w(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return E(n)}(R(Error));var Ym=function(e){function t(e){w(this,t),this.binaryString=e}return E(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Iv(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Qm("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Ym.EMPTY_BYTE_STRING=new Ym("");var Xm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jm(e){if(cv(!!e),"string"==typeof e){var t=0,n=Xm.exec(e);if(cv(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:$m(e.seconds),nanos:$m(e.nanos)}}function $m(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Zm(e){return"string"==typeof e?Ym.fromBase64String(e):Ym.fromUint8Array(e)}function eg(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function tg(e){var t=e.mapValue.fields.__previous_value__;return eg(t)?tg(t):t}function ng(e){var t=Jm(e.mapValue.fields.__local_write_time__.timestampValue);return new Sv(t.seconds,t.nanos)}var rg=E((function e(t,n,r,i,a,o,s,u,c){w(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=c})),ig=function(){function e(t,n){w(this,e),this.projectId=t,this.database=n||"(default)"}return E(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),ag={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},og={nullValue:"NULL_VALUE"};function sg(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?eg(e)?4:wg(e)?9007199254740991:10:uv()}function ug(e,t){if(e===t)return!0;var n=sg(e);if(n!==sg(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ng(e).isEqual(ng(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Jm(e.timestampValue),r=Jm(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Zm(e.bytesValue).isEqual(Zm(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return $m(e.geoPointValue.latitude)===$m(t.geoPointValue.latitude)&&$m(e.geoPointValue.longitude)===$m(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return $m(e.integerValue)===$m(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=$m(e.doubleValue),r=$m(t.doubleValue);return n===r?sm(n)===sm(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ev(e.arrayValue.values||[],t.arrayValue.values||[],ug);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Fm(n)!==Fm(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ug(n[i],r[i])))return!1;return!0}(e,t);default:return uv()}}function cg(e,t){return void 0!==(e.values||[]).find((function(e){return ug(e,t)}))}function lg(e,t){if(e===t)return 0;var n=sg(e),r=sg(t);if(n!==r)return Iv(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Iv(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=$m(e.integerValue||e.doubleValue),r=$m(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return fg(e.timestampValue,t.timestampValue);case 4:return fg(ng(e),ng(t));case 5:return Iv(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Zm(e),r=Zm(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Iv(n[i],r[i]);if(0!==a)return a}return Iv(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Iv($m(e.latitude),$m(t.latitude));return 0!==n?n:Iv($m(e.longitude),$m(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=lg(n[i],r[i]);if(a)return a}return Iv(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===ag.mapValue&&t===ag.mapValue)return 0;if(e===ag.mapValue)return 1;if(t===ag.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Iv(r[o],a[o]);if(0!==s)return s;var u=lg(n[r[o]],i[a[o]]);if(0!==u)return u}return Iv(r.length,a.length)}(e.mapValue,t.mapValue);default:throw uv()}}function fg(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Iv(e,t);var n=Jm(e),r=Jm(t),i=Iv(n.seconds,r.seconds);return 0!==i?i:Iv(n.nanos,r.nanos)}function hg(e){return dg(e)}function dg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Jm(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Zm(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Rv.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=f(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=dg(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=f(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(dg(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):uv();var t,n}function pg(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function vg(e){return!!e&&"integerValue"in e}function mg(e){return!!e&&"arrayValue"in e}function gg(e){return!!e&&"nullValue"in e}function yg(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function kg(e){return!!e&&"mapValue"in e}function bg(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Bm(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=bg(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=bg(e.arrayValue.values[r]);return n}return Object.assign({},e)}function wg(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function xg(e){return"nullValue"in e?og:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?pg(ig.empty(),Rv.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:uv()}function _g(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?pg(ig.empty(),Rv.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?ag:uv()}function Ig(e,t){var n=lg(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Eg(e,t){var n=lg(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Tg=function(){function e(t){w(this,e),this.value=t}return E(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!kg(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bg(t)}},{key:"setAll",value:function(e){var t=this,n=Dv.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=bg(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());kg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return ug(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];kg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Bm(t,(function(t,n){return e[t]=n}));var r,i=f(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(bg(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Sg(e){var t=[];return Bm(e.fields,(function(e,n){var r=new Dv([e]);if(kg(n)){var i=Sg(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=f(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Hm(t)}var Ng=function(){function e(t,n,r,i,a,o,s){w(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return E(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Nv.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Tg.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Tg.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Nv.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Nv.min(),Nv.min(),Nv.min(),Tg.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Nv.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Nv.min(),Nv.min(),Tg.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Nv.min(),Nv.min(),Tg.empty(),2)}}]),e}(),Cg=E((function e(t,n){w(this,e),this.position=t,this.inclusive=n}));function Ag(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Rv.comparator(Rv.fromName(o.referenceValue),n.key):lg(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Pg(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ug(e.position[n],t.position[n]))return!1;return!0}var Dg=E((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";w(this,e),this.field=t,this.dir=n}));function Rg(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var jg=E((function e(){w(this,e)})),Og=function(e){S(n,e);var t=P(n);function n(e,r,i){var a;return w(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return E(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(lg(t,this.value)):null!==t&&sg(this.value)===sg(t)&&this.matchesComparison(lg(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return uv()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Kg(e,t,r):"array-contains"===t?new Yg(e,r):"in"===t?new Xg(e,r):"not-in"===t?new Jg(e,r):"array-contains-any"===t?new $g(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Wg(e,n):new Hg(e,n)}}]),n}(jg),Lg=function(e){S(n,e);var t=P(n);function n(e,r){var i;return w(this,n),(i=t.call(this)).filters=e,i.op=r,i.lt=null,i}return E(n,[{key:"matches",value:function(e){return Mg(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.lt||(this.lt=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.lt}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.ft((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"ft",value:function(e){var t,n=f(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(jg);function Mg(e){return"and"===e.op}function Fg(e){return"or"===e.op}function Bg(e){return Ug(e)&&Mg(e)}function Ug(e){var t,n=f(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Lg)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Vg(e){if(e instanceof Og)return e.field.canonicalString()+e.op.toString()+hg(e.value);if(Bg(e))return e.filters.map((function(e){return Vg(e)})).join(",");var t=e.filters.map((function(e){return Vg(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function zg(e,t){return e instanceof Og?function(e,t){return t instanceof Og&&e.op===t.op&&e.field.isEqual(t.field)&&ug(e.value,t.value)}(e,t):e instanceof Lg?function(e,t){return t instanceof Lg&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&zg(n,t.filters[r])}),!0)}(e,t):void uv()}function qg(e,t){var n=e.filters.concat(t);return Lg.create(n,e.op)}function Gg(e){return e instanceof Og?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(hg(e.value))}(e):e instanceof Lg?function(e){return e.op.toString()+" {"+e.getFilters().map(Gg).join(" ,")+"}"}(e):"Filter"}var Kg=function(e){S(n,e);var t=P(n);function n(e,r,i){var a;return w(this,n),(a=t.call(this,e,r,i)).key=Rv.fromName(i.referenceValue),a}return E(n,[{key:"matches",value:function(e){var t=Rv.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Og),Wg=function(e){S(n,e);var t=P(n);function n(e,r){var i;return w(this,n),(i=t.call(this,e,"in",r)).keys=Qg("in",r),i}return E(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Og),Hg=function(e){S(n,e);var t=P(n);function n(e,r){var i;return w(this,n),(i=t.call(this,e,"not-in",r)).keys=Qg("not-in",r),i}return E(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Og);function Qg(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Rv.fromName(e.referenceValue)}))}var Yg=function(e){S(n,e);var t=P(n);function n(e,r){return w(this,n),t.call(this,e,"array-contains",r)}return E(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return mg(t)&&cg(t.arrayValue,this.value)}}]),n}(Og),Xg=function(e){S(n,e);var t=P(n);function n(e,r){return w(this,n),t.call(this,e,"in",r)}return E(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&cg(this.value.arrayValue,t)}}]),n}(Og),Jg=function(e){S(n,e);var t=P(n);function n(e,r){return w(this,n),t.call(this,e,"not-in",r)}return E(n,[{key:"matches",value:function(e){if(cg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!cg(this.value.arrayValue,t)}}]),n}(Og),$g=function(e){S(n,e);var t=P(n);function n(e,r){return w(this,n),t.call(this,e,"array-contains-any",r)}return E(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!mg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return cg(t.value.arrayValue,e)}))}}]),n}(Og),Zg=E((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;w(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.dt=null}));function ey(e){return new Zg(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function ty(e){var t=lv(e);if(null===t.dt){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Vg(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),om(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return hg(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return hg(e)})).join(",")),t.dt=n}return t.dt}function ny(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Rg(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!zg(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Pg(e.startAt,t.startAt)&&Pg(e.endAt,t.endAt)}function ry(e){return Rv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function iy(e,t){return e.filters.filter((function(e){return e instanceof Og&&e.field.isEqual(t)}))}function ay(e,t,n){var r,i=og,a=!0,o=f(iy(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=og,c=!0;switch(s.op){case"<":case"<=":u=xg(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=og}Ig({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var h=n.position[l];Ig({value:i,inclusive:a},{value:h,inclusive:n.inclusive})<0&&(i=h,a=n.inclusive);break}return{value:i,inclusive:a}}function oy(e,t,n){var r,i=ag,a=!0,o=f(iy(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=ag,c=!0;switch(s.op){case">=":case">":u=_g(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=ag}Eg({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var h=n.position[l];Eg({value:i,inclusive:a},{value:h,inclusive:n.inclusive})>0&&(i=h,a=n.inclusive);break}return{value:i,inclusive:a}}var sy=E((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;w(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.wt=null,this._t=null,this.startAt,this.endAt}));function uy(e,t,n,r,i,a,o,s){return new sy(e,t,n,r,i,a,o,s)}function cy(e){return new sy(e)}function ly(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function fy(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function hy(e){var t,n=f(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function dy(e){return null!==e.collectionGroup}function py(e){var t=lv(e);if(null===t.wt){t.wt=[];var n=hy(t),r=fy(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new Dg(n)),t.wt.push(new Dg(Dv.keyField(),"asc"));else{var i,a=!1,o=f(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.wt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Dg(Dv.keyField(),u))}}}return t.wt}function vy(e){var t=lv(e);if(!t._t)if("F"===t.limitType)t._t=ey(t.path,t.collectionGroup,py(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=f(py(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Dg(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new Cg(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new Cg(t.startAt.position,t.startAt.inclusive):null;t._t=ey(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t._t}function my(e,t){t.getFirstInequalityField(),hy(e);var n=e.filters.concat([t]);return new sy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function gy(e,t,n){return new sy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function yy(e,t){return ny(vy(e),vy(t))&&e.limitType===t.limitType}function ky(e){return"".concat(ty(vy(e)),"|lt:").concat(e.limitType)}function by(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Gg(e)})).join(", "),"]")),om(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return hg(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return hg(e)})).join(",")),"Target(".concat(t,")")}(vy(e)),"; limitType=").concat(e.limitType,")")}function wy(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Rv.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=f(py(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=f(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Ag(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,py(e),t))&&!(e.endAt&&!function(e,t,n){var r=Ag(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,py(e),t))}(e,t)}function xy(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function _y(e){return function(t,n){var r,i=!1,a=f(py(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Iy(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Iy(e,t,n){var r=e.field.isKeyField()?Rv.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?lg(r,i):uv()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return uv()}}var Ey=function(){function e(t,n){w(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return E(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=f(n);try{for(i.s();!(r=i.n()).done;){var a=L(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Bm(this.inner,(function(t,n){var r,i=f(n);try{for(i.s();!(r=i.n()).done;){var a=L(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Um(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Ty=new Vm(Rv.comparator);function Sy(){return Ty}var Ny=new Vm(Rv.comparator);function Cy(){for(var e=Ny,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Ay(e){var t=Ny;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Py(){return Ry()}function Dy(){return Ry()}function Ry(){return new Ey((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var jy=new Vm(Rv.comparator),Oy=new Gm(Rv.comparator);function Ly(){for(var e=Oy,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var My=new Gm(Iv);function Fy(){return My}function By(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sm(t)?"-0":t}}function Uy(e){return{integerValue:""+e}}function Vy(e,t){return um(t)?Uy(t):By(e,t)}var zy=E((function e(){w(this,e),this._=void 0}));function qy(e,t,n){return e instanceof Wy?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&eg(t)&&(t=tg(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Hy?Qy(e,t):e instanceof Yy?Xy(e,t):function(e,t){var n=Ky(e,t),r=$y(n)+$y(e.gt);return vg(n)&&vg(e.gt)?Uy(r):By(e.serializer,r)}(e,t)}function Gy(e,t,n){return e instanceof Hy?Qy(e,t):e instanceof Yy?Xy(e,t):n}function Ky(e,t){return e instanceof Jy?vg(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Wy=function(e){S(n,e);var t=P(n);function n(){return w(this,n),t.apply(this,arguments)}return E(n)}(zy),Hy=function(e){S(n,e);var t=P(n);function n(e){var r;return w(this,n),(r=t.call(this)).elements=e,r}return E(n)}(zy);function Qy(e,t){var n,r=Zy(t),i=f(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return ug(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Yy=function(e){S(n,e);var t=P(n);function n(e){var r;return w(this,n),(r=t.call(this)).elements=e,r}return E(n)}(zy);function Xy(e,t){var n,r=Zy(t),i=f(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!ug(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Jy=function(e){S(n,e);var t=P(n);function n(e,r){var i;return w(this,n),(i=t.call(this)).serializer=e,i.gt=r,i}return E(n)}(zy);function $y(e){return $m(e.integerValue||e.doubleValue)}function Zy(e){return mg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var ek=E((function e(t,n){w(this,e),this.field=t,this.transform=n}));var tk=E((function e(t,n){w(this,e),this.version=t,this.transformResults=n})),nk=function(){function e(t,n){w(this,e),this.updateTime=t,this.exists=n}return E(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function rk(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ik=E((function e(){w(this,e)}));function ak(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new gk(e.key,nk.none()):new lk(e.key,e.data,nk.none());var n,r=e.data,i=Tg.empty(),a=new Gm(Dv.comparator),o=f(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new fk(e.key,i,new Hm(a.toArray()),nk.none())}function ok(e,t,n){e instanceof lk?function(e,t,n){var r=e.value.clone(),i=dk(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof fk?function(e,t,n){if(rk(e.precondition,t)){var r=dk(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(hk(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function sk(e,t,n,r){return e instanceof lk?function(e,t,n,r){if(!rk(e.precondition,t))return n;var i=e.value.clone(),a=pk(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof fk?function(e,t,n,r){if(!rk(e.precondition,t))return n;var i=pk(e.fieldTransforms,r,t),a=t.data;return a.setAll(hk(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return rk(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function uk(e,t){var n,r=null,i=f(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Ky(a.transform,o||null);null!=s&&(null===r&&(r=Tg.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function ck(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ev(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Hy&&t instanceof Hy||e instanceof Yy&&t instanceof Yy?Ev(e.elements,t.elements,ug):e instanceof Jy&&t instanceof Jy?ug(e.gt,t.gt):e instanceof Wy&&t instanceof Wy}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var lk=function(e){S(n,e);var t=P(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return w(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return E(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ik),fk=function(e){S(n,e);var t=P(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return w(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return E(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(ik);function hk(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function dk(e,t,n){var r=new Map;cv(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Gy(o,s,n[i]))}return r}function pk(e,t,n){var r,i=new Map,a=f(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,qy(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var vk,mk,gk=function(e){S(n,e);var t=P(n);function n(e,r){var i;return w(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return E(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ik),yk=function(e){S(n,e);var t=P(n);function n(e,r){var i;return w(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return E(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ik),kk=function(){function e(t,n,r,i){w(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return E(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&ok(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=f(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=sk(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=f(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=sk(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Dy();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=ak(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Nv.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ly())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Ev(this.mutations,e.mutations,(function(e,t){return ck(e,t)}))&&Ev(this.baseMutations,e.baseMutations,(function(e,t){return ck(e,t)}))}}]),e}(),bk=function(){function e(t,n,r,i){w(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return E(e,null,[{key:"from",value:function(t,n,r){cv(t.mutations.length===r.length);for(var i=jy,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),wk=function(){function e(t,n){w(this,e),this.largestBatchId=t,this.mutation=n}return E(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),xk=E((function e(t,n){w(this,e),this.count=t,this.unchangedNames=n}));function _k(e){switch(e){default:return uv();case fv.CANCELLED:case fv.UNKNOWN:case fv.DEADLINE_EXCEEDED:case fv.RESOURCE_EXHAUSTED:case fv.INTERNAL:case fv.UNAVAILABLE:case fv.UNAUTHENTICATED:return!1;case fv.INVALID_ARGUMENT:case fv.NOT_FOUND:case fv.ALREADY_EXISTS:case fv.PERMISSION_DENIED:case fv.FAILED_PRECONDITION:case fv.ABORTED:case fv.OUT_OF_RANGE:case fv.UNIMPLEMENTED:case fv.DATA_LOSS:return!0}}function Ik(e){if(void 0===e)return av("GRPC error has no .code"),fv.UNKNOWN;switch(e){case vk.OK:return fv.OK;case vk.CANCELLED:return fv.CANCELLED;case vk.UNKNOWN:return fv.UNKNOWN;case vk.DEADLINE_EXCEEDED:return fv.DEADLINE_EXCEEDED;case vk.RESOURCE_EXHAUSTED:return fv.RESOURCE_EXHAUSTED;case vk.INTERNAL:return fv.INTERNAL;case vk.UNAVAILABLE:return fv.UNAVAILABLE;case vk.UNAUTHENTICATED:return fv.UNAUTHENTICATED;case vk.INVALID_ARGUMENT:return fv.INVALID_ARGUMENT;case vk.NOT_FOUND:return fv.NOT_FOUND;case vk.ALREADY_EXISTS:return fv.ALREADY_EXISTS;case vk.PERMISSION_DENIED:return fv.PERMISSION_DENIED;case vk.FAILED_PRECONDITION:return fv.FAILED_PRECONDITION;case vk.ABORTED:return fv.ABORTED;case vk.OUT_OF_RANGE:return fv.OUT_OF_RANGE;case vk.UNIMPLEMENTED:return fv.UNIMPLEMENTED;case vk.DATA_LOSS:return fv.DATA_LOSS;default:return uv()}}(mk=vk||(vk={}))[mk.OK=0]="OK",mk[mk.CANCELLED=1]="CANCELLED",mk[mk.UNKNOWN=2]="UNKNOWN",mk[mk.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mk[mk.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mk[mk.NOT_FOUND=5]="NOT_FOUND",mk[mk.ALREADY_EXISTS=6]="ALREADY_EXISTS",mk[mk.PERMISSION_DENIED=7]="PERMISSION_DENIED",mk[mk.UNAUTHENTICATED=16]="UNAUTHENTICATED",mk[mk.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mk[mk.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mk[mk.ABORTED=10]="ABORTED",mk[mk.OUT_OF_RANGE=11]="OUT_OF_RANGE",mk[mk.UNIMPLEMENTED=12]="UNIMPLEMENTED",mk[mk.INTERNAL=13]="INTERNAL",mk[mk.UNAVAILABLE=14]="UNAVAILABLE",mk[mk.DATA_LOSS=15]="DATA_LOSS";var Ek=function(){function e(){w(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return E(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return Tk}},{key:"getOrCreateInstance",value:function(){return null===Tk&&(Tk=new e),Tk}}]),e}(),Tk=null;function Sk(){return new TextEncoder}var Nk=new $p([4294967295,4294967295],0);function Ck(e){var t=Sk().encode(e),n=new Jp;return n.update(t),new Uint8Array(n.digest())}function Ak(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new $p([n,r],0),new $p([i,a],0)]}var Pk=function(){function e(t,n,r){if(w(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Dk("Invalid padding: ".concat(n));if(r<0)throw new Dk("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new Dk("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new Dk("Invalid padding when bitmap length is 0: ".concat(n));this.It=8*t.length-n,this.Tt=$p.fromNumber(this.It)}return E(e,[{key:"Et",value:function(e,t,n){var r=e.add(t.multiply($p.fromNumber(n)));return 1===r.compare(Nk)&&(r=new $p([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}},{key:"At",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"vt",value:function(e){if(0===this.It)return!1;for(var t=L(Ak(Ck(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);if(!this.At(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.It)for(var t=L(Ak(Ck(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);this.Rt(a)}}},{key:"Rt",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),Dk=function(e){S(n,e);var t=P(n);function n(){var e;return w(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return E(n)}(R(Error)),Rk=function(){function e(t,n,r,i,a){w(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return E(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,jk.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Nv.min(),i,new Vm(Iv),Sy(),Ly())}}]),e}(),jk=function(){function e(t,n,r,i,a){w(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return E(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Ly(),Ly(),Ly())}}]),e}(),Ok=E((function e(t,n,r,i){w(this,e),this.Pt=t,this.removedTargetIds=n,this.key=r,this.bt=i})),Lk=E((function e(t,n){w(this,e),this.targetId=t,this.Vt=n})),Mk=E((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ym.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;w(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Fk=function(){function e(){w(this,e),this.St=0,this.Dt=Vk(),this.Ct=Ym.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}return E(e,[{key:"current",get:function(){return this.xt}},{key:"resumeToken",get:function(){return this.Ct}},{key:"kt",get:function(){return 0!==this.St}},{key:"Mt",get:function(){return this.Nt}},{key:"$t",value:function(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}},{key:"Ot",value:function(){var e=Ly(),t=Ly(),n=Ly();return this.Dt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:uv()}})),new jk(this.Ct,this.xt,e,t,n)}},{key:"Ft",value:function(){this.Nt=!1,this.Dt=Vk()}},{key:"Bt",value:function(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}},{key:"Lt",value:function(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}},{key:"qt",value:function(){this.St+=1}},{key:"Ut",value:function(){this.St-=1}},{key:"Kt",value:function(){this.Nt=!0,this.xt=!0}}]),e}(),Bk=function(){function e(t){w(this,e),this.Gt=t,this.Qt=new Map,this.jt=Sy(),this.zt=Uk(),this.Wt=new Vm(Iv)}return E(e,[{key:"Ht",value:function(e){var t,n=f(e.Pt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.bt&&e.bt.isFoundDocument()?this.Jt(r,e.bt):this.Yt(r,e.key,e.bt)}}catch(s){n.e(s)}finally{n.f()}var i,a=f(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Yt(o,e.key,e.bt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Xt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Zt(n);switch(e.state){case 0:t.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||t.removeTarget(n);break;case 3:t.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:t.te(n)&&(t.ee(n),r.$t(e.resumeToken));break;default:uv()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((function(e,r){n.te(r)&&t(r)}))}},{key:"ne",value:function(e){var t,n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){var a=i.target;if(ry(a))if(0===r){var o=new Rv(a.path);this.Yt(n,o,Ng.newNoDocument(o,Nv.min()))}else cv(1===r);else{var s=this.ie(n);if(s!==r){var u=this.re(e,s);if(0!==u){this.ee(n);var c=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,c)}null===(t=Ek.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,a,o,s,u,c={localCacheCount:t,existenceFilterCount:n.count},l=n.unchangedNames;return l&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==l?void 0:l.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(a=null===(i=null==l?void 0:l.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(u=null===(s=null==l?void 0:l.bits)||void 0===s?void 0:s.padding)&&void 0!==u?u:0}),c}(u,s,e.Vt))}}}}},{key:"re",value:function(e,t){var n=e.Vt,r=n.unchangedNames,i=n.count;if(!r||!r.bits)return 1;var a,o,s=r.bits,u=s.bitmap,c=void 0===u?"":u,l=s.padding,f=void 0===l?0:l,h=r.hashCount,d=void 0===h?0:h;try{a=Zm(c).toUint8Array()}catch(e){if(e instanceof Qm)return ov("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{o=new Pk(a,f,d)}catch(e){return ov(e instanceof Dk?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===o.It?1:i!==t-this.oe(e.targetId,o)?2:0}},{key:"oe",value:function(e,t){var n=this,r=this.Gt.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){var a=n.Gt.ue(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());t.vt(o)||(n.Yt(e,r,null),i++)})),i}},{key:"ce",value:function(e){var t=this,n=new Map;this.Qt.forEach((function(r,i){var a=t.se(i);if(a){if(r.current&&ry(a.target)){var o=new Rv(a.target.path);null!==t.jt.get(o)||t.ae(i,o)||t.Yt(i,o,Ng.newNoDocument(o,e))}r.Mt&&(n.set(i,r.Ot()),r.Ft())}}));var r=Ly();this.zt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.se(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.jt.forEach((function(t,n){return n.setReadTime(e)}));var i=new Rk(e,n,this.Wt,this.jt,r);return this.jt=Sy(),this.zt=Uk(),this.Wt=new Vm(Iv),i}},{key:"Jt",value:function(e,t){if(this.te(e)){var n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}}},{key:"Yt",value:function(e,t,n){if(this.te(e)){var r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Qt.delete(e)}},{key:"ie",value:function(e){var t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"qt",value:function(e){this.Zt(e).qt()}},{key:"Zt",value:function(e){var t=this.Qt.get(e);return t||(t=new Fk,this.Qt.set(e,t)),t}},{key:"he",value:function(e){var t=this.zt.get(e);return t||(t=new Gm(Iv),this.zt=this.zt.insert(e,t)),t}},{key:"te",value:function(e){var t=null!==this.se(e);return t||iv("WatchChangeAggregator","Detected inactive target",e),t}},{key:"se",value:function(e){var t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}},{key:"ee",value:function(e){var t=this;this.Qt.set(e,new Fk),this.Gt.getRemoteKeysForTarget(e).forEach((function(n){t.Yt(e,n,null)}))}},{key:"ae",value:function(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Uk(){return new Vm(Rv.comparator)}function Vk(){return new Vm(Rv.comparator)}var zk={asc:"ASCENDING",desc:"DESCENDING"},qk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gk={and:"AND",or:"OR"},Kk=E((function e(t,n){w(this,e),this.databaseId=t,this.useProto3Json=n}));function Wk(e,t){return e.useProto3Json||om(t)?t:{value:t}}function Hk(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Qk(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Yk(e,t){return Hk(e,t.toTimestamp())}function Xk(e){return cv(!!e),Nv.fromTimestamp(function(e){var t=Jm(e);return new Sv(t.seconds,t.nanos)}(e))}function Jk(e,t){return function(e){return new Av(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function $k(e){var t=Av.fromString(e);return cv(wb(t)),t}function Zk(e,t){return Jk(e.databaseId,t.path)}function eb(e,t){var n=$k(t);if(n.get(1)!==e.databaseId.projectId)throw new hv(fv.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new hv(fv.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Rv(ib(n))}function tb(e,t){return Jk(e.databaseId,t)}function nb(e){var t=$k(e);return 4===t.length?Av.emptyPath():ib(t)}function rb(e){return new Av(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ib(e){return cv(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ab(e,t,n){return{name:Zk(e,t),fields:n.value.mapValue.fields}}function ob(e,t,n){var r=eb(e,t.name),i=Xk(t.updateTime),a=t.createTime?Xk(t.createTime):Nv.min(),o=new Tg({mapValue:{fields:t.fields}}),s=Ng.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function sb(e,t){return"found"in t?function(e,t){cv(!!t.found),t.found.name,t.found.updateTime;var n=eb(e,t.found.name),r=Xk(t.found.updateTime),i=t.found.createTime?Xk(t.found.createTime):Nv.min(),a=new Tg({mapValue:{fields:t.found.fields}});return Ng.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){cv(!!t.missing),cv(!!t.readTime);var n=eb(e,t.missing),r=Xk(t.readTime);return Ng.newNoDocument(n,r)}(e,t):uv()}function ub(e,t){var n;if(t instanceof lk)n={update:ab(e,t.key,t.value)};else if(t instanceof gk)n={delete:Zk(e,t.key)};else if(t instanceof fk)n={update:ab(e,t.key,t.data),updateMask:bb(t.fieldMask)};else{if(!(t instanceof yk))return uv();n={verify:Zk(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Wy)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Hy)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Yy)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Jy)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw uv()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Yk(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:uv()}(e,t.precondition)),n}function cb(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?nk.updateTime(Xk(e.updateTime)):void 0!==e.exists?nk.exists(e.exists):nk.none()}(t.currentDocument):nk.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)cv("REQUEST_TIME"===t.setToServerValue),n=new Wy;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Hy(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Yy(i)}else"increment"in t?n=new Jy(e,t.increment):uv();var a=Dv.fromServerFormat(t.fieldPath);return new ek(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=eb(e,t.update.name),a=new Tg({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Hm(t.map((function(e){return Dv.fromServerFormat(e)})))}(t.updateMask);return new fk(i,a,o,n,r)}return new lk(i,a,n,r)}if(t.delete){var s=eb(e,t.delete);return new gk(s,n)}if(t.verify){var u=eb(e,t.verify);return new yk(u,n)}return uv()}function lb(e,t){return{documents:[tb(e,t.path)]}}function fb(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=tb(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=tb(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return kb(Lg.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:gb(e.field),direction:pb(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=Wk(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function hb(e){var t=nb(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){cv(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=db(e);return t instanceof Lg&&Bg(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Dg(yb(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return om(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Cg(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Cg(n,t)}(n.endAt)),uy(t,i,s,o,u,"F",c,l)}function db(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=yb(e.unaryFilter.field);return Og.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=yb(e.unaryFilter.field);return Og.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=yb(e.unaryFilter.field);return Og.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=yb(e.unaryFilter.field);return Og.create(i,"!=",{nullValue:"NULL_VALUE"});default:return uv()}}(e):void 0!==e.fieldFilter?function(e){return Og.create(yb(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return uv()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Lg.create(e.compositeFilter.filters.map((function(e){return db(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return uv()}}(e.compositeFilter.op))}(e):uv()}function pb(e){return zk[e]}function vb(e){return qk[e]}function mb(e){return Gk[e]}function gb(e){return{fieldPath:e.canonicalString()}}function yb(e){return Dv.fromServerFormat(e.fieldPath)}function kb(e){return e instanceof Og?function(e){if("=="===e.op){if(yg(e.value))return{unaryFilter:{field:gb(e.field),op:"IS_NAN"}};if(gg(e.value))return{unaryFilter:{field:gb(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(yg(e.value))return{unaryFilter:{field:gb(e.field),op:"IS_NOT_NAN"}};if(gg(e.value))return{unaryFilter:{field:gb(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gb(e.field),op:vb(e.op),value:e.value}}}(e):e instanceof Lg?function(e){var t=e.getFilters().map((function(e){return kb(e)}));return 1===t.length?t[0]:{compositeFilter:{op:mb(e.op),filters:t}}}(e):uv()}function bb(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function wb(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var xb=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Nv.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Nv.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ym.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;w(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return E(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),_b=E((function e(t){w(this,e),this.fe=t}));function Ib(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Eb(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Zk(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Hk(e,t.version.toTimestamp()),createTime:Hk(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Tb(t.version)};else{if(!t.isUnknownDocument())return uv();r.unknownDocument={path:n.path.toArray(),version:Tb(t.version)}}return r}function Eb(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Tb(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Sb(e){var t=new Sv(e.seconds,e.nanoseconds);return Nv.fromTimestamp(t)}function Nb(e,t){for(var n=(t.baseMutations||[]).map((function(t){return cb(e.fe,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return cb(e.fe,t)})),s=Sv.fromMillis(t.localWriteTimeMs);return new kk(t.batchId,s,n,o)}function Cb(e){var t,n,r=Sb(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Sb(e.lastLimboFreeSnapshotVersion):Nv.min();return void 0!==e.query.documents?(cv(1===(n=e.query).documents.length),t=vy(cy(nb(n.documents[0])))):t=function(e){return vy(hb(e))}(e.query),new xb(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,r,i,Ym.fromBase64String(e.resumeToken))}function Ab(e,t){var n,r=Tb(t.snapshotVersion),i=Tb(t.lastLimboFreeSnapshotVersion);n=ry(t.target)?lb(e.fe,t.target):fb(e.fe,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ty(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Pb(e){var t=hb({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?gy(t,t.limit,"L"):t}function Db(e,t){return new wk(t.largestBatchId,cb(e.fe,t.overlayMutation))}function Rb(e,t){var n=t.path.lastSegment();return[e,cm(t.path.popLast()),n]}function jb(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Tb(r.readTime),documentKey:cm(r.documentKey.path),largestBatchId:r.largestBatchId}}var Ob=function(){function e(){w(this,e)}return E(e,[{key:"getBundleMetadata",value:function(e,t){return Lb(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Sb(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Lb(e).put({bundleId:(n=t).id,createTime:Tb(Xk(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Mb(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Pb(t.bundledQuery),readTime:Sb(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Mb(e).put(function(e){return{name:e.name,readTime:Tb(Xk(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Lb(e){return Mm(e,"bundles")}function Mb(e){return Mm(e,"namedQueries")}var Fb=function(){function e(t,n){w(this,e),this.serializer=t,this.userId=n}return E(e,[{key:"getOverlay",value:function(e,t){var n=this;return Bb(e).get(Rb(this.userId,t)).next((function(e){return e?Db(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Py();return Hv.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new wk(t,a);i.push(r.we(e,o))})),Hv.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(cm(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Bb(e).J("collectionPathOverlayIndex",i))})),Hv.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Py(),a=cm(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Bb(e).j("collectionPathOverlayIndex",o).next((function(e){var t,n=f(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Db(r.serializer,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Py(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Bb(e).X({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=Db(a.serializer,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"we",value:function(e,t){return Bb(e).put(function(e,t,n){var r=L(Rb(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:ub(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"de",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Bb(e){return Mm(e,"documentOverlays")}var Ub=function(){function e(){w(this,e)}return E(e,[{key:"_e",value:function(e,t){this.me(e,t),t.ge()}},{key:"me",value:function(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe($m(e.integerValue));else if("doubleValue"in e){var n=$m(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),sm(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie("".concat(r.seconds||"")),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Zm(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?wg(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):uv()}},{key:"Te",value:function(e,t){this.ye(t,25),this.be(e,t)}},{key:"be",value:function(e,t){t.Ie(e)}},{key:"Re",value:function(e,t){var n=e.fields||{};this.ye(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Te(a,t),this.me(n[a],t)}}},{key:"Pe",value:function(e,t){var n=e.values||[];this.ye(t,50);var r,i=f(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.me(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ve",value:function(e,t){var n=this;this.ye(t,37),Rv.fromName(e).path.forEach((function(e){n.ye(t,60),n.be(e,t)}))}},{key:"ye",value:function(e,t){e.pe(t)}},{key:"Ee",value:function(e){e.pe(2)}}]),e}();function Vb(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function zb(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Vb(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Ub.Ve=new Ub;var qb=function(){function e(){w(this,e),this.buffer=new Uint8Array(1024),this.position=0}return E(e,[{key:"Se",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.De(n.value),n=t.next();this.Ce()}},{key:"xe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ne(n.value),n=t.next();this.ke()}},{key:"Me",value:function(e){var t,n=f(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{var a=r.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ce()}},{key:"$e",value:function(e){var t,n=f(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{var a=r.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ke()}},{key:"Oe",value:function(e){var t=this.Fe(e),n=zb(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Le",value:function(e){var t=this.Fe(e),n=zb(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"qe",value:function(){this.Ue(255),this.Ue(255)}},{key:"Ke",value:function(){this.Ge(255),this.Ge(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Qe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Fe",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"De",value:function(e){var t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}},{key:"Ne",value:function(e){var t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}},{key:"Ce",value:function(){this.Ue(0),this.Ue(1)}},{key:"ke",value:function(){this.Ge(0),this.Ge(1)}},{key:"Ue",value:function(e){this.Be(1),this.buffer[this.position++]=e}},{key:"Ge",value:function(e){this.Be(1),this.buffer[this.position++]=~e}},{key:"Be",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Gb=function(){function e(t){w(this,e),this.je=t}return E(e,[{key:"Ae",value:function(e){this.je.Se(e)}},{key:"Ie",value:function(e){this.je.Me(e)}},{key:"pe",value:function(e){this.je.Oe(e)}},{key:"ge",value:function(){this.je.qe()}}]),e}(),Kb=function(){function e(t){w(this,e),this.je=t}return E(e,[{key:"Ae",value:function(e){this.je.xe(e)}},{key:"Ie",value:function(e){this.je.$e(e)}},{key:"pe",value:function(e){this.je.Le(e)}},{key:"ge",value:function(){this.je.Ke()}}]),e}(),Wb=function(){function e(){w(this,e),this.je=new qb,this.ze=new Gb(this.je),this.We=new Kb(this.je)}return E(e,[{key:"seed",value:function(e){this.je.seed(e)}},{key:"He",value:function(e){return 0===e?this.ze:this.We}},{key:"Qe",value:function(){return this.je.Qe()}},{key:"reset",value:function(){this.je.reset()}}]),e}(),Hb=function(){function e(t,n,r,i){w(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return E(e,[{key:"Je",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Qb(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Yb(e.arrayValue,t.arrayValue))?n:0!==(n=Yb(e.directionalValue,t.directionalValue))?n:Rv.comparator(e.documentKey,t.documentKey)}function Yb(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Xb=function(){function e(t){w(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];var n,r=f(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Ze=i:this.Xe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return E(e,[{key:"tn",value:function(e){cv(e.collectionGroup===this.collectionId);var t=Ov(e);if(void 0!==t&&!this.en(t))return!1;for(var n=Lv(e),r=new Set,i=0,a=0;i<n.length&&this.en(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){var o=n[i];if(!this.nn(this.Ze,o)||!this.sn(this.Ye[a++],o))return!1}++i}for(;i<n.length;++i){var s=n[i];if(a>=this.Ye.length||!this.sn(this.Ye[a++],s))return!1}return!0}},{key:"en",value:function(e){var t,n=f(this.Xe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.nn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"nn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"sn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function Jb(e){var t,n;if(cv(e instanceof Og||e instanceof Lg),e instanceof Og){if(e instanceof Xg){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return Og.create(e.field,"==",t)})))||[];return Lg.create(r,"or")}return e}var i=e.filters.map((function(e){return Jb(e)}));return Lg.create(i,e.op)}function $b(e){if(0===e.getFilters().length)return[];var t=nw(Jb(e));return cv(tw(t)),Zb(t)||ew(t)?[t]:t.getFilters()}function Zb(e){return e instanceof Og}function ew(e){return e instanceof Lg&&Bg(e)}function tw(e){return Zb(e)||ew(e)||function(e){if(e instanceof Lg&&Fg(e)){var t,n=f(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!Zb(r)&&!ew(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function nw(e){if(cv(e instanceof Og||e instanceof Lg),e instanceof Og)return e;if(1===e.filters.length)return nw(e.filters[0]);var t=e.filters.map((function(e){return nw(e)})),n=Lg.create(t,e.op);return tw(n=aw(n))?n:(cv(n instanceof Lg),cv(Mg(n)),cv(n.filters.length>1),n.filters.reduce((function(e,t){return rw(e,t)})))}function rw(e,t){var n;return cv(e instanceof Og||e instanceof Lg),cv(t instanceof Og||t instanceof Lg),n=e instanceof Og?t instanceof Og?function(e,t){return Lg.create([e,t],"and")}(e,t):iw(e,t):t instanceof Og?iw(t,e):function(e,t){if(cv(e.filters.length>0&&t.filters.length>0),Mg(e)&&Mg(t))return qg(e,t.getFilters());var n=Fg(e)?e:t,r=Fg(e)?t:e,i=n.filters.map((function(e){return rw(e,r)}));return Lg.create(i,"or")}(e,t),aw(n)}function iw(e,t){if(Mg(t))return qg(t,e.getFilters());var n=t.filters.map((function(t){return rw(e,t)}));return Lg.create(n,"or")}function aw(e){if(cv(e instanceof Og||e instanceof Lg),e instanceof Og)return e;var t=e.getFilters();if(1===t.length)return aw(t[0]);if(Ug(e))return e;var n=t.map((function(e){return aw(e)})),r=[];return n.forEach((function(t){t instanceof Og?r.push(t):t instanceof Lg&&(t.op===e.op?r.push.apply(r,b(t.filters)):r.push(t))})),1===r.length?r[0]:Lg.create(r,e.op)}var ow=function(){function e(){w(this,e),this.rn=new sw}return E(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.rn.add(t),Hv.resolve()}},{key:"getCollectionParents",value:function(e,t){return Hv.resolve(this.rn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Hv.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Hv.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Hv.resolve(null)}},{key:"getIndexType",value:function(e,t){return Hv.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Hv.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Hv.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Hv.resolve(Vv.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Hv.resolve(Vv.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Hv.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Hv.resolve()}}]),e}(),sw=function(){function e(){w(this,e),this.index={}}return E(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Gm(Av.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Gm(Av.comparator)).toArray()}}]),e}(),uw=new Uint8Array(0),cw=function(){function e(t,n){w(this,e),this.user=t,this.databaseId=n,this.on=new sw,this.un=new Ey((function(e){return ty(e)}),(function(e,t){return ny(e,t)})),this.uid=t.uid||""}return E(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.on.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.on.add(t)}));var a={collectionId:r,parent:cm(i)};return lw(e).put(a)}return Hv.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Tv(t),""],!1,!0);return lw(e).j(r).next((function(e){var r,i=f(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(hm(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=hw(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=dw(e);return a.next((function(e){o.put(jb(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=hw(e),r=dw(e),i=fw(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=fw(e),i=!0,a=new Map;return Hv.forEach(this.cn(t),(function(t){return n.an(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Ly(),o=[];return Hv.forEach(a,(function(i,a){var s;iv("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(ty(t)));var u=function(e,t){var n=Ov(t);if(void 0===n)return null;var r,i=f(iy(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=f(Lv(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=f(iy(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=f(Lv(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?ay(e,o.fieldPath,e.startAt):oy(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new Cg(r,i)}(a,i),h=function(e,t){var n,r=[],i=!0,a=f(Lv(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?oy(e,o.fieldPath,e.endAt):ay(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new Cg(r,i)}(a,i),d=n.hn(i,a,l),p=n.hn(i,a,h),v=n.ln(i,a,c),m=n.fn(i.indexId,u,d,l.inclusive,p,h.inclusive,v);return Hv.forEach(m,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=Rv.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Hv.resolve(null)}))}},{key:"cn",value:function(e){var t=this.un.get(e);return t||(t=0===e.filters.length?[e]:$b(Lg.create(e.filters,"and")).map((function(t){return ey(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.un.set(e,t),t)}},{key:"fn",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(){var u=t?s.dn(t[h/c]):uw,f=s.wn(e,u,n[h%c],r),d=s._n(e,u,i[h%c],a),p=o.map((function(t){return s.wn(e,u,t,!0)}));l.push.apply(l,b(s.createRange(f,d,p)))},h=0;h<u;++h)f();return l}},{key:"wn",value:function(e,t,n,r){var i=new Hb(e,Rv.empty(),t,n);return r?i:i.Je()}},{key:"_n",value:function(e,t,n,r){var i=new Hb(e,Rv.empty(),t,n);return r?i.Je():i}},{key:"an",value:function(e,t){var n=new Xb(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=f(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.tn(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.cn(t);return Hv.forEach(i,(function(t){return n.an(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Gm(Dv.comparator),r=!1,i=f(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=f(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(h){o.e(h)}finally{o.f()}}}catch(h){i.e(h)}finally{i.f()}var u,c=f(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(h){c.e(h)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"mn",value:function(e,t){var n,r=new Wb,i=f(Lv(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.He(a.kind);Ub.Ve._e(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Qe()}},{key:"dn",value:function(e){var t=new Wb;return Ub.Ve._e(e,t.He(0)),t.Qe()}},{key:"gn",value:function(e,t){var n=new Wb;return Ub.Ve._e(pg(this.databaseId,t),n.He(function(e){var t=Lv(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}},{key:"ln",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Wb);var i,a=0,o=f(Lv(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=f(r);try{for(l.s();!(s=l.n()).done;){var h=s.value;if(this.yn(t,u.fieldPath)&&mg(c))r=this.pn(r,u,c);else{var d=h.He(u.kind);Ub.Ve._e(c,d)}}}catch(p){l.e(p)}finally{l.f()}}}catch(p){o.e(p)}finally{o.f()}return this.In(r)}},{key:"hn",value:function(e,t,n){return this.ln(e,t,n.position)}},{key:"In",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Qe();return t}},{key:"pn",value:function(e,t,n){var r,i=b(e),a=[],o=f(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=f(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,h=new Wb;h.seed(l.Qe()),Ub.Ve._e(u,h.He(t.kind)),a.push(h)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"yn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Og&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=hw(e),i=dw(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next((function(e){var t=[];return Hv.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Fv(t.sequenceNumber,new Vv(Sb(t.readTime),new Rv(hm(t.documentKey)),t.largestBatchId)):Fv.empty(),r=e.fields.map((function(e){var t=L(e,2),n=t[0],r=t[1];return new Mv(Dv.fromServerFormat(n),r)}));return new jv(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Iv(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=hw(e),a=dw(e);return this.Tn(e).next((function(e){return i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Hv.forEach(t,(function(t){return a.put(jb(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Hv.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Hv.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Hv.forEach(a,(function(r){return n.En(e,t,r).next((function(t){var a=n.An(i,r);return t.isEqual(a)?Hv.resolve():n.vn(e,i,r,t,a)}))}))}))}))}},{key:"Rn",value:function(e,t,n,r){return fw(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"Pn",value:function(e,t,n,r){return fw(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}},{key:"En",value:function(e,t,n){var r=fw(e),i=new Gm(Qb);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},(function(e,r){i=i.add(new Hb(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"An",value:function(e,t){var n=new Gm(Qb),r=this.mn(t,e);if(null==r)return n;var i=Ov(t);if(null!=i){var a=e.data.field(i.fieldPath);if(mg(a)){var o,s=f(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new Hb(t.indexId,e.key,this.dn(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new Hb(t.indexId,e.key,uw,r));return n}},{key:"vn",value:function(e,t,n,r,i){var a=this;iv("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=Wm(a),u=Wm(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=Wm(o)):l?(i(s),s=Wm(a)):(s=Wm(a),u=Wm(o))}}(r,i,Qb,(function(r){o.push(a.Rn(e,t,n,r))}),(function(r){o.push(a.Pn(e,t,n,r))})),Hv.waitFor(o)}},{key:"Tn",value:function(e){var t=1;return dw(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Qb(e,t)})).filter((function(e,t,n){return!t||0!==Qb(e,n[t-1])}));var r=[];r.push(e);var i,a=f(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=Qb(o,e),u=Qb(o,t);if(0===s)r[0]=e.Je();else if(s>0&&u<0)r.push(o),r.push(o.Je());else if(u>0)break}}catch(p){a.e(p)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];var h=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,uw,[]],d=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,uw,[]];c.push(IDBKeyRange.bound(h,d))}return c}},{key:"bn",value:function(e,t){return Qb(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(pw)}},{key:"getMinOffset",value:function(e,t){var n=this;return Hv.mapArray(this.cn(t),(function(t){return n.an(e,t).next((function(e){return e||uv()}))})).next(pw)}}]),e}();function lw(e){return Mm(e,"collectionParents")}function fw(e){return Mm(e,"indexEntries")}function hw(e){return Mm(e,"indexConfiguration")}function dw(e){return Mm(e,"indexState")}function pw(e){cv(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;zv(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Vv(t.readTime,t.documentKey,n)}var vw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mw=function(){function e(t,n,r){w(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return E(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function gw(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.X({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){cv(1===s)})));var c,l=[],h=f(n.mutations);try{for(h.s();!(c=h.n()).done;){var d=c.value,p=vm(t,d.key.path,n.batchId);a.push(i.delete(p)),l.push(d.key)}}catch(v){h.e(v)}finally{h.f()}return Hv.waitFor(a).next((function(){return l}))}function yw(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw uv();t=e.noDocument}return JSON.stringify(t).length}mw.DEFAULT_COLLECTION_PERCENTILE=10,mw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mw.DEFAULT=new mw(41943040,mw.DEFAULT_COLLECTION_PERCENTILE,mw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mw.DISABLED=new mw(-1,0,0);var kw=function(){function e(t,n,r,i){w(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}return E(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ww(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=xw(e),o=ww(e);return o.add({}).next((function(s){cv("number"==typeof s);var u,c=new kk(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return ub(e.fe,t)})),i=n.mutations.map((function(t){return ub(e.fe,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),h=[],d=new Gm((function(e,t){return Iv(e.canonicalString(),t.canonicalString())})),p=f(r);try{for(p.s();!(u=p.n()).done;){var v=u.value,m=vm(i.userId,v.key.path,s);d=d.add(v.key.path.popLast()),h.push(o.put(l)),h.push(a.put(m,mm))}}catch(g){p.e(g)}finally{p.f()}return d.forEach((function(t){h.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Vn[s]=c.keys()})),Hv.waitFor(h).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return ww(e).get(t).next((function(e){return e?(cv(e.userId===n.userId),Nb(n.serializer,e)):null}))}},{key:"Sn",value:function(e,t){var n=this;return this.Vn[t]?Hv.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Vn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return ww(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(cv(t.batchId>=r),a=Nb(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ww(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ww(e).j("userMutationsIndex",n).next((function(e){return e.map((function(e){return Nb(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=pm(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return xw(e).X({range:i},(function(r,i,o){var s=L(r,3),u=s[0],c=s[1],l=s[2],f=hm(c);if(u===n.userId&&t.path.isEqual(f))return ww(e).get(l).next((function(e){if(!e)throw uv();cv(e.userId===n.userId),a.push(Nb(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Gm(Iv),i=[];return t.forEach((function(t){var a=pm(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=xw(e).X({range:o},(function(e,i,a){var o=L(e,3),s=o[0],u=o[1],c=o[2],l=hm(u);s===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(s)})),Hv.waitFor(i).next((function(){return n.Dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=pm(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new Gm(Iv);return xw(e).X({range:o},(function(e,t,a){var o=L(e,3),u=o[0],c=o[1],l=o[2],f=hm(c);u===n.userId&&r.isPrefixOf(f)?f.length===i&&(s=s.add(l)):a.done()})).next((function(){return n.Dn(e,s)}))}},{key:"Dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(ww(e).get(t).next((function(e){if(null===e)throw uv();cv(e.userId===n.userId),r.push(Nb(n.serializer,e))})))})),Hv.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return gw(e.ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Cn(t.batchId)})),Hv.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Cn",value:function(e){delete this.Vn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Hv.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return xw(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var a=hm(e[1]);i.push(a)}else r.done()})).next((function(){cv(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return bw(e,this.userId,t)}},{key:"xn",value:function(e){var t=this;return _w(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"de",value:function(t,n,r,i){return cv(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function bw(e,t,n){var r=pm(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return xw(e).X({range:a,Y:!0},(function(e,n,r){var a=L(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function ww(e){return Mm(e,"mutations")}function xw(e){return Mm(e,"documentMutations")}function _w(e){return Mm(e,"mutationQueues")}var Iw=function(){function e(t){w(this,e),this.Nn=t}return E(e,[{key:"next",value:function(){return this.Nn+=2,this.Nn}}],[{key:"kn",value:function(){return new e(0)}},{key:"Mn",value:function(){return new e(-1)}}]),e}(),Ew=function(){function e(t,n){w(this,e),this.referenceDelegate=t,this.serializer=n}return E(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.$n(e).next((function(n){var r=new Iw(n.highestTargetId);return n.highestTargetId=r.next(),t.On(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.$n(e).next((function(e){return Nv.fromTimestamp(new Sv(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.$n(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.$n(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.On(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Fn(e,t).next((function(){return n.$n(e).next((function(r){return r.targetCount+=1,n.Bn(t,r),n.On(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Fn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Tw(e).delete(t.targetId)})).next((function(){return n.$n(e)})).next((function(t){return cv(t.targetCount>0),t.targetCount-=1,n.On(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Tw(e).X((function(o,s){var u=Cb(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return Hv.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Tw(e).X((function(e,n){var r=Cb(n);t(r)}))}},{key:"$n",value:function(e){return Sw(e).get("targetGlobalKey").next((function(e){return cv(null!==e),e}))}},{key:"On",value:function(e,t){return Sw(e).put("targetGlobalKey",t)}},{key:"Fn",value:function(e,t){return Tw(e).put(Ab(this.serializer,t))}},{key:"Bn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.$n(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=ty(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Tw(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Cb(n);ny(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Nw(e);return t.forEach((function(t){var o=cm(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Hv.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Nw(e);return Hv.forEach(t,(function(t){var a=cm(t.path);return Hv.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Nw(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Nw(e),i=Ly();return r.X({range:n,Y:!0},(function(e,t,n){var r=hm(e[1]),a=new Rv(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=cm(t.path),r=IDBKeyRange.bound([n],[Tv(n)],!1,!0),i=0;return Nw(e).X({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=L(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"le",value:function(e,t){return Tw(e).get(t).next((function(e){return e?Cb(e):null}))}}]),e}();function Tw(e){return Mm(e,"targets")}function Sw(e){return Mm(e,"targetGlobal")}function Nw(e){return Mm(e,"targetDocuments")}function Cw(e,t){var n=L(e,2),r=n[0],i=n[1],a=L(t,2),o=a[0],s=a[1],u=Iv(r,o);return 0===u?Iv(i,s):u}var Aw=function(){function e(t){w(this,e),this.Ln=t,this.buffer=new Gm(Cw),this.qn=0}return E(e,[{key:"Un",value:function(){return++this.qn}},{key:"Kn",value:function(e){var t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Cw(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Pw=function(){function e(t,n,r){w(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Gn=null}return E(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}},{key:"stop",value:function(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}},{key:"started",get:function(){return null!==this.Gn}},{key:"Qn",value:function(e){var t=this;iv("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Et(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Gn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!$v(e.t0)){e.next=12;break}iv("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Kv(e.t0);case 14:return e.next=16,t.Qn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Dw=function(){function e(t,n){w(this,e),this.jn=t,this.params=n}return E(e,[{key:"calculateTargetCount",value:function(e,t){return this.jn.zn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Hv.resolve(am.ct);var r=new Aw(t);return this.jn.forEachTarget(e,(function(e){return r.Kn(e.sequenceNumber)})).next((function(){return n.jn.Wn(e,(function(e){return r.Kn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.jn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.jn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(iv("LruGarbageCollector","Garbage collection skipped; disabled"),Hv.resolve(vw)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(iv("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),vw):n.Hn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.jn.getCacheSize(e)}},{key:"Hn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(iv("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),rv()<=At.DEBUG&&iv("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),Hv.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function Rw(e,t){return new Dw(e,t)}var jw=function(){function e(t,n){w(this,e),this.db=t,this.garbageCollector=Rw(this,n)}return E(e,[{key:"zn",value:function(e){var t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Jn",value:function(e){var t=0;return this.Wn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Wn",value:function(e,t){return this.Yn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Ow(e,n)}},{key:"removeReference",value:function(e,t,n){return Ow(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Ow(e,t)}},{key:"Xn",value:function(e,t){return function(e,t){var n=!1;return _w(e).Z((function(r){return bw(e,r,t).next((function(e){return e&&(n=!0),Hv.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Yn(e,(function(o,s){if(s<=t){var u=n.Xn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Nv.min()),Nw(e).delete([0,cm(o.path)])}))}));i.push(u)}})).next((function(){return Hv.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Ow(e,t)}},{key:"Yn",value:function(e,t){var n,r=Nw(e),i=am.ct;return r.X({index:"documentTargetsIndex"},(function(e,r){var a=L(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==am.ct&&t(new Rv(hm(n)),i),i=u,n=s):i=am.ct})).next((function(){i!==am.ct&&t(new Rv(hm(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Ow(e,t){return Nw(e).put(function(e,t){return{targetId:0,path:cm(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Lw=function(){function e(){w(this,e),this.changes=new Ey((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return E(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Ng.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Hv.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Mw=function(){function e(t){w(this,e),this.serializer=t}return E(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Vw(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Vw(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Eb(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Zn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Ng.newInvalidDocument(t);return Vw(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(zw(t))},(function(e,i){r=n.ts(t,i)})).next((function(){return r}))}},{key:"es",value:function(e,t){var n=this,r={size:0,document:Ng.newInvalidDocument(t)};return Vw(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(zw(t))},(function(e,i){r={document:n.ts(t,i),size:yw(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Sy();return this.ns(e,t,(function(e,t){var i=n.ts(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ss",value:function(e,t){var n=this,r=Sy(),i=new Vm(Rv.comparator);return this.ns(e,t,(function(e,t){var a=n.ts(e,t);r=r.insert(e,a),i=i.insert(e,yw(t))})).next((function(){return{documents:r,rs:i}}))}},{key:"ns",value:function(e,t,n){if(t.isEmpty())return Hv.resolve();var r=new Gm(Gw);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(zw(r.first()),zw(r.last())),a=r.getIterator(),o=a.getNext();return Vw(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Rv.fromSegments([].concat(b(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Gw(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.G(zw(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),Eb(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Vw(e).j(IDBKeyRange.bound(o,s,!0)).next((function(e){var n,a=Sy(),o=f(e);try{for(o.s();!(n=o.n()).done;){var s=n.value,u=i.ts(Rv.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);u.isFoundDocument()&&(wy(t,u)||r.has(u.key))&&(a=a.insert(u.key,u))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Sy(),o=qw(t,n),s=qw(t,Vv.max());return Vw(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.ts(Rv.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Bw(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Uw(e).get("remoteDocumentGlobalKey").next((function(e){return cv(!!e),e}))}},{key:"Zn",value:function(e,t){return Uw(e).put("remoteDocumentGlobalKey",t)}},{key:"ts",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=ob(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Rv.fromSegments(t.noDocument.path),i=Sb(t.noDocument.readTime);n=Ng.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return uv();var a=Rv.fromSegments(t.unknownDocument.path),o=Sb(t.unknownDocument.version);n=Ng.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Sv(e[0],e[1]);return Nv.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(Nv.min()))return n}return Ng.newInvalidDocument(e)}}]),e}();function Fw(e){return new Mw(e)}var Bw=function(e){S(n,e);var t=P(n);function n(e,r){var i;return w(this,n),(i=t.call(this)).os=e,i.trackRemovals=r,i.us=new Ey((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return E(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Gm((function(e,t){return Iv(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.us.get(a);if(n.push(t.os.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=Ib(t.os.serializer,o);i=i.add(a.path.popLast());var c=yw(u);r+=c-s.size,n.push(t.os.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=Ib(t.os.serializer,o.convertToNoDocument(Nv.min()));n.push(t.os.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.os.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.os.updateMetadata(e,r)),Hv.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.os.es(e,t).next((function(e){return n.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.os.ss(e,t).next((function(e){var t=e.documents;return e.rs.forEach((function(e,r){n.us.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Lw);function Uw(e){return Mm(e,"remoteDocumentGlobal")}function Vw(e){return Mm(e,"remoteDocumentsV14")}function zw(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function qw(e,t){var n=t.documentKey.path.toArray();return[e,Eb(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Gw(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Iv(n[a],r[a]))return i;return(i=Iv(n.length,r.length))||((i=Iv(n[n.length-2],r[r.length-2]))||Iv(n[n.length-1],r[r.length-1]))}var Kw=E((function e(t,n){w(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Ww=function(){function e(t,n,r,i){w(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return E(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&sk(r.mutation,e,Hm.empty(),Sv.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Ly()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ly(),i=Py();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Cy();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Py();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Ly())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Sy(),a=Ry(),o=Ry();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof fk)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),sk(o.mutation,t,o.mutation.getFieldMask(),Sv.now())):a.set(t.key,Hm.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Kw(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Ry(),i=new Vm((function(e,t){return e-t})),a=Ly();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=f(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Hm.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||Ly()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=Dy();c.forEach((function(e){if(!a.has(e)){var n=ak(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return Hv.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Rv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):dy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Hv.resolve(Py()),s=-1,u=a;return o.next((function(t){return Hv.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?Hv.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,Ly())})).next((function(e){return{batchId:s,changes:Ay(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Rv(t)).next((function(e){var t=Cy();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Cy();return this.indexManager.getCollectionParents(e,i).next((function(o){return Hv.forEach(o,(function(o){var s=function(e,t){return new sy(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Ng.newInvalidDocument(r)))}));var n=Cy();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&sk(a.mutation,i,Hm.empty(),Sv.now()),wy(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),Hw=function(){function e(t){w(this,e),this.serializer=t,this.cs=new Map,this.hs=new Map}return E(e,[{key:"getBundleMetadata",value:function(e,t){return Hv.resolve(this.cs.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:Xk(n.createTime)}),Hv.resolve()}},{key:"getNamedQuery",value:function(e,t){return Hv.resolve(this.hs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:Pb(e.bundledQuery),readTime:Xk(e.readTime)}}(t)),Hv.resolve()}}]),e}(),Qw=function(){function e(){w(this,e),this.overlays=new Vm(Rv.comparator),this.ls=new Map}return E(e,[{key:"getOverlay",value:function(e,t){return Hv.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Py();return Hv.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.we(e,t,i)})),Hv.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ls.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ls.delete(n)),Hv.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Py(),i=t.length+1,a=new Rv(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Hv.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Vm((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=Py(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=Py(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return Hv.resolve(u)}},{key:"we",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new wk(t,n));var a=this.ls.get(t);void 0===a&&(a=Ly(),this.ls.set(t,a)),this.ls.set(t,a.add(n.key))}}]),e}(),Yw=function(){function e(){w(this,e),this.fs=new Gm(Xw.ds),this.ws=new Gm(Xw._s)}return E(e,[{key:"isEmpty",value:function(){return this.fs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Xw(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}},{key:"gs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ys(new Xw(e,t))}},{key:"ps",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Is",value:function(e){var t=this,n=new Rv(new Av([])),r=new Xw(n,e),i=new Xw(n,e+1),a=[];return this.ws.forEachInRange([r,i],(function(e){t.ys(e),a.push(e.key)})),a}},{key:"Ts",value:function(){var e=this;this.fs.forEach((function(t){return e.ys(t)}))}},{key:"ys",value:function(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}},{key:"Es",value:function(e){var t=new Rv(new Av([])),n=new Xw(t,e),r=new Xw(t,e+1),i=Ly();return this.ws.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Xw(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Xw=function(){function e(t,n){w(this,e),this.key=t,this.As=n}return E(e,null,[{key:"ds",value:function(e,t){return Rv.comparator(e.key,t.key)||Iv(e.As,t.As)}},{key:"_s",value:function(e,t){return Iv(e.As,t.As)||Rv.comparator(e.key,t.key)}}]),e}(),Jw=function(){function e(t,n){w(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Gm(Xw.ds)}return E(e,[{key:"checkEmpty",value:function(e){return Hv.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new kk(i,t,n,r);this.mutationQueue.push(a);var o,s=f(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.Rs=this.Rs.add(new Xw(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Hv.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Hv.resolve(this.Ps(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.bs(n),i=r<0?0:r;return Hv.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Hv.resolve(0===this.mutationQueue.length?-1:this.vs-1)}},{key:"getAllMutationBatches",value:function(e){return Hv.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Xw(t,0),i=new Xw(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],(function(e){var t=n.Ps(e.As);a.push(t)})),Hv.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Gm(Iv);return t.forEach((function(e){var t=new Xw(e,0),i=new Xw(e,Number.POSITIVE_INFINITY);n.Rs.forEachInRange([t,i],(function(e){r=r.add(e.As)}))})),Hv.resolve(this.Vs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Rv.isDocumentKey(i)||(i=i.child(""));var a=new Xw(new Rv(i),0),o=new Gm(Iv);return this.Rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)}),a),Hv.resolve(this.Vs(o))}},{key:"Vs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ps(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;cv(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Rs;return Hv.forEach(t.mutations,(function(i){var a=new Xw(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Rs=r}))}},{key:"Cn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Xw(t,0),r=this.Rs.firstAfterOrEqual(n);return Hv.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Hv.resolve()}},{key:"Ss",value:function(e,t){return this.bs(e)}},{key:"bs",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Ps",value:function(e){var t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),$w=function(){function e(t){w(this,e),this.Ds=t,this.docs=new Vm(Rv.comparator),this.size=0}return E(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Hv.resolve(n?n.document.mutableCopy():Ng.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Sy();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Ng.newInvalidDocument(e))})),Hv.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Sy(),a=t.path,o=new Rv(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||zv(Uv(l),n)<=0||(r.has(l.key)||wy(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Hv.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){uv()}},{key:"Cs",value:function(e,t){return Hv.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Zw(this)}},{key:"getSize",value:function(e){return Hv.resolve(this.size)}}]),e}(),Zw=function(e){S(n,e);var t=P(n);function n(e){var r;return w(this,n),(r=t.call(this)).os=e,r}return E(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.os.addEntry(e,i)):t.os.removeEntry(r)})),Hv.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.os.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.os.getEntries(e,t)}}]),n}(Lw),ex=function(){function e(t){w(this,e),this.persistence=t,this.xs=new Ey((function(e){return ty(e)}),ny),this.lastRemoteSnapshotVersion=Nv.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Yw,this.targetCount=0,this.Ms=Iw.kn()}return E(e,[{key:"forEachTarget",value:function(e,t){return this.xs.forEach((function(e,n){return t(n)})),Hv.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Hv.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Hv.resolve(this.Ns)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ms.next(),Hv.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Hv.resolve()}},{key:"Fn",value:function(e){this.xs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ms=new Iw(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Fn(t),this.targetCount+=1,Hv.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Fn(t),Hv.resolve()}},{key:"removeTargetData",value:function(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Hv.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.xs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.xs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Hv.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Hv.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.xs.get(t)||null;return Hv.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.ks.gs(t,n),Hv.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.ks.ps(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Hv.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.ks.Is(t),Hv.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.ks.Es(t);return Hv.resolve(n)}},{key:"containsKey",value:function(e,t){return Hv.resolve(this.ks.containsKey(t))}}]),e}(),tx=function(){function e(t,n){var r=this;w(this,e),this.$s={},this.overlays={},this.Os=new am(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new ex(this),this.indexManager=new ow,this.remoteDocumentCache=new $w((function(e){return r.referenceDelegate.Ls(e)})),this.serializer=new _b(n),this.qs=new Hw(this.serializer)}return E(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Fs=!1,Promise.resolve()}},{key:"started",get:function(){return this.Fs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Qw,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.$s[e.toKey()];return n||(n=new Jw(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;iv("MemoryPersistence","Starting transaction:",e);var i=new nx(this.Os.next());return this.referenceDelegate.Us(),n(i).next((function(e){return r.referenceDelegate.Ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gs",value:function(e,t){return Hv.or(Object.values(this.$s).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),nx=function(e){S(n,e);var t=P(n);function n(e){var r;return w(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return E(n)}(Gv),rx=function(){function e(t){w(this,e),this.persistence=t,this.Qs=new Yw,this.js=null}return E(e,[{key:"Ws",get:function(){if(this.js)return this.js;throw uv()}},{key:"addReference",value:function(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Hv.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Hv.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ws.add(t.toString()),Hv.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qs.Is(t.targetId).forEach((function(e){return n.Ws.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ws.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Us",value:function(){this.js=new Set}},{key:"Ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Hv.forEach(this.Ws,(function(r){var i=Rv.fromPath(r);return t.Hs(e,i).next((function(e){e||n.removeEntry(i,Nv.min())}))})).next((function(){return t.js=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hs(e,t).next((function(e){e?n.Ws.delete(t.toString()):n.Ws.add(t.toString())}))}},{key:"Ls",value:function(e){return 0}},{key:"Hs",value:function(e,t){var n=this;return Hv.or([function(){return Hv.resolve(n.Qs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gs(e,t)}])}}],[{key:"zs",value:function(t){return new e(t)}}]),e}(),ix=function(){function e(t){w(this,e),this.serializer=t}return E(e,[{key:"O",value:function(e,t,n,r){var i=this,a=new Qv("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",dm,{unique:!0}),e.createObjectStore("documentMutations")}(e),ax(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Hv.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),ax(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Nv.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").j().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",dm,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Hv.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ys(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Xs(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Zs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ti(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ei(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Nm});t.createIndex("collectionPathOverlayIndex",Cm,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Am,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:gm});t.createIndex("documentKeyIndex",ym),t.createIndex("collectionGroupIndex",km)}(e)})).next((function(){return i.ni(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.si(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Im}).createIndex("sequenceNumberIndex",Em,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Tm}).createIndex("documentKeyIndex",Sm,{unique:!1})}(e)}))),o}},{key:"Xs",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=yw(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Ys",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next((function(n){return Hv.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",i).next((function(r){return Hv.forEach(r,(function(r){cv(r.userId===n.userId);var i=Nb(t.serializer,r);return gw(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Zs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var a=new Av(n),o=function(e){return[0,cm(e)]}(a);r.push(t.get(o).next((function(n){return n?Hv.resolve():function(n){return t.put({targetId:0,path:cm(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Hv.waitFor(r)}))}))}},{key:"ti",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:_m});var n=t.store("collectionParents"),r=new sw,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:cm(i)})}};return t.store("remoteDocuments").X({Y:!0},(function(e,t){var n=new Av(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").X({Y:!0},(function(e,t){var n=L(e,3),r=(n[0],n[1]),a=(n[2],hm(r));return i(a.popLast())}))}))}},{key:"ei",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=Cb(r),a=Ab(t.serializer,i);return n.put(a)}))}},{key:"ni",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Rv(Av.fromString(i.document.name).popFirst(5)):i.noDocument?Rv.fromSegments(i.noDocument.path):i.unknownDocument?Rv.fromSegments(i.unknownDocument.path):uv()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return Hv.waitFor(r)}))}},{key:"si",value:function(e,t){var n=this,r=t.store("mutations"),i=Fw(this.serializer),a=new tx(rx.zs,this.serializer.fe);return r.j().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Ly();Nb(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Hv.forEach(r,(function(e,r){var o=new ev(r),s=Fb.de(n.serializer,o),u=a.getIndexManager(o),c=kw.de(o,n.serializer,u,a.referenceDelegate);return new Ww(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new Lm(t,am.ct),e).next()}))}))}}]),e}();function ax(e){e.createObjectStore("targetDocuments",{keyPath:wm}).createIndex("documentTargetsIndex",xm,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",bm,{unique:!0}),e.createObjectStore("targetGlobal")}var ox="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",sx=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(w(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.ii=a,this.window=o,this.document=s,this.ri=c,this.oi=l,this.ui=f,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=function(e){return Promise.resolve()},!e.D())throw new hv(fv.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new jw(this,i),this.di=n+"main",this.serializer=new _b(u),this.wi=new Yv(this.di,this.ui,new ix(this.serializer)),this.Bs=new Ew(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Fw(this.serializer),this.qs=new Ob,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===l&&av("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return E(e,[{key:"start",value:function(){var e=this;return this.mi().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new hv(fv.FAILED_PRECONDITION,ox);return e.gi(),e.yi(),e.pi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Bs.getHighestSequenceNumber(t)}))})).then((function(t){e.Os=new am(t,e.ri)})).then((function(){e.Fs=!0})).catch((function(t){return e.wi&&e.wi.close(),Promise.reject(t)}))}},{key:"Ii",value:function(e){var t=this;return this.fi=function(){var n=Et(_t().mark((function n(r){return _t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.wi.B(function(){var t=Et(_t().mark((function t(n){return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(Et(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.mi();case 4:case"end":return e.stop()}}),e)})))))}},{key:"mi",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return cx(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ti(t).next((function(t){t||(e.isPrimary=!1,e.ii.enqueueRetryable((function(){return e.fi(!1)})))}))})).next((function(){return e.Ei(t)})).next((function(n){return e.isPrimary&&!n?e.Ai(t).next((function(){return!1})):!!n&&e.vi(t).next((function(){return!0}))}))})).catch((function(t){if($v(t))return iv("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return iv("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.ii.enqueueRetryable((function(){return e.fi(t)})),e.isPrimary=t}))}},{key:"Ti",value:function(e){var t=this;return ux(e).get("owner").next((function(e){return Hv.resolve(t.Ri(e))}))}},{key:"Pi",value:function(e){return cx(e).delete(this.clientId)}},{key:"bi",value:function(){var e=Et(_t().mark((function e(){var t,n,r,i,a=this;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Vi(this.li,18e5)){e.next=6;break}return this.li=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Mm(e,"clientMetadata");return t.j().next((function(e){var n=a.Si(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Hv.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._i){n=f(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._i.removeItem(this.Di(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pi",value:function(){var e=this;this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.mi().then((function(){return e.bi()})).then((function(){return e.pi()}))}))}},{key:"Ri",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Ei",value:function(e){var t=this;return this.oi?Hv.resolve(!0):ux(e).get("owner").next((function(n){if(null!==n&&t.Vi(n.leaseTimestampMs,5e3)&&!t.Ci(n.ownerId)){if(t.Ri(n)&&t.networkEnabled)return!0;if(!t.Ri(n)){if(!n.allowTabSynchronization)throw new hv(fv.FAILED_PRECONDITION,ox);return!1}}return!(!t.networkEnabled||!t.inForeground)||cx(e).j().next((function(e){return void 0===t.Si(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&iv("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Et(_t().mark((function e(){var t=this;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),e.next=7,this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Lm(e,am.ct);return t.Ai(n).next((function(){return t.Pi(n)}))}));case 7:this.wi.close(),this.Mi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Si",value:function(e,t){var n=this;return e.filter((function(e){return n.Vi(e.updateTimeMs,t)&&!n.Ci(e.clientId)}))}},{key:"$i",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return cx(t).j().next((function(t){return e.Si(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Fs}},{key:"getMutationQueue",value:function(e,t){return kw.de(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new cw(e,this.serializer.fe.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Fb.de(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;iv("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=15===(i=this.ui)?Om:14===i?jm:13===i?Rm:12===i?Dm:11===i?Pm:void uv();return this.wi.runTransaction(e,o,s,(function(i){return a=new Lm(i,r.Os?r.Os.next():am.ct),"readwrite-primary"===t?r.Ti(a).next((function(e){return!!e||r.Ei(a)})).next((function(t){if(!t)throw av("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.ii.enqueueRetryable((function(){return r.fi(!1)})),new hv(fv.FAILED_PRECONDITION,qv);return n(a)})).next((function(e){return r.vi(a).next((function(){return e}))})):r.Oi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Oi",value:function(e){var t=this;return ux(e).get("owner").next((function(e){if(null!==e&&t.Vi(e.leaseTimestampMs,5e3)&&!t.Ci(e.ownerId)&&!t.Ri(e)&&!(t.oi||t.allowTabSynchronization&&e.allowTabSynchronization))throw new hv(fv.FAILED_PRECONDITION,ox)}))}},{key:"vi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ux(e).put("owner",t)}},{key:"Ai",value:function(e){var t=this,n=ux(e);return n.get("owner").next((function(e){return t.Ri(e)?(iv("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Hv.resolve()}))}},{key:"Vi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(av("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"gi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=function(){e.ii.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.mi()}))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ni",value:function(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}},{key:"yi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=function(){t.xi();var e=/(?:Version|Mobile)\/1[456]/;!it()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.ii.enterRestrictedMode(!0),t.ii.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ci))}},{key:"ki",value:function(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}},{key:"Ci",value:function(e){var t;try{var n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return iv("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return av("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xi",value:function(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){av("Failed to set zombie client id.",e)}}},{key:"Mi",value:function(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(e){}}},{key:"Di",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return Yv.D()}}]),e}();function ux(e){return Mm(e,"owner")}function cx(e){return Mm(e,"clientMetadata")}function lx(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var fx=function(){function e(t,n,r,i){w(this,e),this.targetId=t,this.fromCache=n,this.Fi=r,this.Bi=i}return E(e,null,[{key:"Li",value:function(t,n){var r,i=Ly(),a=Ly(),o=f(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),hx=function(){function e(){w(this,e),this.qi=!1}return E(e,[{key:"initialize",value:function(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ki(e,t).next((function(a){return a||i.Gi(e,t,r,n)})).next((function(n){return n||i.Qi(e,t)}))}},{key:"Ki",value:function(e,t){var n=this;if(ly(t))return Hv.resolve(null);var r=vy(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=gy(t,null,"F"),r=vy(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Ly.apply(void 0,b(i));return n.Ui.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ji(t,i);return n.zi(t,o,a,r.readTime)?n.Ki(e,gy(t,null,"F")):n.Wi(e,o,t,r)}))}))})))}))}},{key:"Gi",value:function(e,t,n,r){var i=this;return ly(t)||r.isEqual(Nv.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((function(a){var o=i.ji(t,a);return i.zi(t,o,n,r)?i.Qi(e,t):(rv()<=At.DEBUG&&iv("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),by(t)),i.Wi(e,o,t,Bv(r,-1)))}))}},{key:"ji",value:function(e,t){var n=new Gm(_y(e));return t.forEach((function(t,r){wy(e,r)&&(n=n.add(r))})),n}},{key:"zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Qi",value:function(e,t){return rv()<=At.DEBUG&&iv("QueryEngine","Using full collection scan to execute query:",by(t)),this.Ui.getDocumentsMatchingQuery(e,t,Vv.min())}},{key:"Wi",value:function(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),dx=function(){function e(t,n,r,i){w(this,e),this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new Vm(Iv),this.Yi=new Ey((function(e){return ty(e)}),ny),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}return E(e,[{key:"tr",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ww(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ji)}))}}]),e}();function px(e,t,n,r){return new dx(e,t,n,r)}function vx(e,t){return mx.apply(this,arguments)}function mx(){return mx=Et(_t().mark((function e(t,n){var r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lv(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.tr(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Ly(),u=f(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,h=f(c.mutations);try{for(h.s();!(l=h.n()).done;){var d=l.value;s=s.add(d.key)}}catch(b){h.e(b)}finally{h.f()}}}catch(b){u.e(b)}finally{u.f()}var p,v=f(n);try{for(v.s();!(p=v.n()).done;){var m=p.value;o.push(m.batchId);var g,y=f(m.mutations);try{for(y.s();!(g=y.n()).done;){var k=g.value;s=s.add(k.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){v.e(b)}finally{v.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{er:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),mx.apply(this,arguments)}function gx(e,t){var n=lv(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Hv.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);cv(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Ly(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function yx(e){var t=lv(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Bs.getLastRemoteSnapshotVersion(e)}))}function kx(e,t){var n=lv(e),r=t.snapshotVersion,i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Bs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Bs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(Ym.EMPTY_BYTE_STRING,Nv.min()).withLastLimboFreeSnapshotVersion(Nv.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Bs.updateTargetData(e,c))}}));var s=Sy(),u=Ly();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(bx(e,a,t.documentUpdates).next((function(e){s=e.nr,u=e.sr}))),!r.isEqual(Nv.min())){var c=n.Bs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Hv.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Ji=i,e}))}function bx(e,t,n){var r=Ly(),i=Ly();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Sy();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Nv.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):iv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{nr:r,sr:i}}))}function wx(e,t){var n=lv(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function xx(e,t){var n=lv(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Bs.getTargetData(e,t).next((function(i){return i?(r=i,Hv.resolve(r)):n.Bs.allocateTargetId(e).next((function(i){return r=new xb(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}function _x(e,t,n){return Ix.apply(this,arguments)}function Ix(){return Ix=Et(_t().mark((function e(t,n,r){var i,a,o;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=lv(t),a=i.Ji.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),$v(e.t1)){e.next=12;break}throw e.t1;case 12:iv("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ji=i.Ji.remove(n),i.Yi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Ix.apply(this,arguments)}function Ex(e,t,n){var r=lv(e),i=Nv.min(),a=Ly();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=lv(e),i=r.Yi.get(n);return void 0!==i?Hv.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,vy(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Hi.getDocumentsMatchingQuery(e,t,n?i:Nv.min(),n?a:Ly())})).next((function(e){return Nx(r,xy(t),e),{documents:e,ir:a}}))}))}function Tx(e,t){var n=lv(e),r=lv(n.Bs),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.le(e,t).next((function(e){return e?e.target:null}))}))}function Sx(e,t){var n=lv(e),r=n.Xi.get(t)||Nv.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Zi.getAllFromCollectionGroup(e,t,Bv(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Nx(n,t,e),e}))}function Nx(e,t,n){var r=e.Xi.get(t)||Nv.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}function Cx(e,t,n,r){return Ax.apply(this,arguments)}function Ax(){return Ax=Et(_t().mark((function e(t,n,r,i){var a,o,s,u,c,l,h,d,p,v;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=lv(t),o=Ly(),s=Sy(),u=f(r);try{for(u.s();!(c=u.n()).done;)l=c.value,h=n.rr(l.metadata.name),l.document&&(o=o.add(h)),(d=n.ur(l)).setReadTime(n.cr(l.metadata.readTime)),s=s.insert(h,d)}catch(m){u.e(m)}finally{u.f()}return p=a.Zi.newChangeBuffer({trackRemovals:!0}),e.next=7,xx(a,function(e){return vy(cy(Av.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return v=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return bx(e,p,s).next((function(t){return p.apply(e),t})).next((function(t){return a.Bs.removeMatchingKeysForTargetId(e,v.targetId).next((function(){return a.Bs.addMatchingKeys(e,o,v.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.nr,t.sr)})).next((function(){return t.nr}))}))})));case 9:case"end":return e.stop()}}),e)}))),Ax.apply(this,arguments)}function Px(e,t){return Dx.apply(this,arguments)}function Dx(){return Dx=Et(_t().mark((function e(t,n){var r,i,a,o=arguments;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Ly(),e.next=3,xx(t,vy(Pb(n.bundledQuery)));case 3:return i=e.sent,a=lv(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Xk(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.qs.saveNamedQuery(e,n);var o=i.withResumeToken(Ym.EMPTY_BYTE_STRING,t);return a.Ji=a.Ji.insert(o.targetId,o),a.Bs.updateTargetData(e,o).next((function(){return a.Bs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Bs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.qs.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Dx.apply(this,arguments)}function Rx(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function jx(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Ox(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Lx=function(){function e(t,n,r,i){w(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return E(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new hv(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(av("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Mx=function(){function e(t,n,r){w(this,e),this.targetId=t,this.state=n,this.error=r}return E(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new hv(i.error.code,i.error.message))),a?new e(t,i.state,r):(av("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Fx=function(){function e(t,n){w(this,e),this.clientId=t,this.activeTargetIds=n}return E(e,null,[{key:"ar",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Fy(),o=0;i&&o<r.activeTargetIds.length;++o)i=um(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(av("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Bx=function(){function e(t,n){w(this,e),this.clientId=t,this.onlineState=n}return E(e,null,[{key:"ar",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(av("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Ux=function(){function e(){w(this,e),this.activeTargetIds=Fy()}return E(e,[{key:"lr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"dr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"hr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Vx=function(){function e(t,n,r,i,a){w(this,e),this.window=t,this.ii=n,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Vm(Iv),this.started=!1,this.yr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=Rx(this.persistenceKey,this.wr),this.Ir=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new Ux),this.Tr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Er=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ar=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}return E(e,[{key:"start",value:function(){var e=Et(_t().mark((function e(){var t,n,r,i,a,o,s,u,c,l,h,d=this;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.$i();case 2:t=e.sent,n=f(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.wr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Rx(this.persistenceKey,i)))&&(o=Fx.ar(i,a))&&(this.gr=this.gr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Pr(),(s=this.storage.getItem(this.vr))&&(u=this.br(s))&&this.Vr(u),c=f(this.yr);try{for(c.s();!(l=c.n()).done;)h=l.value,this.mr(h)}catch(p){c.e(p)}finally{c.f()}this.yr=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ir,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Sr(this.gr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.gr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Dr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Dr(e,t,n),this.Cr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Ox(this.persistenceKey,e));if(n){var r=Mx.ar(e,n);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Nr.dr(e),this.Pr()}},{key:"isLocalQueryTarget",value:function(e){return this.Nr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Ox(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.kr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Cr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Mr(e)}},{key:"notifyBundleLoaded",value:function(e){this.$r(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return iv("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){iv("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){iv("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"mr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(iv("SharedClientState","EVENT",n.key,n.newValue),n.key===this.pr)return void av("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(Et(_t().mark((function e(){var r,i,a,o,s,u,c;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.Tr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Or(n.key),e.abrupt("return",t.Fr(r,null));case 6:if(!(i=t.Br(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Fr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.Er.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Lr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.qr(a));case 16:e.next=41;break;case 18:if(!t.Ar.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Ur(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.vr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.br(n.newValue))){e.next=30;break}return e.abrupt("return",t.Vr(s));case 30:e.next=41;break;case 32:if(n.key!==t.Ir){e.next=37;break}u=function(e){var t=am.ct;if(null!=e)try{var n=JSON.parse(e);cv("number"==typeof n),t=n}catch(e){av("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==am.ct&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.Rr){e.next=41;break}return c=t.Gr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Qr(e)})));case 41:e.next=44;break;case 43:t.yr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Nr",get:function(){return this.gr.get(this.wr)}},{key:"Pr",value:function(){this.setItem(this.pr,this.Nr.hr())}},{key:"Dr",value:function(e,t,n){var r=new Lx(this.currentUser,e,t,n),i=jx(this.persistenceKey,this.currentUser,e);this.setItem(i,r.hr())}},{key:"Cr",value:function(e){var t=jx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Mr",value:function(e){var t={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(t))}},{key:"kr",value:function(e,t,n){var r=Ox(this.persistenceKey,e),i=new Mx(e,t,n);this.setItem(r,i.hr())}},{key:"$r",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}},{key:"Or",value:function(e){var t=this.Tr.exec(e);return t?t[1]:null}},{key:"Br",value:function(e,t){var n=this.Or(e);return Fx.ar(n,t)}},{key:"Lr",value:function(e,t){var n=this.Er.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Lx.ar(new ev(i),r,t)}},{key:"Ur",value:function(e,t){var n=this.Ar.exec(e),r=Number(n[1]);return Mx.ar(r,t)}},{key:"br",value:function(e){return Bx.ar(e)}},{key:"Gr",value:function(e){return JSON.parse(e)}},{key:"qr",value:function(){var e=Et(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.jr(t.batchId,t.state,t.error));case 2:iv("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Kr",value:function(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}},{key:"Fr",value:function(e,t){var n=this,r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),a=this.Sr(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Wr(o,s).then((function(){n.gr=r}))}},{key:"Vr",value:function(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Sr",value:function(e){var t=Fy();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),zx=function(){function e(){w(this,e),this.Hr=new Ux,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return E(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Jr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Hr.dr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Jr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Hr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Hr=new Ux,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),qx=function(){function e(){w(this,e)}return E(e,[{key:"Yr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Gx=function(){function e(){var t=this;w(this,e),this.Xr=function(){return t.Zr()},this.eo=function(){return t.no()},this.so=[],this.io()}return E(e,[{key:"Yr",value:function(e){this.so.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}},{key:"io",value:function(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}},{key:"Zr",value:function(){iv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=f(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"no",value:function(){iv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=f(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Kx=null;function Wx(){return null===Kx?Kx=268435456+Math.round(2147483648*Math.random()):Kx++,"0x"+Kx.toString(16)}var Hx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Qx=function(){function e(t){w(this,e),this.ro=t.ro,this.oo=t.oo}return E(e,[{key:"uo",value:function(e){this.co=e}},{key:"ao",value:function(e){this.ho=e}},{key:"onMessage",value:function(e){this.lo=e}},{key:"close",value:function(){this.oo()}},{key:"send",value:function(e){this.ro(e)}},{key:"fo",value:function(){this.co()}},{key:"wo",value:function(e){this.ho(e)}},{key:"_o",value:function(e){this.lo(e)}}]),e}(),Yx="WebChannelConnection",Xx=function(e){S(n,e);var t=P(n);function n(e){var r;return w(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return E(n,[{key:"Ao",value:function(e,t,n,r){var i=Wx();return new Promise((function(a,o){var s=new Xp;s.setWithCredentials(!0),s.listenOnce(Kp.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Gp.NO_ERROR:var t=s.getResponseJson();iv(Yx,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Gp.TIMEOUT:iv(Yx,"RPC '".concat(e,"' ").concat(i," timed out")),o(new hv(fv.DEADLINE_EXCEEDED,"Request time out"));break;case Gp.HTTP_ERROR:var n=s.getStatus();if(iv(Yx,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(fv).indexOf(t)>=0?t:fv.UNKNOWN}(u.status);o(new hv(c,u.message))}else o(new hv(fv.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new hv(fv.UNAVAILABLE,"Connection failed."));break;default:uv()}}finally{iv(Yx,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);iv(Yx,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"Ro",value:function(e,t,n){var r=Wx(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=zp(),o=qp(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.xmlHttpFactory=new Qp({})),this.Eo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var c=i.join("");iv(Yx,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);var l=a.createWebChannel(c,s),f=!1,h=!1,d=new Qx({ro:function(t){h?iv(Yx,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(iv(Yx,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),iv(Yx,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},oo:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,Yp.EventType.OPEN,(function(){h||iv(Yx,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,Yp.EventType.CLOSE,(function(){h||(h=!0,iv(Yx,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.wo())})),p(l,Yp.EventType.ERROR,(function(t){h||(h=!0,ov(Yx,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.wo(new hv(fv.UNAVAILABLE,"The operation could not be completed")))})),p(l,Yp.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];cv(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){iv(Yx,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=vk[e];if(void 0!==t)return Ik(t)}(s),c=o.message;void 0===u&&(u=fv.INTERNAL,c="Unknown error status: "+s+" with message "+o.message),h=!0,d.wo(new hv(u,c)),l.close()}else iv(Yx,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d._o(i)}})),p(o,Wp.STAT_EVENT,(function(t){t.stat===Hp.PROXY?iv(Yx,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Hp.NOPROXY&&iv(Yx,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.fo()}),0),d}}]),n}(function(){function e(t){w(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.mo=n+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return E(e,[{key:"po",get:function(){return!1}},{key:"Io",value:function(e,t,n,r,i){var a=Wx(),o=this.To(e,t);iv("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={};return this.Eo(s,r,i),this.Ao(e,o,s,n).then((function(t){return iv("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw ov("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,a){return this.Io(e,t,n,r,i)}},{key:"Eo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+tv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"To",value:function(e,t){var n=Hx[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}]),e}());function Jx(){return"undefined"!=typeof window?window:null}function $x(){return"undefined"!=typeof document?document:null}function Zx(e){return new Kk(e,!0)}var e_=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;w(this,e),this.ii=t,this.timerId=n,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}return E(e,[{key:"reset",value:function(){this.So=0}},{key:"xo",value:function(){this.So=this.Vo}},{key:"No",value:function(e){var t=this;this.cancel();var n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&iv("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,(function(){return t.Co=Date.now(),e()})),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}},{key:"Mo",value:function(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}},{key:"cancel",value:function(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"ko",value:function(){return(Math.random()-.5)*this.So}}]),e}(),t_=function(){function e(t,n,r,i,a,o,s,u){w(this,e),this.ii=t,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new e_(t,n)}return E(e,[{key:"Uo",value:function(){return 1===this.state||5===this.state||this.Ko()}},{key:"Ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Go()}},{key:"stop",value:function(){var e=Et(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Uo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Qo",value:function(){this.state=0,this.qo.reset()}},{key:"jo",value:function(){var e=this;this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(function(){return e.zo()})))}},{key:"Wo",value:function(e){this.Ho(),this.stream.send(e)}},{key:"zo",value:function(){var e=Et(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"Jo",value:function(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"close",value:function(){var e=Et(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==t?this.qo.reset():n&&n.code===fv.RESOURCE_EXHAUSTED?(av(n.toString()),av("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===fv.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.ao(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=L(t,2),i=r[0],a=r[1];e.Fo===n&&e.Zo(i,a)}),(function(n){t((function(){var t=new hv(fv.UNKNOWN,"Fetching auth token failed: "+n.message);return e.tu(t)}))}))}},{key:"Zo",value:function(e,t){var n=this,r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((function(){r((function(){return n.state=2,n.Lo=n.ii.enqueueAfterDelay(n.Oo,1e4,(function(){return n.Ko()&&(n.state=3),Promise.resolve()})),n.listener.uo()}))})),this.stream.ao((function(e){r((function(){return n.tu(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Go",value:function(){var e=this;this.state=5,this.qo.No(Et(_t().mark((function t(){return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"tu",value:function(e){return iv("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Xo",value:function(e){var t=this;return function(n){t.ii.enqueueAndForget((function(){return t.Fo===e?n():(iv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),n_=function(e){S(n,e);var t=P(n);function n(e,r,i,a,o,s){var u;return w(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return E(n,[{key:"eu",value:function(e,t){return this.connection.Ro("Listen",e,t)}},{key:"onMessage",value:function(e){this.qo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:uv()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(cv(void 0===t||"string"==typeof t),Ym.fromBase64String(t||"")):(cv(void 0===t||t instanceof Uint8Array),Ym.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?fv.UNKNOWN:Ik(e.code);return new hv(t,e.message||"")}(o);n=new Mk(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=eb(e,u.document.name),l=Xk(u.document.updateTime),f=u.document.createTime?Xk(u.document.createTime):Nv.min(),h=new Tg({mapValue:{fields:u.document.fields}}),d=Ng.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new Ok(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var g=eb(e,m.document),y=m.readTime?Xk(m.readTime):Nv.min(),k=Ng.newNoDocument(g,y),b=m.removedTargetIds||[];n=new Ok([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=eb(e,w.document),_=w.removedTargetIds||[];n=new Ok([],_,x,null)}else{if(!("filter"in t))return uv();t.filter;var I=t.filter;I.targetId;var E=I.count,T=void 0===E?0:E,S=I.unchangedNames,N=new xk(T,S),C=I.targetId;n=new Lk(C,N)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Nv.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Nv.min():t.readTime?Xk(t.readTime):Nv.min()}(e);return this.listener.nu(t,n)}},{key:"su",value:function(e){var t={};t.database=rb(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=ry(r)?{documents:lb(e,r)}:{query:fb(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Qk(e,t.resumeToken);var i=Wk(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(Nv.min())>0){n.readTime=Hk(e,t.snapshotVersion.toTimestamp());var a=Wk(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return uv()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}},{key:"iu",value:function(e){var t={};t.database=rb(this.serializer),t.removeTarget=e,this.Wo(t)}}]),n}(t_),r_=function(e){S(n,e);var t=P(n);function n(e,r,i,a,o,s){var u;return w(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.ru=!1,u}return E(n,[{key:"ou",get:function(){return this.ru}},{key:"start",value:function(){this.ru=!1,this.lastStreamToken=void 0,nr(N(n.prototype),"start",this).call(this)}},{key:"Yo",value:function(){this.ru&&this.uu([])}},{key:"eu",value:function(e,t){return this.connection.Ro("Write",e,t)}},{key:"onMessage",value:function(e){if(cv(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();var t=function(e,t){return e&&e.length>0?(cv(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Xk(e.updateTime):Xk(t);return n.isEqual(Nv.min())&&(n=Xk(t)),new tk(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Xk(e.commitTime);return this.listener.cu(n,t)}return cv(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}},{key:"hu",value:function(){var e={};e.database=rb(this.serializer),this.Wo(e)}},{key:"uu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return ub(t.serializer,e)}))};this.Wo(n)}}]),n}(t_),i_=function(e){S(n,e);var t=P(n);function n(e,r,i,a){var o;return w(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.lu=!1,o}return E(n,[{key:"fu",value:function(){if(this.lu)throw new hv(fv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Io",value:function(e,t,n){var r=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=L(i,2),o=a[0],s=a[1];return r.connection.Io(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===fv.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new hv(fv.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r){var i=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=L(a,2),s=o[0],u=o[1];return i.connection.vo(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===fv.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new hv(fv.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.lu=!0}}]),n}(function(){return E((function e(){w(this,e)}))}());var a_=function(){function e(t,n){w(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}return E(e,[{key:"gu",value:function(){var e=this;0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e._u=null,e.pu("Backend didn't respond within 10 seconds."),e.yu("Offline"),Promise.resolve()})))}},{key:"Iu",value:function(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}},{key:"set",value:function(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}},{key:"yu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"pu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(av(t),this.mu=!1):iv("OnlineStateTracker",t)}},{key:"Tu",value:function(){null!==this._u&&(this._u.cancel(),this._u=null)}}]),e}(),o_=E((function e(t,n,r,i,a){var o=this;w(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr((function(e){r.enqueueAndForget(Et(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=g_(o),!e.t0){e.next=5;break}return iv("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Et(_t().mark((function e(t){var n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=lv(t)).vu.add(4),e.next=4,c_(n);case 4:return n.bu.set("Unknown"),n.vu.delete(4),e.next=8,s_(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.bu=new a_(r,i)}));function s_(e){return u_.apply(this,arguments)}function u_(){return(u_=Et(_t().mark((function e(t){var n,r,i;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g_(t)){e.next=18;break}n=f(t.Ru),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function c_(e){return l_.apply(this,arguments)}function l_(){return(l_=Et(_t().mark((function e(t){var n,r,i;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=f(t.Ru),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function f_(e,t){var n=lv(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),m_(n)?v_(n):W_(n).Ko()&&d_(n,t))}function h_(e,t){var n=lv(e),r=W_(n);n.Au.delete(t),r.Ko()&&p_(n,t),0===n.Au.size&&(r.Ko()?r.jo():g_(n)&&n.bu.set("Unknown"))}function d_(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Nv.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}W_(e).su(t)}function p_(e,t){e.Vu.qt(t),W_(e).iu(t)}function v_(e){e.Vu=new Bk({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},le:function(t){return e.Au.get(t)||null},ue:function(){return e.datastore.serializer.databaseId}}),W_(e).start(),e.bu.gu()}function m_(e){return g_(e)&&!W_(e).Uo()&&e.Au.size>0}function g_(e){return 0===lv(e).vu.size}function y_(e){e.Vu=void 0}function k_(e){return b_.apply(this,arguments)}function b_(){return(b_=Et(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Au.forEach((function(e,n){d_(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w_(e,t){return x_.apply(this,arguments)}function x_(){return(x_=Et(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y_(t),m_(t)?(t.bu.Iu(n),v_(t)):t.bu.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function __(e,t,n){return I_.apply(this,arguments)}function I_(){return I_=Et(_t().mark((function e(t,n,r){var i;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.bu.set("Online"),!(n instanceof Mk&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Et(_t().mark((function e(t,n){var r,i,a,o;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=f(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Au.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Au.delete(o),t.Vu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),iv("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,E_(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Ok?t.Vu.Ht(n):n instanceof Lk?t.Vu.ne(n):t.Vu.Xt(n),r.isEqual(Nv.min())){e.next=29;break}return e.prev=14,e.next=17,yx(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Vu.ce(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.Au.get(t);if(r){e.Au.set(t,r.withResumeToken(Ym.EMPTY_BYTE_STRING,r.snapshotVersion)),p_(e,t);var i=new xb(r.target,t,n,r.sequenceNumber);d_(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),iv("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,E_(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),I_.apply(this,arguments)}function E_(e,t,n){return T_.apply(this,arguments)}function T_(){return(T_=Et(_t().mark((function e(t,n,r){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($v(n)){e.next=2;break}throw n;case 2:return t.vu.add(1),e.next=5,c_(t);case 5:t.bu.set("Offline"),r||(r=function(){return yx(t.localStore)}),t.asyncQueue.enqueueRetryable(Et(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return iv("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.vu.delete(1),e.next=6,s_(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S_(e,t){return t().catch((function(n){return E_(e,n,t)}))}function N_(e){return C_.apply(this,arguments)}function C_(){return(C_=Et(_t().mark((function e(t){var n,r,i,a;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=lv(t),r=H_(n),i=n.Eu.length>0?n.Eu[n.Eu.length-1].batchId:-1;case 2:if(!A_(n)){e.next=19;break}return e.prev=3,e.next=6,wx(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Eu.length&&r.jo(),e.abrupt("break",19);case 10:i=a.batchId,P_(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,E_(n,e.t0);case 17:e.next=2;break;case 19:D_(n)&&R_(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function A_(e){return g_(e)&&e.Eu.length<10}function P_(e,t){e.Eu.push(t);var n=H_(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function D_(e){return g_(e)&&!H_(e).Uo()&&e.Eu.length>0}function R_(e){H_(e).start()}function j_(e){return O_.apply(this,arguments)}function O_(){return(O_=Et(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H_(t).hu();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L_(e){return M_.apply(this,arguments)}function M_(){return(M_=Et(_t().mark((function e(t){var n,r,i,a;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=H_(t),r=f(t.Eu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.uu(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F_(e,t,n){return B_.apply(this,arguments)}function B_(){return(B_=Et(_t().mark((function e(t,n,r){var i,a;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Eu.shift(),a=bk.from(i,n,r),e.next=3,S_(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,N_(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U_(e,t){return V_.apply(this,arguments)}function V_(){return V_=Et(_t().mark((function e(t,n){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&H_(t).ou,!e.t0){e.next=4;break}return e.next=4,function(){var e=Et(_t().mark((function e(t,n){var r,i;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_k(i=n.code)||i===fv.ABORTED){e.next=7;break}return r=t.Eu.shift(),H_(t).Qo(),e.next=5,S_(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,N_(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:D_(t)&&R_(t);case 5:case"end":return e.stop()}}),e)}))),V_.apply(this,arguments)}function z_(e,t){return q_.apply(this,arguments)}function q_(){return(q_=Et(_t().mark((function e(t,n){var r,i;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=lv(t)).asyncQueue.verifyOperationInProgress(),iv("RemoteStore","RemoteStore received new credentials"),i=g_(r),r.vu.add(3),e.next=6,c_(r);case 6:return i&&r.bu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.vu.delete(3),e.next=12,s_(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G_(e,t){return K_.apply(this,arguments)}function K_(){return(K_=Et(_t().mark((function e(t,n){var r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=lv(t),!n){e.next=7;break}return r.vu.delete(2),e.next=5,s_(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.vu.add(2),e.next=12,c_(r);case 12:r.bu.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W_(e){return e.Su||(e.Su=function(e,t,n){var r=lv(e);return r.fu(),new n_(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:k_.bind(null,e),ao:w_.bind(null,e),nu:__.bind(null,e)}),e.Ru.push(function(){var t=Et(_t().mark((function t(n){return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Su.Qo(),m_(e)?v_(e):e.bu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Su.stop();case 6:y_(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Su}function H_(e){return e.Du||(e.Du=function(e,t,n){var r=lv(e);return r.fu(),new r_(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:j_.bind(null,e),ao:U_.bind(null,e),au:L_.bind(null,e),cu:F_.bind(null,e)}),e.Ru.push(function(){var t=Et(_t().mark((function t(n){return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Du.Qo(),t.next=4,N_(e);case 4:t.next=9;break;case 6:return t.next=8,e.Du.stop();case 8:e.Eu.length>0&&(iv("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Du}var Q_=function(){function e(t,n,r,i,a){w(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new dv,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return E(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new hv(fv.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Y_(e,t){if(av("AsyncQueue","".concat(t,": ").concat(e)),$v(e))return new hv(fv.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var X_=function(){function e(t){w(this,e),this.comparator=t?function(e,n){return t(e,n)||Rv.comparator(e.key,n.key)}:function(e,t){return Rv.comparator(e.key,t.key)},this.keyedMap=Cy(),this.sortedSet=new Vm(this.comparator)}return E(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),J_=function(){function e(){w(this,e),this.Cu=new Vm(Rv.comparator)}return E(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):uv():this.Cu=this.Cu.insert(t,e)}},{key:"xu",value:function(){var e=[];return this.Cu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),$_=function(){function e(t,n,r,i,a,o,s,u,c){w(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return E(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,X_.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),Z_=E((function e(){w(this,e),this.Nu=void 0,this.listeners=[]})),eI=E((function e(){w(this,e),this.queries=new Ey((function(e){return ky(e)}),yy),this.onlineState="Unknown",this.ku=new Set}));function tI(e,t){return nI.apply(this,arguments)}function nI(){return nI=Et(_t().mark((function e(t,n){var r,i,a,o,s;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=lv(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Z_),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Nu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=Y_(e.t0,"Initialization of query '".concat(by(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Mu(r.onlineState),o.Nu&&n.$u(o.Nu)&&sI(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),nI.apply(this,arguments)}function rI(e,t){return iI.apply(this,arguments)}function iI(){return iI=Et(_t().mark((function e(t,n){var r,i,a,o,s;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=lv(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),iI.apply(this,arguments)}function aI(e,t){var n,r=lv(e),i=!1,a=f(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=f(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.$u(o)&&(i=!0)}}catch(h){l.e(h)}finally{l.f()}u.Nu=o}}}catch(h){a.e(h)}finally{a.f()}i&&sI(r)}function oI(e,t,n){var r=lv(e),i=r.queries.get(t);if(i){var a,o=f(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function sI(e){e.ku.forEach((function(e){e.next()}))}var uI=function(){function e(t,n,r){w(this,e),this.query=t,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}return E(e,[{key:"$u",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=f(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new $_(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),a=!0):this.qu(e,this.onlineState)&&(this.Uu(e),a=!0),this.Bu=e,a}},{key:"onError",value:function(e){this.Ou.error(e)}},{key:"Mu",value:function(e){this.onlineState=e;var t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}},{key:"qu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Lu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Uu",value:function(e){e=$_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}]),e}(),cI=function(){function e(t,n){w(this,e),this.Gu=t,this.byteLength=n}return E(e,[{key:"Qu",value:function(){return"metadata"in this.Gu}}]),e}(),lI=function(){function e(t){w(this,e),this.serializer=t}return E(e,[{key:"rr",value:function(e){return eb(this.serializer,e)}},{key:"ur",value:function(e){return e.metadata.exists?ob(this.serializer,e.document,!1):Ng.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}},{key:"cr",value:function(e){return Xk(e)}}]),e}(),fI=function(){function e(t,n,r){w(this,e),this.ju=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=hI(t)}return E(e,[{key:"zu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;var n=Av.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Wu",value:function(e){var t,n=new Map,r=new lI(this.serializer),i=f(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.rr(a.metadata.name),u=f(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||Ly()).add(s);n.set(c,l)}}catch(h){u.e(h)}finally{u.f()}}}}catch(h){i.e(h)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Et(_t().mark((function e(){var t,n,r,i,a;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cx(this.localStore,new lI(this.serializer),this.documents,this.ju.id);case 2:t=e.sent,n=this.Wu(this.documents),r=f(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Px(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function hI(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var dI=E((function e(t){w(this,e),this.key=t})),pI=E((function e(t){w(this,e),this.key=t})),vI=function(){function e(t,n){w(this,e),this.query=t,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Ly(),this.mutatedKeys=Ly(),this.tc=_y(t),this.ec=new X_(this.tc)}return E(e,[{key:"nc",get:function(){return this.Yu}},{key:"sc",value:function(e,t){var n=this,r=t?t.ic:new J_,i=t?t.ec:this.ec,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=wy(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.rc(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.tc(f,u)>0||c&&n.tc(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:s,mutatedKeys:a}}},{key:"rc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;var a=e.ic.xu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return uv()}};return n(e)-n(t)}(e.type,t.type)||r.tc(e.doc,t.doc)})),this.oc(n);var o=t?this.uc():[],s=0===this.Zu.size&&this.current?1:0,u=s!==this.Xu;return this.Xu=s,0!==a.length||u?{snapshot:new $_(this.query,e.ec,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}},{key:"Mu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new J_,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}},{key:"ac",value:function(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}},{key:"oc",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Yu=t.Yu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Yu=t.Yu.delete(e)})),this.current=e.current)}},{key:"uc",value:function(){var e=this;if(!this.current)return[];var t=this.Zu;this.Zu=Ly(),this.ec.forEach((function(t){e.ac(t.key)&&(e.Zu=e.Zu.add(t.key))}));var n=[];return t.forEach((function(t){e.Zu.has(t)||n.push(new pI(t))})),this.Zu.forEach((function(e){t.has(e)||n.push(new dI(e))})),n}},{key:"hc",value:function(e){this.Yu=e.ir,this.Zu=Ly();var t=this.sc(e.documents);return this.applyChanges(t,!0)}},{key:"lc",value:function(){return $_.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}]),e}(),mI=E((function e(t,n,r){w(this,e),this.query=t,this.targetId=n,this.view=r})),gI=E((function e(t){w(this,e),this.key=t,this.fc=!1})),yI=function(){function e(t,n,r,i,a,o){w(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Ey((function(e){return ky(e)}),yy),this._c=new Map,this.mc=new Set,this.gc=new Vm(Rv.comparator),this.yc=new Map,this.Ic=new Yw,this.Tc={},this.Ec=new Map,this.Ac=Iw.Mn(),this.onlineState="Unknown",this.vc=void 0}return E(e,[{key:"isPrimaryClient",get:function(){return!0===this.vc}}]),e}();function kI(e,t){return bI.apply(this,arguments)}function bI(){return bI=Et(_t().mark((function e(t,n){var r,i,a,o,s,u;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=hE(t),!(o=r.wc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.lc(),e.next=15;break;case 6:return e.next=8,xx(r.localStore,vy(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,wI(r,n,i,"current"===u,s.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&f_(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),bI.apply(this,arguments)}function wI(e,t,n,r,i){return xI.apply(this,arguments)}function xI(){return xI=Et(_t().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Rc=function(e,n,r){return function(){var e=Et(_t().mark((function e(t,n,r,i){var a,o,s;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.sc(r),e.t0=a.zi,!e.t0){e.next=6;break}return e.next=5,Ex(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.sc(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(zI(t,n.targetId,s.cc),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Ex(t.localStore,n,!0);case 3:return o=e.sent,s=new vI(n,o.ir),u=s.sc(o.documents),c=jk.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),zI(t,r,l.cc),f=new mI(n,r,s),e.abrupt("return",(t.wc.set(n,f),t._c.has(r)?t._c.get(r).push(n):t._c.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),xI.apply(this,arguments)}function _I(e,t){return II.apply(this,arguments)}function II(){return(II=Et(_t().mark((function e(t,n){var r,i,a;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=lv(t),i=r.wc.get(n),!((a=r._c.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r._c.set(i.targetId,a.filter((function(e){return!yy(e,n)}))),void r.wc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,_x(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),h_(r.remoteStore,i.targetId),UI(r,i.targetId)})).catch(Kv);case 9:e.next=14;break;case 11:return UI(r,i.targetId),e.next=14,_x(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function EI(e,t,n){return TI.apply(this,arguments)}function TI(){return TI=Et(_t().mark((function e(t,n,r){var i,a,o;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dE(t),e.prev=1,e.next=4,function(e,t){var n,r,i=lv(e),a=Sv.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Ly());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=Sy(),u=Ly();return i.Zi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=f(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=uk(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new fk(c.key,l,Sg(l.value.mapValue),nk.exists(!0)))}}catch(h){u.e(h)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Ay(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Tc[e.currentUser.toKey()];r||(r=new Vm(Iv)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,KI(i,a.changes);case 9:return e.next=11,N_(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Y_(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),TI.apply(this,arguments)}function SI(e,t){return NI.apply(this,arguments)}function NI(){return(NI=Et(_t().mark((function e(t,n){var r,i;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lv(t),e.prev=1,e.next=4,kx(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.yc.get(t);n&&(cv(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.fc=!0:e.modifiedDocuments.size>0?cv(n.fc):e.removedDocuments.size>0&&(cv(n.fc),n.fc=!1))})),e.next=8,KI(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Kv(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function CI(e,t,n){var r=lv(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.wc.forEach((function(e,n){var r=n.view.Mu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=lv(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=f(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Mu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&sI(n)}(r.eventManager,t),i.length&&r.dc.nu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function AI(e,t,n){return PI.apply(this,arguments)}function PI(){return PI=Et(_t().mark((function e(t,n,r){var i,a,o,s,u,c;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=lv(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.yc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Vm(Rv.comparator)).insert(o,Ng.newNoDocument(o,Nv.min())),u=Ly().add(o),c=new Rk(Nv.min(),new Map,new Vm(Iv),s,u),e.next=9,SI(i,c);case 9:i.gc=i.gc.remove(o),i.yc.delete(n),GI(i),e.next=16;break;case 14:return e.next=16,_x(i.localStore,n,!1).then((function(){return UI(i,n,r)})).catch(Kv);case 16:case"end":return e.stop()}}),e)}))),PI.apply(this,arguments)}function DI(e,t){return RI.apply(this,arguments)}function RI(){return(RI=Et(_t().mark((function e(t,n){var r,i,a;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lv(t),i=n.batch.batchId,e.prev=1,e.next=4,gx(r.localStore,n);case 4:return a=e.sent,BI(r,i,null),FI(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,KI(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Kv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function jI(e,t,n){return OI.apply(this,arguments)}function OI(){return(OI=Et(_t().mark((function e(t,n,r){var i,a;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lv(t),e.prev=1,e.next=4,function(e,t){var n=lv(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return cv(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,BI(i,n,r),FI(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,KI(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Kv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function LI(e,t){return MI.apply(this,arguments)}function MI(){return(MI=Et(_t().mark((function e(t,n){var r,i,a,o;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g_((r=lv(t)).remoteStore)||iv("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=lv(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Ec.get(i)||[]).push(n),r.Ec.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Y_(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function FI(e,t){(e.Ec.get(t)||[]).forEach((function(e){e.resolve()})),e.Ec.delete(t)}function BI(e,t,n){var r=lv(e),i=r.Tc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function UI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=f(e._c.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.wc.delete(a),n&&e.dc.Pc(a,n)}}catch(o){i.e(o)}finally{i.f()}e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((function(t){e.Ic.containsKey(t)||VI(e,t)}))}function VI(e,t){e.mc.delete(t.path.canonicalString());var n=e.gc.get(t);null!==n&&(h_(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),GI(e))}function zI(e,t,n){var r,i=f(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof dI?(e.Ic.addReference(a.key,t),qI(e,a)):a instanceof pI?(iv("SyncEngine","Document no longer in limbo: "+a.key),e.Ic.removeReference(a.key,t),e.Ic.containsKey(a.key)||VI(e,a.key)):uv()}}catch(o){i.e(o)}finally{i.f()}}function qI(e,t){var n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(iv("SyncEngine","New document in limbo: "+n),e.mc.add(r),GI(e))}function GI(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){var t=e.mc.values().next().value;e.mc.delete(t);var n=new Rv(Av.fromString(t)),r=e.Ac.next();e.yc.set(r,new gI(n)),e.gc=e.gc.insert(n,r),f_(e.remoteStore,new xb(vy(cy(n.path)),r,"TargetPurposeLimboResolution",am.ct))}}function KI(e,t,n){return WI.apply(this,arguments)}function WI(){return WI=Et(_t().mark((function e(t,n,r){var i,a,o,s;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=lv(t),a=[],o=[],s=[],e.t0=i.wc.isEmpty(),e.t0){e.next=9;break}return i.wc.forEach((function(e,t){s.push(i.Rc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=fx.Li(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.dc.nu(a),e.next=9,function(){var e=Et(_t().mark((function e(t,n){var r,i,a,o,s,u,c,l;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lv(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Hv.forEach(n,(function(t){return Hv.forEach(t.Fi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Hv.forEach(t.Bi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),$v(e.t0)){e.next=10;break}throw e.t0;case 10:iv("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=f(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Ji.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Ji=r.Ji.insert(s,l))}catch(h){i.e(h)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),WI.apply(this,arguments)}function HI(e,t){return QI.apply(this,arguments)}function QI(){return(QI=Et(_t().mark((function e(t,n){var r,i;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=lv(t)).currentUser.isEqual(n)){e.next=11;break}return iv("SyncEngine","User change. New user:",n.toKey()),e.next=5,vx(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ec.forEach((function(e){e.forEach((function(e){e.reject(new hv(fv.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,KI(r,i.er);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function YI(e,t){var n=lv(e),r=n.yc.get(t);if(r&&r.fc)return Ly().add(r.key);var i=Ly(),a=n._c.get(t);if(!a)return i;var o,s=f(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.wc.get(u);i=i.unionWith(c.view.nc)}}catch(l){s.e(l)}finally{s.f()}return i}function XI(e,t){return JI.apply(this,arguments)}function JI(){return(JI=Et(_t().mark((function e(t,n){var r,i,a;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lv(t),e.next=3,Ex(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.hc(i),e.abrupt("return",(r.isPrimaryClient&&zI(r,n.targetId,a.cc),a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $I(e,t){return ZI.apply(this,arguments)}function ZI(){return(ZI=Et(_t().mark((function e(t,n){var r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lv(t),e.abrupt("return",Sx(r.localStore,n).then((function(e){return KI(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eE(e,t,n,r){return tE.apply(this,arguments)}function tE(){return tE=Et(_t().mark((function e(t,n,r,i){var a,o;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=lv(t),e.next=3,function(e,t){var n=lv(e),r=lv(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Sn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Hv.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,N_(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(BI(a,n,i||null),FI(a,n),function(e,t){lv(lv(e).mutationQueue).Cn(t)}(a.localStore,n)):uv();case 11:return e.next=13,KI(a,o);case 13:e.next=16;break;case 15:iv("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),tE.apply(this,arguments)}function nE(e,t){return rE.apply(this,arguments)}function rE(){return(rE=Et(_t().mark((function e(t,n){var r,i,a,o,s,u,c,l;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(hE(r=lv(t)),dE(r),!0!==n||!0===r.vc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,iE(r,i.toArray());case 5:return a=e.sent,r.vc=!0,e.next=9,G_(r.remoteStore,!0);case 9:o=f(a);try{for(o.s();!(s=o.n()).done;)u=s.value,f_(r.remoteStore,u)}catch(h){o.e(h)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.vc){e.next=25;break}return c=[],l=Promise.resolve(),r._c.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return UI(r,t),_x(r.localStore,t,!0)})),h_(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,iE(r,c);case 21:return function(e){var t=lv(e);t.yc.forEach((function(e,n){h_(t.remoteStore,n)})),t.Ic.Ts(),t.yc=new Map,t.gc=new Vm(Rv.comparator)}(r),r.vc=!1,e.next=25,G_(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iE(e,t,n){return aE.apply(this,arguments)}function aE(){return aE=Et(_t().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,d,p,v,m,g,y;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=lv(t),a=[],o=[],s=f(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(h=i._c.get(c))||0===h.length){e.next=34;break}return e.next=11,xx(i.localStore,vy(h[0]));case 11:l=e.sent,d=f(h),e.prev=13,d.s();case 15:if((p=d.n()).done){e.next=24;break}return v=p.value,m=i.wc.get(v),e.next=20,XI(i,m);case 20:(g=e.sent).snapshot&&o.push(g.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Tx(i.localStore,c);case 36:return y=e.sent,e.next=39,xx(i.localStore,y);case 39:return l=e.sent,e.next=42,wI(i,oE(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.dc.nu(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),aE.apply(this,arguments)}function oE(e){return uy(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function sE(e){var t=lv(e);return lv(lv(t.localStore).persistence).$i()}function uE(e,t,n,r){return cE.apply(this,arguments)}function cE(){return cE=Et(_t().mark((function e(t,n,r,i){var a,o,s,u;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=lv(t)).vc){e.next=3;break}return e.abrupt("return",void iv("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a._c.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Sx(a.localStore,xy(o[0]));case 10:return s=e.sent,u=Rk.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Ym.EMPTY_BYTE_STRING),e.next=14,KI(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,_x(a.localStore,n,!0);case 17:return UI(a,n,i),e.abrupt("break",20);case 19:uv();case 20:case"end":return e.stop()}}),e)}))),cE.apply(this,arguments)}function lE(e,t,n){return fE.apply(this,arguments)}function fE(){return(fE=Et(_t().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,d;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=hE(t)).vc){e.next=45;break}a=f(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i._c.has(s)){e.next=10;break}return iv("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,Tx(i.localStore,s);case 12:return u=e.sent,e.next=15,xx(i.localStore,u);case 15:return c=e.sent,e.next=18,wI(i,oE(u),c.targetId,!1,c.resumeToken);case 18:f_(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=f(r),e.prev=30,d=_t().mark((function e(){var t;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.value,e.t0=i._c.has(t),!e.t0){e.next=5;break}return e.next=5,_x(i.localStore,t,!1).then((function(){h_(i.remoteStore,t),UI(i,t)})).catch(Kv);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((h=l.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])})))).apply(this,arguments)}function hE(e){var t=lv(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=SI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=YI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=AI.bind(null,t),t.dc.nu=aI.bind(null,t.eventManager),t.dc.Pc=oI.bind(null,t.eventManager),t}function dE(e){var t=lv(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=DI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=jI.bind(null,t),t}function pE(e,t,n){var r=lv(e);(function(){var e=Et(_t().mark((function e(t,n,r){var i,a,o,s,u;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=lv(e),r=Xk(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.qs.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(hI(i)),a=new fI(i,t.localStore,n.serializer),e.next=15,n.bc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.zu(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.bc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,KI(t,u.Ju,void 0);case 31:return e.next=33,function(e,t){var n=lv(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.qs.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Hu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(ov("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var vE=function(){function e(){w(this,e),this.synchronizeTabs=!1}return E(e,[{key:"initialize",value:function(){var e=Et(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=Zx(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return px(this.persistence,new hx,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new tx(rx.zs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new zx}},{key:"terminate",value:function(){var e=Et(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),mE=function(e){S(n,e);var t=P(n);function n(e,r,i){var a;return w(this,n),(a=t.call(this)).Vc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return E(n,[{key:"initialize",value:function(){var e=Et(_t().mark((function e(t){var r=this;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nr(N(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Vc.initialize(this,t);case 4:return e.next=6,dE(this.Vc.syncEngine);case 6:return e.next=8,N_(this.Vc.remoteStore);case 8:return e.next=10,this.persistence.Ii((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return px(this.persistence,new hx,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Pw(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new im(t,this.persistence);return new rm(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=lx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?mw.withCacheSize(this.cacheSizeBytes):mw.DEFAULT;return new sx(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Jx(),$x(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new zx}}]),n}(vE),gE=function(e){S(n,e);var t=P(n);function n(e,r){var i;return w(this,n),(i=t.call(this,e,r,!1)).Vc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return E(n,[{key:"initialize",value:function(){var e=Et(_t().mark((function e(t){var r,i=this;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nr(N(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Vc.syncEngine,e.t0=this.sharedClientState instanceof Vx,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={jr:eE.bind(null,r),zr:uE.bind(null,r),Wr:lE.bind(null,r),$i:sE.bind(null,r),Qr:$I.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ii(function(){var e=Et(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nE(i.Vc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=Jx();if(!Vx.D(t))throw new hv(fv.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=lx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Vx(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(mE),yE=function(){function e(){w(this,e)}return E(e,[{key:"initialize",value:function(){var e=Et(_t().mark((function e(t,n){var r=this;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return CI(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=HI.bind(null,this.syncEngine),e.next=12,G_(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new eI}},{key:"createDatastore",value:function(e){var t,n=Zx(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Xx(t));return function(e,t,n,r){return new i_(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return CI(o.syncEngine,e,0)},a=Gx.D()?new Gx:new qx,new o_(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new yI(e,t,n,r,i,a);return o&&(s.vc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Et(_t().mark((function e(t){var n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=lv(t),iv("RemoteStore","RemoteStore shutting down."),n.vu.add(5),e.next=5,c_(n);case 5:n.Pu.shutdown(),n.bu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function kE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Et(_t().mark((function r(){var i;return _t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Et(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var bE=function(){function e(t){w(this,e),this.observer=t,this.muted=!1}return E(e,[{key:"next",value:function(e){this.observer.next&&this.Sc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Sc(this.observer.error,e):av("Uncaught Error in snapshot listener:",e.toString())}},{key:"Dc",value:function(){this.muted=!0}},{key:"Sc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),wE=function(){function e(t,n){var r=this;w(this,e),this.Cc=t,this.serializer=n,this.metadata=new dv,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then((function(e){e&&e.Qu()?r.metadata.resolve(e.Gu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Gu))))}),(function(e){return r.metadata.reject(e)}))}return E(e,[{key:"close",value:function(){return this.Cc.cancel()}},{key:"getMetadata",value:function(){var e=Et(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bc",value:function(){var e=Et(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Nc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Nc",value:function(){var e=Et(_t().mark((function e(){var t,n,r,i;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.kc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.xc.decode(t),r=Number(n),isNaN(r)&&this.Mc("length string (".concat(n,") is not valid number")),e.next=9,this.$c(r);case 9:return i=e.sent,e.abrupt("return",new cI(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"kc",value:function(){var e=Et(_t().mark((function e(){var t,n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Oc()<0)){e.next=7;break}return e.next=3,this.Fc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Oc())<0&&this.Mc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$c",value:function(){var e=Et(_t().mark((function e(t){var n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Fc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Mc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.xc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mc",value:function(e){throw this.Cc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Fc",value:function(){var e=Et(_t().mark((function e(){var t,n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Cc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),xE=function(){function e(t){w(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return E(e,[{key:"lookup",value:function(){var e=Et(_t().mark((function e(t){var n,r=this;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new hv(fv.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Et(_t().mark((function e(t,n){var r,i,a,o,s,u;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lv(t),i=rb(r.serializer)+"/documents",a={documents:n.map((function(e){return Zk(r.serializer,e)}))},e.next=5,r.vo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=sb(r.serializer,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());cv(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new gk(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Et(_t().mark((function e(){var t,n=this;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Rv.fromPath(t);n.mutations.push(new yk(r,n.precondition(r)))})),e.next=7,function(){var e=Et(_t().mark((function e(t,n){var r,i,a;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lv(t),i=rb(r.serializer)+"/documents",a={writes:n.map((function(e){return ub(r.serializer,e)}))},e.next=3,r.Io("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw uv();t=Nv.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new hv(fv.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Nv.min())?nk.exists(!1):nk.updateTime(t):nk.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Nv.min()))throw new hv(fv.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return nk.updateTime(t)}return nk.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),_E=function(){function e(t,n,r,i,a){w(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new e_(this.asyncQueue,"transaction_retry")}return E(e,[{key:"run",value:function(){this.Bc-=1,this.Lc()}},{key:"Lc",value:function(){var e=this;this.qo.No(Et(_t().mark((function t(){var n,r;return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new xE(e.datastore),(r=e.qc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Uc(t)}))}))})).catch((function(t){e.Uc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"qc",value:function(e){try{var t=this.updateFunction(e);return!om(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Uc",value:function(e){var t=this;this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Lc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!_k(t)}return!1}}]),e}(),IE=function(){function e(t,n,r,i){var a=this;w(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ev.UNAUTHENTICATED,this.clientId=_v.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Et(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return iv("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return iv("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return E(e,[{key:"getConfiguration",value:function(){var e=Et(_t().mark((function e(){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new hv(fv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new dv;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Et(_t().mark((function n(){var r;return _t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Y_(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function EE(e,t){return TE.apply(this,arguments)}function TE(){return TE=Et(_t().mark((function e(t,n){var r,i;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),iv("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Et(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,vx(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),TE.apply(this,arguments)}function SE(e,t){return NE.apply(this,arguments)}function NE(){return(NE=Et(_t().mark((function e(t,n){var r,i;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,AE(t);case 3:return r=e.sent,iv("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return z_(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return z_(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function CE(e){return"FirebaseError"===e.name?e.code===fv.FAILED_PRECONDITION||e.code===fv.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function AE(e){return PE.apply(this,arguments)}function PE(){return(PE=Et(_t().mark((function e(t){var n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return iv("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,EE(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),CE(n=e.t0)){e.next=13;break}throw n;case 13:return ov("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,EE(t,new vE);case 16:e.next=21;break;case 18:return iv("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,EE(t,new vE);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function DE(e){return RE.apply(this,arguments)}function RE(){return(RE=Et(_t().mark((function e(t){return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return iv("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,SE(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return iv("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,SE(t,new yE);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jE(e){return AE(e).then((function(e){return e.persistence}))}function OE(e){return AE(e).then((function(e){return e.localStore}))}function LE(e){return DE(e).then((function(e){return e.remoteStore}))}function ME(e){return DE(e).then((function(e){return e.syncEngine}))}function FE(e){return DE(e).then((function(e){return e.datastore}))}function BE(e){return UE.apply(this,arguments)}function UE(){return(UE=Et(_t().mark((function e(t){var n,r;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,DE(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=kI.bind(null,n.syncEngine),r.onUnlisten=_I.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function VE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new dv;return e.asyncQueue.enqueueAndForget(Et(_t().mark((function i(){return _t().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new bE({next:function(a){t.enqueueAndForget((function(){return rI(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new hv(fv.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new hv(fv.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new uI(cy(n.path),a,{includeMetadataChanges:!0,Ku:!0});return tI(e,o)},i.next=3,BE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function zE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new dv;return e.asyncQueue.enqueueAndForget(Et(_t().mark((function i(){return _t().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new bE({next:function(n){t.enqueueAndForget((function(){return rI(e,o)})),n.fromCache&&"server"===r.source?i.reject(new hv(fv.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new uI(n,a,{includeMetadataChanges:!0,Ku:!0});return tI(e,o)},i.next=3,BE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function qE(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var GE=new Map;function KE(e,t,n){if(!n)throw new hv(fv.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function WE(e,t,n,r){if(!0===t&&!0===r)throw new hv(fv.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function HE(e){if(!Rv.isDocumentKey(e))throw new hv(fv.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function QE(e){if(Rv.isDocumentKey(e))throw new hv(fv.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function YE(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":uv()}function XE(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new hv(fv.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=YE(e);throw new hv(fv.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function JE(e,t){if(t<=0)throw new hv(fv.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var $E=function(){function e(t){var n,r;if(w(this,e),void 0===t.host){if(void 0!==t.ssl)throw new hv(fv.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new hv(fv.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}WE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qE(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new hv(fv.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new hv(fv.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new hv(fv.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return E(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}]),e}(),ZE=function(){function e(t,n,r,i){w(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $E({}),this._settingsFrozen=!1}return E(e,[{key:"app",get:function(){if(!this._app)throw new hv(fv.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new hv(fv.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $E(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new vv;switch(e.type){case"firstParty":return new kv(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new hv(fv.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=GE.get(e);t&&(iv("ComponentProvider","Removing Datastore"),GE.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function eT(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=XE(e,ZE))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&ov("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var s,u;if("string"==typeof i.mockUserToken)s=i.mockUserToken,u=ev.MOCK_USER;else{s=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Xe(JSON.stringify({alg:"none",type:"JWT"})),Xe(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new hv(fv.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ev(c)}e._authCredentials=new mv(new pv(s,u))}}var tT=function(){function e(t,n,r){w(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return E(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new rT(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),nT=function(){function e(t,n,r){w(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return E(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),rT=function(e){S(n,e);var t=P(n);function n(e,r,i){var a;return w(this,n),(a=t.call(this,e,r,cy(i)))._path=i,a.type="collection",a}return E(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new tT(this.firestore,null,new Rv(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(nT);function iT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=xt(e),KE("collection","path",t),e instanceof ZE){var a=Av.fromString.apply(Av,[t].concat(r));return QE(a),new rT(e,null,a)}if(!(e instanceof tT||e instanceof rT))throw new hv(fv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Av.fromString.apply(Av,[t].concat(r)));return QE(o),new rT(e.firestore,null,o)}function aT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=xt(e),1===arguments.length&&(t=_v.A()),KE("doc","path",t),e instanceof ZE){var a=Av.fromString.apply(Av,[t].concat(r));return HE(a),new tT(e,null,new Rv(a))}if(!(e instanceof tT||e instanceof rT))throw new hv(fv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Av.fromString.apply(Av,[t].concat(r)));return HE(o),new tT(e.firestore,e instanceof rT?e.converter:null,new Rv(o))}function oT(e,t){return e=xt(e),t=xt(t),(e instanceof tT||e instanceof rT)&&(t instanceof tT||t instanceof rT)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function sT(e,t){return e=xt(e),t=xt(t),e instanceof nT&&t instanceof nT&&e.firestore===t.firestore&&yy(e._query,t._query)&&e.converter===t.converter}var uT=function(){function e(){var t=this;w(this,e),this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new e_(this,"async_queue_retry"),this.Xc=function(){var e=$x();e&&iv("AsyncQueue","Visibility state changed to "+e.visibilityState),t.qo.Mo()};var n=$x();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Xc)}return E(e,[{key:"isShuttingDown",get:function(){return this.jc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Zc(),this.ta(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;var t=$x();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Zc(),this.jc)return new Promise((function(){}));var n=new dv;return this.ta((function(){return t.jc&&t.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Qc.push(e),t.ea()}))}},{key:"ea",value:function(){var e=Et(_t().mark((function e(){var t=this;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Qc.length){e.next=14;break}return e.prev=1,e.next=4,this.Qc[0]();case 4:this.Qc.shift(),this.qo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),$v(e.t0)){e.next=12;break}throw e.t0;case 12:iv("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Qc.length>0&&this.qo.No((function(){return t.ea()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ta",value:function(e){var t=this,n=this.Gc.then((function(){return t.Hc=!0,e().catch((function(e){t.Wc=e,t.Hc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw av("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Hc=!1,e}))}));return this.Gc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);var i=Q_.createAndSchedule(this,e,t,n,(function(e){return r.na(e)}));return this.zc.push(i),i}},{key:"Zc",value:function(){this.Wc&&uv()}},{key:"verifyOperationInProgress",value:function(){}},{key:"sa",value:function(){var e=Et(_t().mark((function e(){var t;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Gc,e.next=3,t;case 3:if(t!==this.Gc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ia",value:function(e){var t,n=f(this.zc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ra",value:function(e){var t=this;return this.sa().then((function(){t.zc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=f(t.zc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.sa()}))}},{key:"oa",value:function(e){this.Yc.push(e)}},{key:"na",value:function(e){var t=this.zc.indexOf(e);this.zc.splice(t,1)}}]),e}();function cT(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=f(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var lT=function(){function e(){w(this,e),this._progressObserver={},this._taskCompletionResolver=new dv,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return E(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),fT=function(e){S(n,e);var t=P(n);function n(e,r,i,a){var o;return w(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new uT,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return E(n,[{key:"_terminate",value:function(){return this._firestoreClient||dT(this),this._firestoreClient.terminate()}}]),n}(ZE);function hT(e){return e._firestoreClient||dT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function dT(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new rg(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,qE(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new IE(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function pT(e,t,n){var r=new dv;return e.asyncQueue.enqueue(Et(_t().mark((function i(){var a;return _t().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,EE(e,n);case 3:return i.next=5,SE(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),CE(a=i.t0)){i.next=13;break}throw a;case 13:ov("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function vT(e){return function(e){return e.asyncQueue.enqueue(Et(_t().mark((function t(){var n,r;return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,jE(e);case 2:return n=t.sent,t.next=5,LE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=lv(e);return t.vu.delete(0),s_(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(hT(e=XE(e,fT)))}function mT(e){return function(e){return e.asyncQueue.enqueue(Et(_t().mark((function t(){var n,r;return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,jE(e);case 2:return n=t.sent,t.next=5,LE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Et(_t().mark((function e(t){var n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=lv(t)).vu.add(0),e.next=4,c_(n);case 4:n.bu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(hT(e=XE(e,fT)))}function gT(e,t){var n=hT(e=XE(e,fT)),r=new lT;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new wE(e,t)}(function(e,t){if(e instanceof Uint8Array)return kE(e,t);if(e instanceof ArrayBuffer)return kE(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?Sk().encode(e):e),t)}(n,Zx(t));e.asyncQueue.enqueueAndForget(Et(_t().mark((function t(){return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=pE,t.next=3,ME(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function yT(e,t){return function(e,t){return e.asyncQueue.enqueue(Et(_t().mark((function n(){return _t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=lv(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.qs.getNamedQuery(e,t)}))},n.next=3,OE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(hT(e=XE(e,fT)),t).then((function(t){return t?new nT(e,null,t.query):null}))}function kT(e){if(e._initialized||e._terminated)throw new hv(fv.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var bT=function(){function e(t){w(this,e),this._byteString=t}return E(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Ym.fromBase64String(t))}catch(t){throw new hv(fv.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Ym.fromUint8Array(t))}}]),e}(),wT=function(){function e(){w(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new hv(fv.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dv(n)}return E(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var xT=E((function e(t){w(this,e),this._methodName=t})),_T=function(){function e(t,n){if(w(this,e),!isFinite(t)||t<-90||t>90)throw new hv(fv.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new hv(fv.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return E(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Iv(this._lat,e._lat)||Iv(this._long,e._long)}}]),e}(),IT=/^__.*__$/,ET=function(){function e(t,n,r){w(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return E(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new fk(e,this.data,this.fieldMask,t,this.fieldTransforms):new lk(e,this.data,t,this.fieldTransforms)}}]),e}(),TT=function(){function e(t,n,r){w(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return E(e,[{key:"toMutation",value:function(e,t){return new fk(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function ST(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw uv()}}var NT=function(){function e(t,n,r,i,a,o){w(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return E(e,[{key:"path",get:function(){return this.settings.path}},{key:"ca",get:function(){return this.settings.ca}},{key:"aa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}},{key:"da",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}},{key:"wa",value:function(e){return this.aa({path:void 0,la:!0})}},{key:"_a",value:function(e){return QT(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ua",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.fa(this.path.get(e))}},{key:"fa",value:function(e){if(0===e.length)throw this._a("Document fields must not be empty");if(ST(this.ca)&&IT.test(e))throw this._a('Document fields cannot begin and end with "__"')}}]),e}(),CT=function(){function e(t,n,r){w(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Zx(t)}return E(e,[{key:"ya",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new NT({ca:e,methodName:t,ga:n,path:Dv.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function AT(e){var t=e._freezeSettings(),n=Zx(e._databaseId);return new CT(e._databaseId,!!t.ignoreUndefinedProperties,n)}function PT(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ya(a.merge||a.mergeFields?2:0,t,n,i);GT("Data must be an object, but it was:",o,r);var s,u,c=zT(r,o);if(a.merge)s=new Hm(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,h=[],d=f(a.mergeFields);try{for(d.s();!(l=d.n()).done;){var p=KT(t,l.value,n);if(!o.contains(p))throw new hv(fv.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));YT(h,p)||h.push(p)}}catch(v){d.e(v)}finally{d.f()}s=new Hm(h),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new ET(new Tg(c),s,u)}var DT=function(e){S(n,e);var t=P(n);function n(){return w(this,n),t.apply(this,arguments)}return E(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(xT);function RT(e,t,n){return new NT({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var jT=function(e){S(n,e);var t=P(n);function n(){return w(this,n),t.apply(this,arguments)}return E(n,[{key:"_toFieldTransform",value:function(e){return new ek(e.path,new Wy)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(xT),OT=function(e){S(n,e);var t=P(n);function n(e,r){var i;return w(this,n),(i=t.call(this,e)).pa=r,i}return E(n,[{key:"_toFieldTransform",value:function(e){var t=RT(this,e,!0),n=this.pa.map((function(e){return VT(e,t)})),r=new Hy(n);return new ek(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(xT),LT=function(e){S(n,e);var t=P(n);function n(e,r){var i;return w(this,n),(i=t.call(this,e)).pa=r,i}return E(n,[{key:"_toFieldTransform",value:function(e){var t=RT(this,e,!0),n=this.pa.map((function(e){return VT(e,t)})),r=new Yy(n);return new ek(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(xT),MT=function(e){S(n,e);var t=P(n);function n(e,r){var i;return w(this,n),(i=t.call(this,e)).Ia=r,i}return E(n,[{key:"_toFieldTransform",value:function(e){var t=new Jy(e.serializer,Vy(e.serializer,this.Ia));return new ek(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(xT);function FT(e,t,n,r){var i=e.ya(1,t,n);GT("Data must be an object, but it was:",i,r);var a=[],o=Tg.empty();Bm(r,(function(e,r){var s=HT(t,e,n);r=xt(r);var u=i.da(s);if(r instanceof DT)a.push(s);else{var c=VT(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Hm(a);return new TT(o,s,i.fieldTransforms)}function BT(e,t,n,r,i,a){var o=e.ya(1,t,n),s=[KT(t,r,n)],u=[i];if(a.length%2!=0)throw new hv(fv.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(KT(t,a[c])),u.push(a[c+1]);for(var l=[],f=Tg.empty(),h=s.length-1;h>=0;--h)if(!YT(l,s[h])){var d=s[h],p=u[h];p=xt(p);var v=o.da(d);if(p instanceof DT)l.push(d);else{var m=VT(p,v);null!=m&&(l.push(d),f.set(d,m))}}var g=new Hm(l);return new TT(f,g,o.fieldTransforms)}function UT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return VT(n,e.ya(r?4:3,t))}function VT(e,t){if(qT(e=xt(e)))return GT("Unsupported field value:",t,e),zT(e,t);if(e instanceof xT)return function(e,t){if(!ST(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=f(e);try{for(a.s();!(n=a.n()).done;){var o=VT(n.value,t.wa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=xt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Vy(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Sv.fromDate(e);return{timestampValue:Hk(t.serializer,n)}}if(e instanceof Sv){var r=new Sv(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Hk(t.serializer,r)}}if(e instanceof _T)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof bT)return{bytesValue:Qk(t.serializer,e._byteString)};if(e instanceof tT){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t._a("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Jk(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(YE(e)))}(e,t)}function zT(e,t){var n={};return Um(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Bm(e,(function(e,r){var i=VT(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function qT(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Sv||e instanceof _T||e instanceof bT||e instanceof tT||e instanceof xT)}function GT(e,t,n){if(!qT(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=YE(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function KT(e,t,n){if((t=xt(t))instanceof wT)return t._internalPath;if("string"==typeof t)return HT(e,t);throw QT("Field path arguments must be of type string or ",e,!1,void 0,n)}var WT=new RegExp("[~\\*/\\[\\]]");function HT(e,t,n){if(t.search(WT)>=0)throw QT("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return D(wT,b(t.split(".")))._internalPath}catch(r){throw QT("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function QT(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new hv(fv.INVALID_ARGUMENT,s+e+u)}function YT(e,t){return e.some((function(e){return e.isEqual(t)}))}var XT=function(){function e(t,n,r,i,a){w(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return E(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new tT(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new JT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field($T("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),JT=function(e){S(n,e);var t=P(n);function n(){return w(this,n),t.apply(this,arguments)}return E(n,[{key:"data",value:function(){return nr(N(n.prototype),"data",this).call(this)}}]),n}(XT);function $T(e,t){return"string"==typeof t?HT(e,t):t instanceof wT?t._internalPath:t._delegate._internalPath}function ZT(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new hv(fv.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var eS=E((function e(){w(this,e)})),tS=function(e){S(n,e);var t=P(n);function n(){return w(this,n),t.apply(this,arguments)}return E(n)}(eS);function nS(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof eS&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof iS})).length,n=e.filter((function(e){return e instanceof rS})).length;if(t>1||t>0&&n>0)throw new hv(fv.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=f(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var rS=function(e){S(n,e);var t=P(n);function n(e,r,i){var a;return w(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return E(n,[{key:"_apply",value:function(e){var t=this._parse(e);return mS(e._query,t),new nT(e.firestore,e.converter,my(e._query,t))}},{key:"_parse",value:function(e){var t=AT(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new hv(fv.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){vS(o,a);var u,c=[],l=f(o);try{for(l.s();!(u=l.n()).done;){var h=u.value;c.push(pS(r,e,h))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=pS(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||vS(o,a),s=UT(n,"where",o,"in"===a||"not-in"===a);return Og.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(tS);var iS=function(e){S(n,e);var t=P(n);function n(e,r){var i;return w(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return E(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Lg.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=f(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;mS(r,a),r=my(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new nT(e.firestore,e.converter,my(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(eS);var aS=function(e){S(n,e);var t=P(n);function n(e,r){var i;return w(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return E(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new hv(fv.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new hv(fv.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Dg(t,n);return function(e,t){if(null===fy(e)){var n=hy(e);null!==n&&gS(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new nT(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new sy(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(tS);var oS=function(e){S(n,e);var t=P(n);function n(e,r,i){var a;return w(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return E(n,[{key:"_apply",value:function(e){return new nT(e.firestore,e.converter,gy(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(tS);var sS=function(e){S(n,e);var t=P(n);function n(e,r,i){var a;return w(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return E(n,[{key:"_apply",value:function(e){var t=dS(e,this.type,this._docOrFields,this._inclusive);return new nT(e.firestore,e.converter,function(e,t){return new sy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(tS);function uS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return sS._create("startAt",t,!0)}function cS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return sS._create("startAfter",t,!1)}var lS=function(e){S(n,e);var t=P(n);function n(e,r,i){var a;return w(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return E(n,[{key:"_apply",value:function(e){var t=dS(e,this.type,this._docOrFields,this._inclusive);return new nT(e.firestore,e.converter,function(e,t){return new sy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(tS);function fS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return lS._create("endBefore",t,!1)}function hS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return lS._create("endAt",t,!0)}function dS(e,t,n,r){if(n[0]=xt(n[0]),n[0]instanceof XT)return function(e,t,n,r,i){if(!r)throw new hv(fv.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=f(py(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(pg(t,r.key));else{var c=r.data.field(u.field);if(eg(c))throw new hv(fv.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new hv(fv.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(h){s.e(h)}finally{s.f()}return new Cg(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=AT(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new hv(fv.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new hv(fv.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!dy(e)&&-1!==c.indexOf("/"))throw new hv(fv.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Av.fromString(c));if(!Rv.isDocumentKey(l))throw new hv(fv.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Rv(l);s.push(pg(t,f))}else{var h=UT(n,r,c);s.push(h)}}return new Cg(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function pS(e,t,n){if("string"==typeof(n=xt(n))){if(""===n)throw new hv(fv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dy(t)&&-1!==n.indexOf("/"))throw new hv(fv.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Av.fromString(n));if(!Rv.isDocumentKey(r))throw new hv(fv.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return pg(e,new Rv(r))}if(n instanceof tT)return pg(e,n._key);throw new hv(fv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(YE(n),"."))}function vS(e,t){if(!Array.isArray(e)||0===e.length)throw new hv(fv.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function mS(e,t){if(t.isInequality()){var n=hy(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new hv(fv.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=fy(e);null!==i&&gS(e,r,i)}var a=function(e,t){var n,r=f(e);try{for(r.s();!(n=r.n()).done;){var i,a=f(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new hv(fv.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new hv(fv.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function gS(e,t,n){if(!n.isEqual(t))throw new hv(fv.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var yS=function(){function e(){w(this,e)}return E(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(sg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $m(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw uv()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return Bm(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new _T($m(e.latitude),$m(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=tg(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ng(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Jm(e);return new Sv(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Av.fromString(e);cv(wb(n));var r=new ig(n.get(1),n.get(3)),i=new Rv(n.popFirst(5));return r.isEqual(t)||av("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function kS(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var bS=function(e){S(n,e);var t=P(n);function n(e){var r;return w(this,n),(r=t.call(this)).firestore=e,r}return E(n,[{key:"convertBytes",value:function(e){return new bT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new tT(this.firestore,null,t)}}]),n}(yS);var wS=function(){function e(t,n){w(this,e),this.hasPendingWrites=t,this.fromCache=n}return E(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),xS=function(e){S(n,e);var t=P(n);function n(e,r,i,a,o,s){var u;return w(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return E(n,[{key:"exists",value:function(){return nr(N(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new _S(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field($T("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(XT),_S=function(e){S(n,e);var t=P(n);function n(){return w(this,n),t.apply(this,arguments)}return E(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return nr(N(n.prototype),"data",this).call(this,e)}}]),n}(xS),IS=function(){function e(t,n,r,i){w(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new wS(i.hasPendingWrites,i.fromCache),this.query=r}return E(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new _S(n._firestore,n._userDataWriter,r.key,r,new wS(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new hv(fv.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new _S(e._firestore,e._userDataWriter,t.doc.key,t.doc,new wS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new _S(e._firestore,e._userDataWriter,t.doc.key,t.doc,new wS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:ES(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function ES(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return uv()}}function TS(e,t){return e instanceof xS&&t instanceof xS?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof IS&&t instanceof IS&&e._firestore===t._firestore&&sT(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var SS=function(e){S(n,e);var t=P(n);function n(e){var r;return w(this,n),(r=t.call(this)).firestore=e,r}return E(n,[{key:"convertBytes",value:function(e){return new bT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new tT(this.firestore,null,t)}}]),n}(yS);function NS(e){e=XE(e,tT);var t=XE(e.firestore,fT),n=hT(t),r=new SS(t);return function(e,t){var n=new dv;return e.asyncQueue.enqueueAndForget(Et(_t().mark((function r(){return _t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Et(_t().mark((function e(t,n,r){var i,a;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=lv(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new hv(fv.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Y_(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,OE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new xS(t,r,e._key,n,new wS(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function CS(e){e=XE(e,nT);var t=XE(e.firestore,fT),n=hT(t),r=new SS(t);return function(e,t){var n=new dv;return e.asyncQueue.enqueueAndForget(Et(_t().mark((function r(){return _t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Et(_t().mark((function e(t,n,r){var i,a,o,s,u;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ex(t,n,!0);case 3:i=e.sent,a=new vI(n,i.ir),o=a.sc(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=Y_(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,OE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new IS(t,r,e,n)}))}function AS(e,t,n){e=XE(e,tT);var r=XE(e.firestore,fT),i=kS(e.converter,t,n);return jS(r,[PT(AT(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,nk.none())])}function PS(e,t,n){e=XE(e,tT);for(var r=XE(e.firestore,fT),i=AT(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return jS(r,[("string"==typeof(t=xt(t))||t instanceof wT?BT(i,"updateDoc",e._key,t,n,o):FT(i,"updateDoc",e._key,t)).toMutation(e._key,nk.exists(!0))])}function DS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=xt(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||cT(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(cT(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof tT)l=XE(e.firestore,fT),f=cy(e._key.path),c={next:function(t){n[u]&&n[u](OS(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=XE(e,nT);l=XE(p.firestore,fT),f=p._query;var v=new SS(l);c={next:function(e){n[u]&&n[u](new IS(l,v,p,e))},error:n[u+1],complete:n[u+2]},ZT(e._query)}return function(e,t,n,r){var i=new bE(r),a=new uI(t,i,n);return e.asyncQueue.enqueueAndForget(Et(_t().mark((function t(){return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=tI,t.next=3,BE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Dc(),e.asyncQueue.enqueueAndForget(Et(_t().mark((function t(){return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=rI,t.next=3,BE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(hT(l),f,h,c)}function RS(e,t){return function(e,t){var n=new bE(t);return e.asyncQueue.enqueueAndForget(Et(_t().mark((function t(){return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){lv(e).ku.add(t),t.next()},t.next=3,BE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Dc(),e.asyncQueue.enqueueAndForget(Et(_t().mark((function t(){return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){lv(e).ku.delete(t)},t.next=3,BE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(hT(e=XE(e,fT)),cT(t)?t:{next:t})}function jS(e,t){return function(e,t){var n=new dv;return e.asyncQueue.enqueueAndForget(Et(_t().mark((function r(){return _t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=EI,r.next=3,ME(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(hT(e),t)}function OS(e,t,n){var r=n.docs.get(t._key),i=new SS(e);return new xS(e,i,t._key,r,new wS(n.hasPendingWrites,n.fromCache),t.converter)}var LS={maxAttempts:5},MS=function(){function e(t,n){w(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=AT(t)}return E(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=FS(e,this._firestore),i=kS(r.converter,t,n),a=PT(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,nk.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=FS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=xt(t))||t instanceof wT?BT(this._dataReader,"WriteBatch.update",i._key,t,n,o):FT(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,nk.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=FS(e,this._firestore);return this._mutations=this._mutations.concat(new gk(t._key,nk.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new hv(fv.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function FS(e,t){if((e=xt(e)).firestore!==t)throw new hv(fv.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var BS=function(e){S(n,e);var t=P(n);function n(e,r){var i;return w(this,n),(i=t.call(this,e,r))._firestore=e,i}return E(n,[{key:"get",value:function(e){var t=this,r=FS(e,this._firestore),i=new SS(this._firestore);return nr(N(n.prototype),"get",this).call(this,e).then((function(e){return new xS(t._firestore,i,r._key,e._document,new wS(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){w(this,e),this._firestore=t,this._transaction=n,this._dataReader=AT(t)}return E(e,[{key:"get",value:function(e){var t=this,n=FS(e,this._firestore),r=new bS(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return uv();var i=e[0];if(i.isFoundDocument())return new XT(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new XT(t._firestore,r,n._key,null,n.converter);throw uv()}))}},{key:"set",value:function(e,t,n){var r=FS(e,this._firestore),i=kS(r.converter,t,n),a=PT(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=FS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=xt(t))||t instanceof wT?BT(this._dataReader,"Transaction.update",i._key,t,n,o):FT(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=FS(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function US(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new OT("arrayUnion",t)}function VS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new LT("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){tv=e}(_n),mn(new Tt("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new fT(new gv(e.getProvider("auth-internal")),new wv(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new hv(fv.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ig(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Cn(Zp,"3.13.0",e),Cn(Zp,"3.13.0","esm2017")}();function zS(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new hv("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function qS(){if("undefined"===typeof Uint8Array)throw new hv("unimplemented","Uint8Arrays are not available in this environment.")}function GS(){if("undefined"==typeof atob)throw new hv("unimplemented","Blobs are unavailable in Firestore in this environment.")}var KS=function(){function e(t){w(this,e),this._delegate=t}return E(e,[{key:"toBase64",value:function(){return GS(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return qS(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return GS(),new e(bT.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return qS(),new e(bT.fromUint8Array(t))}}]),e}();function WS(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=f(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var HS=function(){function e(){w(this,e)}return E(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){kT(e=XE(e,fT));var n=hT(e);if(n._uninitializedComponentsProvider)throw new hv(fv.FAILED_PRECONDITION,"SDK cache is already specified.");ov("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new yE;return pT(n,i,new mE(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){kT(e=XE(e,fT));var t=hT(e);if(t._uninitializedComponentsProvider)throw new hv(fv.FAILED_PRECONDITION,"SDK cache is already specified.");ov("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new yE;return pT(t,r,new gE(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new hv(fv.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new dv;return e._queue.enqueueAndForgetEvenWhileRestricted(Et(_t().mark((function n(){return _t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Et(_t().mark((function e(t){var n;return _t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Yv.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Yv.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(lx(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),QS=function(){function e(t,n,r){var i=this;w(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof ig||(this._appCompat=t)}return E(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||ov("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};eT(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return vT(this._delegate)}},{key:"disableNetwork",value:function(){return mT(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&WE("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){var t=new dv;return e.asyncQueue.enqueueAndForget(Et(_t().mark((function n(){return _t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=LI,n.next=3,ME(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(hT(XE(this._delegate,fT)))}},{key:"onSnapshotsInSync",value:function(e){return RS(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new hv("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new uN(this,iT(this._delegate,e))}catch(t){throw eN(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new ZS(this,aT(this._delegate,e))}catch(t){throw eN(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new aN(this,function(e,t){if(e=XE(e,ZE),KE("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new hv(fv.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new nT(e,null,function(e){return new sy(Av.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw eN(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=XE(e,fT);var r=Object.assign(Object.assign({},LS),n);return function(e){if(e.maxAttempts<1)throw new hv(fv.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new dv;return e.asyncQueue.enqueueAndForget(Et(_t().mark((function i(){var a;return _t().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,FE(e);case 2:a=i.sent,new _E(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(hT(e),(function(n){return t(new BS(e,n))}),r)}(this._delegate,(function(n){return e(new XS(t,n))}))}},{key:"batch",value:function(){var e=this;return hT(this._delegate),new JS(new MS(this._delegate,(function(t){return jS(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return gT(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return yT(this._delegate,e).then((function(e){return e?new aN(t,e):null}))}}]),e}(),YS=function(e){S(n,e);var t=P(n);function n(e){var r;return w(this,n),(r=t.call(this)).firestore=e,r}return E(n,[{key:"convertBytes",value:function(e){return new KS(new bT(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return ZS.forKey(t,this.firestore,null)}}]),n}(yS);var XS=function(){function e(t,n){w(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new YS(t)}return E(e,[{key:"get",value:function(e){var t=this,n=cN(e);return this._delegate.get(n).then((function(e){return new rN(t._firestore,new xS(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=cN(e);return n?(zS("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=cN(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=cN(e);return this._delegate.delete(t),this}}]),e}(),JS=function(){function e(t){w(this,e),this._delegate=t}return E(e,[{key:"set",value:function(e,t,n){var r=cN(e);return n?(zS("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=cN(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=cN(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),$S=function(){function e(t,n,r){w(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return E(e,[{key:"fromFirestore",value:function(e,t){var n=new _S(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new iN(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new YS(t),n),i.set(n,a)),a}}]),e}();$S.INSTANCES=new WeakMap;var ZS=function(){function e(t,n){w(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new YS(t)}return E(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new uN(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new uN(this.firestore,iT(this._delegate,e))}catch(t){throw eN(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=xt(e))instanceof tT&&oT(this._delegate,e)}},{key:"set",value:function(e,t){t=zS("DocumentReference.set",t);try{return t?AS(this._delegate,e,t):AS(this._delegate,e)}catch(n){throw eN(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?PS(this._delegate,e):PS.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw eN(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return jS(XE((e=this._delegate).firestore,fT),[new gk(e._key,nk.none())]);var e}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=tN(n),a=nN(n,(function(t){return new rN(e.firestore,new xS(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return DS(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?NS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=XE(e,tT);var t=XE(e.firestore,fT);return VE(hT(t),e._key,{source:"server"}).then((function(n){return OS(t,e,n)}))}(this._delegate):function(e){e=XE(e,tT);var t=XE(e.firestore,fT);return VE(hT(t),e._key).then((function(n){return OS(t,e,n)}))}(this._delegate)).then((function(e){return new rN(t.firestore,new xS(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter($S.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new hv("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new tT(n._delegate,r,new Rv(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new tT(n._delegate,r,t))}}]),e}();function eN(e,t,n){return e.message=e.message.replace(t,n),e}function tN(e){var t,n=f(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!WS(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function nN(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=WS(e[0])?e[0]:WS(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var rN=function(){function e(t,n){w(this,e),this._firestore=t,this._delegate=n}return E(e,[{key:"ref",get:function(){return new ZS(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return TS(this._delegate,e._delegate)}}]),e}(),iN=function(e){S(n,e);var t=P(n);function n(){return w(this,n),t.apply(this,arguments)}return E(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return void 0!==t||uv(),t}}]),n}(rN),aN=function(){function e(t,n){w(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new YS(t)}return E(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,nS(this._delegate,function(e,t,n){var r=t,i=$T("where",e);return rS._create(i,r,n)}(t,n,r)))}catch(i){throw eN(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,nS(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=$T("orderBy",e);return aS._create(n,t)}(t,n)))}catch(r){throw eN(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,nS(this._delegate,(JE("limit",n=t),oS._create("limit",n,"F"))))}catch(r){throw eN(r,"limit()","Query.limit()")}var n}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,nS(this._delegate,(JE("limitToLast",n=t),oS._create("limitToLast",n,"L"))))}catch(r){throw eN(r,"limitToLast()","Query.limitToLast()")}var n}},{key:"startAt",value:function(){try{return new e(this.firestore,nS(this._delegate,uS.apply(void 0,arguments)))}catch(t){throw eN(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,nS(this._delegate,cS.apply(void 0,arguments)))}catch(t){throw eN(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,nS(this._delegate,fS.apply(void 0,arguments)))}catch(t){throw eN(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,nS(this._delegate,hS.apply(void 0,arguments)))}catch(t){throw eN(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return sT(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?CS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=XE(e,nT);var t=XE(e.firestore,fT),n=hT(t),r=new SS(t);return zE(n,e._query,{source:"server"}).then((function(n){return new IS(t,r,e,n)}))}(this._delegate):function(e){e=XE(e,nT);var t=XE(e.firestore,fT),n=hT(t),r=new SS(t);return ZT(e._query),zE(n,e._query).then((function(n){return new IS(t,r,e,n)}))}(this._delegate)).then((function(e){return new sN(t.firestore,new IS(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=tN(n),a=nN(n,(function(t){return new sN(e.firestore,new IS(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return DS(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter($S.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),oN=function(){function e(t,n){w(this,e),this._firestore=t,this._delegate=n}return E(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new iN(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),sN=function(){function e(t,n){w(this,e),this._firestore=t,this._delegate=n}return E(e,[{key:"query",get:function(){return new aN(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new iN(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new oN(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new iN(n._firestore,r))}))}},{key:"isEqual",value:function(e){return TS(this._delegate,e._delegate)}}]),e}(),uN=function(e){S(n,e);var t=P(n);function n(e,r){var i;return w(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return E(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new ZS(this.firestore,e):null}},{key:"doc",value:function(e){try{return new ZS(this.firestore,void 0===e?aT(this._delegate):aT(this._delegate,e))}catch(t){throw eN(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=XE(e.firestore,fT),r=aT(e),i=kS(e.converter,t);return jS(n,[PT(AT(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,nk.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new ZS(t.firestore,e)}))}},{key:"isEqual",value:function(e){return oT(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter($S.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(aN);function cN(e){return XE(e,tT)}var lN=function(){function e(){w(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=D(wT,n)}return E(e,[{key:"isEqual",value:function(e){return(e=xt(e))instanceof wT&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Dv.keyField().canonicalString())}}]),e}(),fN=function(){function e(t){w(this,e),this._delegate=t}return E(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new jT("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new DT("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=US.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=VS.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new MT("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),hN={Firestore:QS,GeoPoint:_T,Timestamp:Sv,Blob:KS,Transaction:XS,WriteBatch:JS,DocumentReference:ZS,DocumentSnapshot:rN,Query:aN,QueryDocumentSnapshot:iN,QuerySnapshot:sN,CollectionReference:uN,FieldPath:lN,FieldValue:fN,setLogLevel:function(e){var t;t=e,nv.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Tt("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},hN)))}(e,(function(e,t){return new QS(e,t,new HS)})),e.registerVersion("@firebase/firestore-compat","0.3.12")}(tr);var dN=function(){tr.initializeApp({apiKey:"AIzaSyCcPN5IiEcM2ch-QELu33aa8GteM1IrV2k",authDomain:"thkokasaivote-2.firebaseapp.com",projectId:"thkokasaivote-2",storageBucket:"thkokasaivote-2.appspot.com",messagingSenderId:"670433461652",appId:"1:670433461652:web:ab11aab773c1ec3bd1bb81"});var e=tr.firestore(),n="",r=!1,i=!1,s=Date.now(),u=1e3,c=new URLSearchParams(Ie().search),l=parseInt(c.get("grd")),f=parseInt(c.get("cls"));function h(e){var t=document.getElementById("niceImage");t.style.animationName="niceOutAnimation",setTimeout((function(){t.src=e,t.style.opacity="50%",t.style.animationName="niceInAnimation",d()}),200),setTimeout((function(){t.style.opacity="100%"}),u)}function d(){e.collection(l+"-"+f).get().then((function(e){var t=!1;e.forEach((function(e){e.id==n&&(t=!0)}));var r=document.getElementById("niceButton"),a=document.getElementById("niceImage");t?(r.checked=!0,a.src="".concat("","/img/utility/heart2.png")):(r.checked=!1,a.src="".concat("","/img/utility/heart1.png")),r.classList.remove("invisible"),a.style.opacity="50%",setTimeout((function(){console.log(i),i&&(a.style.opacity="100%")}),u),document.getElementById("numberOfLikes").innerText=e.docs.length}))}return null==l&&(l=1),null==f&&(f=1),0==l&&(l=1),0==f&&(f=1),void 0==y[l]&&(l=1,f=1),void 0==y[l][f]&&(l=1,f=1),(0,t.useEffect)((function(){(document.getElementById("groupName").innerHTML=y[l][f].groupName,document.getElementById("projectName").innerHTML=y[l][f].projectName,document.getElementById("description").innerHTML=y[l][f].description,document.getElementById("projectImage").src=y[l][f].imgPath,function(e,t,n){var r=["#0000ff","#ffa500","#ff0000","#ffff00","#008000"];e.style.backgroundColor=1<=t&&t<=5?r[n-1]:6<=t&&t<=8?"#00ffff":9<=t&&t<=10?"#ffc0cb":11<=t&&t<=12?"#00ff00":13==t?"#8a2be2":"#696969"}(document.getElementById("titleMark"),l,f),"0"==y[l][f].mapType)&&document.getElementById("toMapButton").classList.add("invisible")}),[]),tr.auth().signInAnonymously().then((function(){console.log("signed in")})).catch((function(e){e.code;var t=e.message;console.log(t)})),tr.auth().onAuthStateChanged((function(e){if(r=e,e){n=e.uid;var t=e.metadata.creationTime,a=new Date(t).getTime(),o=Date.now()-a;console.log(o),o>500&&(i=!0),console.log(i)}else console.log("signed out");d()})),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("img",{src:"".concat("","/img/backGround/space.jpg"),className:"backGroundImage responsiveWidth"}),(0,o.jsx)("div",{id:"contents",className:"contents contents_spaceSmoke",children:(0,o.jsxs)("div",{className:"contents_innerBlock",children:[(0,o.jsx)("br",{}),(0,o.jsx)("button",{className:"backButton",onClick:function(){var e=a.project.path+"?grd="+l;window.location.assign(e)},children:"\u25c0back"}),(0,o.jsxs)("div",{className:"imageTitleArea",children:[(0,o.jsxs)("div",{className:"titleArea",children:[(0,o.jsx)("div",{id:"titleMark",className:"titleMark"}),(0,o.jsx)("p",{id:"groupName",className:"groupNameText"}),(0,o.jsx)("p",{id:"projectName",className:"projectNameText"})]}),(0,o.jsxs)("div",{className:"imageArea",children:[(0,o.jsx)("input",{type:"image",className:"leftButton",src:"".concat("","/img/utility/leftArrow.png"),onClick:function(){var e=1,t=1;1==f?1==l?(e=y.length-1,t=y[e].length-1):t=y[e=l-1].length-1:(e=l,t=f-1),window.location.assign(a.projectDetail.path+"?grd="+e+"&cls="+t)}}),(0,o.jsx)("input",{type:"image",className:"rightButton",src:"".concat("","/img/utility/rightArrow.png"),onClick:function(){var e=1,t=1;f==y[l].length-1?l==y.length-1?(e=1,t=1):(e=l+1,t=1):(e=l,t=f+1),window.location.assign(a.projectDetail.path+"?grd="+e+"&cls="+t)}}),(0,o.jsx)("img",{id:"projectImage",className:"projectImage"})]})]}),(0,o.jsxs)("div",{className:"niceArea",children:[(0,o.jsx)("div",{id:"numberOfLikes",className:"numberOfLikes"}),(0,o.jsx)("input",{id:"niceButton",className:"niceButton invisible",type:"checkbox",onClick:function(){if(i){var t=Date.now();if(t-s>u)document.getElementById("niceButton").checked?function(t){var i=e.collection(t);r?i.doc(n).set({time:tr.firestore.FieldValue.serverTimestamp()}):console.log("send failed"),h("".concat("","/img/utility/heart2.png"))}(l+"-"+f):(a=l+"-"+f,e.collection(a).doc(n).delete().then((function(){console.log("Document successfully deleted!")})).catch((function(e){console.error("Error removing document: ",e)})),h("".concat("","/img/utility/heart1.png"))),s=t}var a}}),(0,o.jsx)("div",{className:"niceImageArea",children:(0,o.jsx)("label",{for:"niceButton",children:(0,o.jsx)("img",{id:"niceImage",className:"niceImage"})})})]}),(0,o.jsxs)("div",{className:"descriptionArea",children:[(0,o.jsx)("p",{id:"description",className:"description"}),(0,o.jsx)("button",{id:"toMapButton",className:"toMapButton",onClick:function(){window.location.assign(a.map.path+"?grd="+l+"&cls="+f)},children:">>\u30de\u30c3\u30d7\u3067\u5834\u6240\u3092\u78ba\u8a8d"})]}),(0,o.jsxs)("div",{className:"cautionArea",children:[(0,o.jsx)("p",{className:"heading3",children:"\u3044\u3044\u306d\u6a5f\u80fd\u306b\u3064\u3044\u3066"}),(0,o.jsxs)("ul",{className:"projectDetail_ul",children:[(0,o.jsx)("li",{children:(0,o.jsx)("p",{children:"\u30b5\u30fc\u30af\u30eb\u30ab\u30c3\u30c8\u306e\u4e0b\u306b\u3042\u308b\u30cf\u30fc\u30c8\u306e\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3053\u3068\u3067\u3001\u305d\u306e\u4f01\u753b\u306b\u3044\u3044\u306d\u3092\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002"})}),(0,o.jsx)("li",{children:(0,o.jsx)("p",{children:"\u5de5\u83ef\u796d\u7d42\u4e86\u6642\u306e\u3001\u5404\u4f01\u753b\u306e\u3044\u3044\u306d\u306e\u6570\u306b\u3088\u3063\u3066\u30e9\u30f3\u30ad\u30f3\u30b0\u304c\u6c7a\u5b9a\u3057\u307e\u3059\u3002\u3075\u308b\u3063\u3066\u6295\u7968\u306b\u3054\u53c2\u52a0\u304f\u3060\u3055\u3044\u3002"})})]})]}),(0,o.jsx)("br",{})]})})]})};var pN=function(){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"backGroundImage responsiveWidth",children:[(0,o.jsx)("img",{src:"".concat("","/img/poster/kokasaiPoster.jpg"),className:"kokasaiPoster_noAnimation"}),(0,o.jsx)("img",{src:"".concat("","/img/poster/kokasaiPoster.jpg"),className:"kokasaiPoster_mirror"})]}),(0,o.jsx)("div",{className:"posterArea_noPosterText"}),(0,o.jsxs)("div",{className:"contents contents_whitesmoke noPosterText",children:[(0,o.jsxs)("div",{className:"contents_innerBlock apologize_center",children:[(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)("p",{children:"\u304a\u63a2\u3057\u306e\u30da\u30fc\u30b8\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093"}),(0,o.jsx)("p",{children:(0,o.jsx)("a",{href:a.home.path,children:"\u30db\u30fc\u30e0\u306b\u623b\u308b"})}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{})]}),(0,o.jsx)("br",{})]})]})};new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var vN=r.startTransition;function mN(e){var n,r=e.basename,i=e.children,a=e.future,o=e.window,s=t.useRef();null==s.current&&(s.current=(void 0===(n={window:o,v5Compat:!0})&&(n={}),H((function(e,t){var n=e.location;return G("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:K(t)}),null,n)));var u=s.current,c=L(t.useState({action:u.action,location:u.location}),2),l=c[0],f=c[1],h=(a||{}).v7_startTransition,d=t.useCallback((function(e){h&&vN?vN((function(){return f(e)})):f(e)}),[f,h]);return t.useLayoutEffect((function(){return u.listen(d)}),[u,d]),t.createElement(Me,{basename:r,children:i,location:l.location,navigationType:l.action,navigator:u})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var gN,yN;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(gN||(gN={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(yN||(yN={}));var kN=function(){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"webBackGround"}),(0,o.jsxs)("div",{className:"mainBackGround responsiveWidth",children:[(0,o.jsx)(mN,{children:(0,o.jsxs)(Fe,{children:[(0,o.jsx)(Le,{exact:!0,path:a.access.path,element:(0,o.jsx)(d,{})}),(0,o.jsx)(Le,{exact:!0,path:a.event.path,element:(0,o.jsx)(v,{})}),(0,o.jsx)(Le,{exact:!0,path:a.home.path,element:(0,o.jsx)(g,{})}),(0,o.jsx)(Le,{exact:!0,path:a.map.path,element:(0,o.jsx)(Ve,{})}),(0,o.jsx)(Le,{exact:!0,path:a.project.path,element:(0,o.jsx)(ze,{})}),(0,o.jsx)(Le,{exact:!0,path:a.credit.path,element:(0,o.jsx)(qe,{})}),(0,o.jsx)(Le,{exact:!0,path:a.inquiry.path,element:(0,o.jsx)(Ge,{})}),(0,o.jsx)(Le,{exact:!0,path:a.apologize.path,element:(0,o.jsx)(Ke,{})}),(0,o.jsx)(Le,{exact:!0,path:a.projectDetail.path,element:(0,o.jsx)(dN,{})}),(0,o.jsx)(Le,{exact:!0,path:a.page404.path,element:(0,o.jsx)(pN,{})})]})}),(0,o.jsx)(s,{}),(0,o.jsx)(u,{})]})]})},bN=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,o.jsx)(t.StrictMode,{children:(0,o.jsx)(kN,{})})),bN()}()}();
//# sourceMappingURL=main.27c467c2.js.map